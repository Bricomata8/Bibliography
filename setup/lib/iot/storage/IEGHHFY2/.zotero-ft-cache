Localization Error Analysis of Indoor Positioning
System Based on UWB Measurements
Alwin Poulose1, Odongo Steven Eyobu2, Myeongjin Kim3 and Dong Seog Han1* 1School of Electronics Engineering, Kyungpook National University, Daegu, Republic of Korea
2School of Computing & Informatics Technology, Makerere University, Kampala, Uganda 3Samsung Electronics Co., Ltd
alwinpoulosepalatty@knu.ac.kr1, dshan@knu.ac.kr1*, sodongo@cis.mak.ac.ug2, mj1108.kim@samsung.com3

Abstract—Ultra wide band (UWB) systems use time information instead of the popular received signal strength indication (RSSI). UWB is known for its high position accuracy in localization. RSSI-based localization is easily aﬀected by signal attenuation and has a poor localization accuracy as compared to the time of arrival (TOA) technique. In this paper, different localization algorithms for the UWB system were analytically reviewed. The performance of the localization algorithms is discussed in terms of root mean square and cumulative distribution function of localization errors. The experiment results demonstrate the eﬀectiveness of diﬀerent localization algorithms for UWB indoor positioning. The ﬁngerprint estimation algorithm shows better performance compared to linearized least square estimation and weighted centroid estimation algorithms. The experimental results show that the linearized least square algorithm has poor performance for UWB indoor localization.
Index Terms—Indoor localization, ultra wide band, least square estimation, ﬁngerprint estimation, weighted centroid estimation.
I. Introduction
Indoor localization is challenging particularly when the global positioning system (GPS) [1] or base transceiver station (BTS) [2] is not useful for positioning. The existing indoor positioning systems are ultra-wideband (UWB) [3][7], radio frequency identiﬁcation (RFID) [8], Bluetooth [9], Zig bee [10], pedestrian dead reckoning (PDR) [11], visible light communication (VLC) [12] and WiFi systems [13]. Among these technologies, ultra-wideband (UWB) has been widely used for indoor localization. UWB is an attractive research area for indoor positioning and the results from UWB are more accurate as compared to other technologies. In UWB, short pulses are transmitted over a large bandwidth in the frequency range from 3.1 to 10.6 GHz, using a very low duty cycle. This technology has less power consumption as compared to other systems. The maximum range of this technology is 10-20 m [14]. The UWB technology has many advantages in terms of interference and accuracy. UWB signals can easily penetrate the indoor materials and the short duration of UWB pulses make them less sensitive to multipath eﬀects. However, the UWB system has many disadvantages such as high cost,

short-range communication and it requires extra hardware on diﬀerent user devices. In this paper, we analyze the performance of the UWB indoor system in terms of localization accuracy. We consider the line-of-sight (LOS) and non-line-of-sight (NLOS) UWB systems and estimate the localization errors. For estimating the position, we use the linearized least square estimation (LLSE), ﬁngerprint estimation (FPE), and weighted centroid estimation (WCE) algorithms and analyze the performance of each algorithm in LOS and NLOS conditions.
II. Model for UWB Indoor localization A model for indoor localization using UWB measurements [15] is shown in Fig. 1. The model consists of reference nodes (RNs), a blind node, and system controller. The reference nodes are mounted in ﬁxed positions with known coordinates and the blind node (BN) is used to measure the time of arrival (TOA) between BN and RNs. The distances are estimated using the TOA-distance model as indicated in the ﬁgure. The distances are combined as the measurement signal and sent to the system controller. In the system controller, we use LLSE, FPE, and WCE algorithms for position estimation.
Fig. 1: Localization system using UWB-based measurements.
A. Linearized Least Square Estimation (LLSE) The simplest localization algorithm used in UWB indoor
localization is the LLSE algorithm. In this method, the position is estimated by minimizing the squared discrepancies between observed data [16]. The distance between the

978-1-7281-1340-1/19/$31.00 ©2019 IEEE

84

ICUFN 2019

tag and the ith anchor is expressed from their coordinates as follows [17]

di = p − pi = (xp − xi)2 + (yp − yi)2

(1)

where p = (xp, yp) is the tag position and pi = (xi, yi) is the ith anchor position. Squaring and simplifying (1) then

di2 = (xp − xi)2 + (yp − yi)2

(2)

di2 = xi2 + xp2 − 2xixp + yi2 + yp2 − 2yiyp (3)

When we consider a reference point N , then (3) can be rewritten as

dN 2 = xN 2 + xp2 − 2xN xp + yN 2 + yp2 − 2yN yp (4)

Subtracting (4) from (3), then the equation can be expressed as

d2i − d2N + x2N + yN2 − x2i − yi2 = 2(xN − xi)xp + 2(yN − yi)yp (5)

From (5), a compact expression is shown in the matrix

form as

b = Ap

(6)

where p is a 1 × 2 matrix, b is an N × 1, and A is an N × 2 matrix and are given by (7), (8), and (9).

 b = 

p=

x y

d21 − x21 − y12 − d2N + x2N + yN2 d22 − x22 − y22 − d2N + x2N + yN2
.
.

(7)   (8)

d2N−1 − x2N−1 − yN2 −1 − d2N + x2N + yN2





x1 − xN

y1 − yN

A = 2 

x2 − xN . .

y2 − yN . .



(9)

xN−1 − xN yN−1 − yN

If A is a square matrix, then the estimated position of the tag is expressed as

pˆ = A−1b

(10)

Otherwise, pseudo-inverse is used to compute the estimated position as [18]

pˆ = AT A AT b

(11)

B. Fingerprint Estimation (FPE)
The most popular localization algorithm for UWB indoor localization is the ﬁngerprint estimation. In this method, we create a ﬁngerprint map of distances of anchors and tag and estimate the position of tag by comparing the current tag distance with ﬁngerprint database. In this method, we divide the experiment area into grid points and estimate the tag distance from each anchor for ﬁngerprint database. This process is called oﬄine phase.

After creating the ﬁngerprint database, do the experiment again and collect the tag distance from each anchor and this stage is called online phase. The distance data in the online phase are compared to the oﬄine phase and estimate the Euclidian distance. The smallest Euclidian distance is estimated as the real position of the tag. The stored measurements in the ﬁngerprint maps are denoted as f j, the grid points are pj, and the number of measurements are M , then we have

f j = [f1j, f2j, . . . .., fMj ]

(12)

The distance data from the tag to anchors can be ex-

pressed as

d = [d1, d1, . . . .., dM ]

(13)

The position of tag is estimated by comparing the measured distance with ﬁngerprint database. The comparing vector at position j is expressed as [19]

γj = d − fj

(14)

The smallest distance from the above vector matrix is the estimated position of the tag and it is formulated as

jmin = arg min γj

(15)

The tag position is estimated as

pjmin =

xjmin yjmin

(16)

C. Weighted Centroid Estimation (WCE)

In this method, the positions from the anchors and the appropriate weights between the tag and each anchor are used for estimating the tag position. As compared to other localization methods, WCE is a range free method and it does not require ranging information for estimating the tag position. The position of tag is estimated by the centroid estimation approach and the centroid of the anchors is expressed as

x y

=

X1 +X2 +...+XNa Y1 +Y2 +N.a..+YNa
Na

(17)

where x and y are the estimated tag coordinates, Xi and

Yi, i = 1, 2, . . . , Na are the coordinates of the ith anchor,

and Na is the number of anchors. The tag position is

expressed as

x y

 = 

X1 d1

+

X2 d2

+

X3 d3

....+

XNa dNa

1 d1

+

1 d2

+

1 d3

....+

1 dNa

Y1 d1

+

Y2 d2

+

Y3 d3

....+

YNa dNa

 

1 d1

+

1 d2

+

1 d3

....+

1 dNa

(18)

III. EXPERIMENTS AND RESULT ANALYSIS

For the performance analysis of diﬀerent localization algorithms for UWB systems, we ﬁrst create a 2-dimensional simple area, 100 × 100 m area, and then add the positions of the three anchors. Next, we create a channel model for the system and data for transmission. The Euclidian

85

Fig. 2: Trajectories of true position, UWB position estimation for LOS condition. (a) LLSE. (b) FPE. (c) WCE.

Fig. 3: Localization errors for LOS condition. (a) LLSE. (b) FPE. (c) WCE.

distance between the tag and each anchor is used for data creation and Gaussian noise for both LOS and NLOS condition is added to the system. In the LOS condition the mean value of Gaussian noise is to be zero and for NLOS condition it is to be a non-zero value. The received signals are processed by LLSE, FPE, WCE, localization algorithms to obtain the estimated locations of the tag. The experimental results in LOS condition are shown in Fig. 2.
Fig. 2. illustrates the estimated positions of tag in UWB localization. The blue marks indicate the estimated tag position and the red line is the true position. The FPE algorithm shows better performance as compared to LLSE and WCE. However, the computational time and complexity of FPE is high as compared to other estimation methods. In the ﬁgure, some small regions where the estimation errors are relatively high. These regions indicate that the estimated tag positions do not depend on the localization algorithms. These regions of high localization errors are due to the interference in the UWB system. The localization errors for LOS condition is shown in Fig. 3.
From the Fig. 3 the LLSE algorithm has the maximum RMSE as compared to FPE and WCE. However, the y position errors for the LLSE algorithm are less aﬀected to the distortion as compared to other algorithms y position errors. Fig. 4 shows the cumulative distribution function of localization errors.

Fig. 4: CDF plots of LLSE, FPE and WCE localization algorithms for LOS condition.
From the LOS CDF plots, it can be seen that the FPE and WCE show similar localization error as compared to LLSE. When the experiment starts FPE algorithm shows better results as compared to other methods and when experiment time increases LLSE algorithm shows better results as compared to FPE and WCE. The performance of the localization algorithms for LOS condition is shown in TABLE I.

86

Fig. 5: Trajectories of true position, UWB position estimation for NLOS condition. (a) LLSE. (b) FPE. (c) WCE.

Fig. 6: Localization errors for NLOS condition. (a) LLSE. (b) FPE. (c) WCE.

TABLE I: Performance of the localization algorithms for LOS condition.

Localization method
LLSE FPE WCE

Mean error (m)
0.7491 0.7273 0.7009

Max. error (m)
1.0101 0.83 0.96

Min. error (m)
0.0017 0.0053 0.001

Average computation time (s)
1.5136 1.4649 1.4578

shown in Fig. 7.

From TABLE I, it is clear that the FPE algorithm shows high position accuracy as compared to LLSE and WCE algorithms. However, FPE needs prior knowledge of experiment area and also man power for ﬁngerprint data collection. When the experiment setup changes, FPE needs to update the ﬁngerprint database.
The position estimation for NLOS condition is shown in Fig. 5. From Fig. 5, it is clear that the FPE algorithm gives high position accuracy in NLOS conditions as compared to LLSE and WCE. Fig. 6 shows the localization errors for NLOS conditions.
From Fig. 6, it can be seen that the LLSE algorithm has a highest RMSE as compared to other localization algorithms. The localization error for 40 s to 60 s for FPE is less aﬀected the distortion as compared to WCE error results. Among these localization algorithms, FPE algorithm is the best algorithm for position estimation for UWB indoor localization. The CDF plots of LLSE, FPE and WCE localization algorithms for NLOS conditions is

Fig. 7: CDF plots of LLSE, FPE and WCE localization algorithms for NLOS conditions.
From NLOS CDF plots, the FPE algorithm shows high position accuracy when the experiment starts. The position accuracy of FPE algorithm reduces when experiment time increases. The performance of the localization algorithms for NLOS condition is shown in TABLE II.

87

TABLE II: Performance of the localization algorithms for NLOS condition.

Localization method
LLSE FPE WCE

Mean error (m)
0.7855 0.7827 0.7327

Max. error (m)
1.83 1.68 1.78

Min. error (m)
0.0097 0.0011 0.0101

Average computation time (s)
1.5530 1.4906 1.4765

IV. Conclusion
This paper analyzed the performance of diﬀerent localization algorithms for UWB indoor localization. FPE algorithm shows better performance for LOS and NLOS conditions. However, the computational time and complexity of FPE is high as compared to LLSE and WCE. The position accuracy depends on the experiment time. When the experiment time increases the FPE algorithm gives poor performance as compared to LLSE. The LLSE algorithm shows high position accuracy when the experiment time increases. At some points of the experiment, the FPE and WCE show the same performance as compared to LLSE.
Acknowledgment
This work was supported by Institute for Information and Communication Technology Planning & Evaluation (IITP) grand funded by the Korea government (MSIT, R7124-16-0004, Development of Intelligent Interaction Technology Based on Context Awareness and Human Intention Understanding) and Samsung Electronics under the MIMO system architecture and algorithm development for 60 GHz band next generation WLAN project.

[9] Y. Zhuang, J. Yang, Y. Li, L. Qi, and N. El-Sheimy, “Smartphone-based indoor localization with bluetooth low energy beacons," Sensors, vol. 16, p. 596, 2016.
[10] M. Uradzinski, H. Guo, X. Liu, and M. Yu, “Advanced indoor positioning using Zigbee wireless technology," Wireless Personal Communications, vol. 97, pp. 6509-6518, 2017.
[11] A. Poulose, O. S. Eyobu, and D. S. Han, “An Indoor PositionEstimation Algorithm Using Smartphone IMU Sensor Data," IEEE Access, vol. 7, pp. 11165-11177, 2019.
[12] X. Guo, S. Shao, N. Ansari, and A. Khreishah, “Indoor localization using visible light via fusion of multiple classiﬁers," IEEE Photonics Journal, vol. 9, pp. 1-16, 2017.
[13] Y. Zhuang, Z. Syed, J. Georgy, and N. El-Sheimy, “Autonomous smartphone-based WiFi positioning system by using access points localization and crowdsourcing," Perv. Mob. Comput., vol. 18, pp. 118-136, Apr. 2015.
[14] F. Zafari, A. Gkelias, and K. Leung, “A survey of indoor localization systems and technologies,” arXiv preprint arXiv:1709.01015, 2017.
[15] Y. Xu, Y. S. Shmaliy, Y. Li, and X. Chen, “UWB-based indoor human localization with time-delayed data using EFIR ﬁltering," IEEE Access, vol. 5, pp. 16676-16683, 2017.
[16] S. A. Van De Geer, “Least squares estimation,” Encyclopedia of statistics in behavioral science, 2005.
[17] T. Sookyoi, “Experimental analysis of indoor positioning system based on ultra-wideband measurements,” Dissertation, 2016.
[18] J. J. Caﬀery, “A new approach to the geometry of TOA location,” in IEEE VTS Fall VTC2000, 2000, pp. 1943-1949.
[19] M. Stella, M. Russo, and D. Begušić, “Fingerprinting based localization in heterogeneous wireless networks,” Expert systems with Applications, vol. 41, pp. 6738-6747, 2014.
[20] J. Zhao, Q. Zhao, Z. Li, and Y. Liu, “An improved Weighted Centroid Localization algorithm based on diﬀerence of estimated distances for Wireless Sensor Networks,” Telecommunication Systems, vol. 53, pp. 25-31, 2013.

References
[1] R. Xu, W. Chen, Y. Xu, and S. Ji, “A new indoor positioning system architecture using GPS signals,” Sensors, vol. 15, no.5, pp. 10074-10087, 2015.
[2] A. Varshavsky, E. De Lara, J. Hightower, A. LaMarca, and V. Otsason, “GSM indoor localization," Pervasive Mobile Comput., vol. 3, no. 6, pp. 698-720, 2007.
[3] Y. Zhou, C. L. Law, Y. L. Guan, and F. Chin, “Indoor elliptical localization based on asynchronous UWB range measurement," IEEE Trans. Instrum. Meas., vol. 60, pp. 248-257, 2011.
[4] A. R. Jiménez and F. Seco, “Comparing Decawave and Bespoon UWB location systems: Indoor/outdoor performance analysis," in Proc. Int. Conf. Indoor Positioning Indoor Navigat. (IPIN), Oct. 2016, pp. 1-18.
[5] A. Alariﬁ, A. Al-Salman, M. Alsaleh, A. Alnafessah, S. AlHadhrami, M. Al-Ammar, et al., “Ultra wideband indoor positioning technologies: Analysis and recent advances," Sensors, vol. 16, p. 707, 2016.
[6] S. Alhadhrami, A. Al-Salman, H. Al-Khalifa, A. Alariﬁ, A. Alnafessah, M. Alsaleh, et al., “Ultra wideband positioning: An analytical study of emerging technologies," in Proc. Int. Conf. Sensor Technologies and Applications (SENSORCOMM), 2014, pp. 1-9.
[7] J. Yang and M. Yan, “Implementation of UWB indoor location and distance measurement based on TOF algorithm," in MATEC Web of Conferences, 2018, p. 03018.
[8] S. S. Saab and Z. S. Nakad, “A standalone RFID indoor positioning system using passive tags," IEEE Trans. Ind. Electron., vol. 58, no. 5, pp. 1961-1970, May 2011.

88

