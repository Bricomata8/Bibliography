Mobility Management in the 5G Network between Various Access Networks

Young-il Choi
Network Research Division, ETRI 161 Kajong-Dong, Yusong-Gu, Daejeon, Korea yichoi@etri.re.kr

Jae Ho Kim
Network Research Division, ETRI 161 Kajong-Dong, Yusong-Gu, Daejeon, Korea rdins@etri.re.kr

Chang Ki Kim
Network Research Division, ETRI 161 Kajong-Dong, Yusong-Gu, Daejeon, Korea ckkim1@etri.re.kr

Abstract —The 5G network, which aims to commercialize in 2020, is differentiating in terms of data transmission speed, latency, and capacity of terminals on the network compared with the 4G network. One of the major design concepts for the 5G network is to accommodate various multiple access networks with the core network, and to provide seamless mobility service. In this paper, we present the concept of Multiple Access Protocol Data Unit (MAPDU) session to control large data transmission in 5G network, and propose a dynamic anchoring mobility management between different access networks.
Keywords—dynamic anchoring, mobility management, 5G network
I. INTRODUCTION The 5G network, which aims to commercialize in 2020, differs from the 4G network in terms of data transmission speed, latency, and capacity of terminals on the network. In addition, the 5G network is expected to play a role not only as an infrastructure for mobile communication services, but also as a base for future industries [1].
Fig. 1. Enhancement of key capabilities from 4G to 5G
The 5G network aims to achieve data rates of up to 20Gbps, which is 20 times faster than the 4G network with a maximum of 1 Gbps [2]. However, the actual data transmission speed that 5G mobile service users can experience is aimed at 100Mbps. This raises concerns about whether it will be possible to handle

contents that require large amounts of data, such as virtual reality or holograms. To solve this problem, one of the major design concepts for the 5G network is to accommodate various multiple access networks with the core network. This allows users to enjoy immersive contents that they had not previously experienced through the 5G network. For this purpose, there is a need for a control method capable of transmitting a large amount of data by simultaneously using various kinds of access networks constituting the 5G network [6].
Another of the main design concepts for 5G network is to have a distributed control structure to prevent centralization of data traffic. The 4G network has a hierarchical structure in which several S-GWs are connected to a P-GW where an IP address is anchored and several base stations are connected to the S-GW. Therefore, in order to use the Internet service, the data traffic is concentrated in the P-GW, resulting in inefficient data paths. In the 5G network, the GW that anchoring the IP address is distributed close to the access networks to support a large amount of data traffic. In order to support such distributed structure, mobility control for data traffic between anchoring GWs is required. While the user terminal moves in the 5G network and concurrently attaches to the 3GPP and the Non3GPP Access networks, and when the data packet transmitted to the 3GPP Access network is path switched to the Non-3GPP Access network, there may arise a problem that order of the packets is not guaranteed because of the transmission delay difference on the paths in the various access networks.
In this paper, we present the concept of MA-PDU (Multi Access PDU) session to control large data transmission in 5G network, and propose mobility control method to guarantee continuous data transmission between multiple access networks. The remainder of this paper is organized as follows. In Section 2, related research trends on mobility control are explained. Section 3 describes the structure of 5G network, which is being standardized in 3GPP. In Section 4, a dynamic anchoring mobility management with the End Marker is presented to ensure seamless data transmission between 5G and WiFi access networks.
II. RELATED WORKS
In the 4G network as in the figure 2, 3 entities such as the Serving Gateway (S-GW), the Packet Data Network Gateway (P-GW), and the Mobility Management Entity (MME), manage

978-1-7281-1340-1/19/$31.00 ©2019 IEEE

751

ICUFN 2019

mobility functions. The feature of the 4G network, in which all the traffic generated by the terminal is transmitted to the central P-GW due to mobility management and billing, causes inefficient traffic paths. In addition, 4G network does not provide mobility control between the anchoring GWs. Since there is not a unified mobility management between various access networks and LTE access and WiFi access networks operate separately [3].
Fig. 2. 4G Network Architecture
The 5G network being standardized in 3GPP provides the concept of Demand on Mobility. The mobility characteristic and the mobility level are classified according to the types of the terminal, such as a sensor in a stationary state or a vehicle under operation, thereby minimizing the paging signaling between the UE and the core network. As the UE moves through a lot of User Plane Functions (UPFs), the problem about Session and Service Continuity (SSC) has been considered. Even though three ways are defined to solve the problem, but procedures for providing mobility management in various access networks are not defined in detail yet [5].
Fig. 3. Overall steps of centrality based SDN- DMM
[7] proposes an optimization of the handover interruption time in the SDN based distributed mobility management (DMM). The idea of this paper is to use centrality for ranking the nodes of the network. The nodes with the highest centrality are selected as mobility anchors for the data and control plane of the user terminals of the network. But, since this proposal is

based on SDN controller, the 5G network architecture in 3GPP is not reflected.
[8] proposes a network architecture that employs MMEs as a logical function in the mobile network. These MMEs perform UE management autonomously in a distributed manner as autonomous distributed MME (ADMME). The main goal is to propose a novel network architecture that solves problems in the ADMME selection method while retaining its advantages. However, this proposal is still based on 4G network and adds an entity to manage mobility in the RAN.
[9] analyzes user and control plane latency, handover execution time, and coverage of operational LTE networks. This paper explains that the LTE handover execution time requirements and observed performance are similar. Since the connected mobility use cases are targeting safety and efficiency require zero service interruption time, it suggests that the 5G design must utilize new mobility methods such as makebefore-break and multi-cell-connectivity.
III. 5G NETWORK ARCHITECTURE
A. Design Principles
The 5G network architecture has been defined in 3GPP to support data connectivity service. The 5G network architecture uses service-based interactions between Control Plane Network Functions where identified. Some key principles and concept are as follows [4].
- Separate the User Plane (UP) functions from the Control Plane (CP) functions, allowing independent scalability, evolution and flexible deployments.
- Minimize dependencies between the Access Network (AN) and the Core Network (CN). The architecture is defined with a converged core network with a common AN - CN interface which integrates different Access Types (e.g. 3GPP access and non-3GPP access).
- Modularize the function design (e.g. to enable flexible and efficient network slicing).
- Support concurrent access to local and centralized services. User Plane functions can be deployed close to the Access Network to support low latency services and access to local data networks.
B. Architecture Reference Model
The 5G network architecture as in the figure 4 consists of the following network functions (NF).
- Access and Mobility Management Function (AMF): AMF provides functionalities such as Termination of RAN CP/NAS, Registration/Reachability/Mobility management, Access Authentication/Authorization
- Session Management Function (SMF): SMF provides functionalities such as session management, UE IP address allocation, control of UPF, termination of SM parts of NAS messages
- User Plane Function (UPF): UPF provides functionalities such as Anchor point for mobility, Packet routing & forwarding, QoS handling

752

- Authentication Server Function (AUSF) - Application Function (AF) - Data Network (DN): e.g. Internet access, 3rd party
services, operator services - Network Slice Selection Function (NSSF) - Policy Control Function (PCF) - Unified Data Management (UDM) - User Equipment (UE)

NSSF

NEF

Nnssf

Nnef

N2
3GPP Access

NRF Nnrf Namf

PCF

UDM

Npcf

Nudm

Nsmf

AMF

SMF

AF
Naf Nausf
AUSF

N3

N2

Common

Core Network

N1

N3IWF

N3

N1 NWu Y2

NAS for N3GPP

UE

Untrusted Non3GPP Access

Y1

N4

Distributed

UPF UPF

UPF

N6

N9

Fig. 4. 5G Network Architecture

Data Network

A. Support for MA-PDU Session
The 5G Network supports a PDU (Protocol Data Unit) Connectivity Service i.e. a service that provides exchange of PDUs between a UE and a data network identified by a DNN (Data Network Name). The PDU Connectivity Service is supported via PDU Sessions that are established upon request from the UE [5].
A MA-PDU (Multi Access PDU) is a type of PDU session that allows application to send/receive traffic either over 3GPP access, or non-3GPP access, or both accesses simultaneously. A MA-PDU session comprises of a PDU session over 3GPP access and a PDU session over non-3GPP access, or vice versa. Each of the PDU sessions may have its own set of UPFs, but both PDU sessions share a common PDU session anchor (PSA). A MA-PDU session is created by bundling together two separate PDU sessions, which are established over different accesses.

IV. MOBILITY MANAGEMENT IN THE 5G NETWOK
In order to solve the problem of the mobility management in the 4G network, dynamic anchoring mobility control, in which the anchoring GW for managing the IP address of the UE is changed as the UE moves, is being introduced in the 5G network [5].
In this section, we consider a 5G network where a UE can use 5G access and WiFi access simultaneously as shown in Fig 5. We propose a mobility management based on dynamic anchoring with the End Marker that guarantees the continuity of sessions when the UE moves between various access networks belonging to different anchoring GWs. To do this, the UE must be able to control the MA-PDU session, and the 5G core network must support inter-GW Handover detection of multi RATs and mobility management for on-going PDU sessions.

5G RAN UE

UPF

AMF/

SMF

DN

Move UPF

Non-3GPP AN

UE

(WiFi)

Fig. 5. 5G core network to accommodate various access networks

Fig. 6. Concept of a Multi-Access PDU session with two sub PDU sessions
B. UE Architecture for MA-PDU Session
During MA-PDU Session Establishment procedure, the SMF sends the IP address to the UE via SM NAS signalling. To control the MA-PDU session and the Inter-GW Handover function, the UE supports Logical Interface (LIF) to adapt given IP address to inner IP addresses for multi access interfaces separately. Figure 7 shows the architecture of a UE with a LIF to support multiple inner IP addresses for various access types.
The LIFs in the link layer of the UE may have different inner IP addresses, and each LIF is created one by one whenever a sub PDU session is created. The MA-PDU session is generated through NAS signaling between the UECB (User Equipment Control Block), which processes the NAS messages at the UE, and the AMF. The UECB transmits the IP address, which is allocated at the time of MA-PDU session creation, and the UPF information to the LICB (Logical Interface Control Block) which manages the logical interface. The LICB generates the LIF using the corresponding information, and sets up the routing table for mapping the traffic of each sub PDU session to the corresponding LIF.

753

Fig. 7. UE Architectyre for supporting multiple logical IP addresses
The LIF generation and traffic control procedures in the UE, when the UE performs the inter-GW handover (HO), are as follows.
Prior to the handover of the UE, an IP # 1 address is allocated to the LIF # 1 according to the NAS procedure, and the IP address of the source UPF is set as the default anchoring gateway in the routing table of the UE.
According to the routing policy of the UE kernel, the application of the UE transmits and receives data using the IP # 1 address. After the UE performs inter-GW handover, it changes the On-going Session from the source UPF to the target UPF according to the NAS procedure, and the target UPF and the target base station (BS) establish a tunnel for processing the traffic of the On-going Session. The application of the UE transmits and receives the data using the existing IP # 1 address.
C. Support for Dynamic Anchoring Handover
While the UE moves between different access networks in the 5G network, the inter-GW (between anchoring UPFs) mobility management based on Dynamic Anchoring, which guarantees the packet transmission order through the End Marker exchange, is as follows.
When there is a session created in the source UPF, the mobility control procedure of the on-going session is different depending on whether there is an Xn interface (inter-base stations interface) between the source BS and the target BS. If there is an Xn interface, a forwarding tunnel is created between the source BS and the target BS. If there is no Xn interface, an indirect forwarding tunnel is created between the source BS and the target BS. The indirect forwarding tunnel is formed from the source BS to the target BS through the source UPF and the target UPF.

1) Inter-GW Handover procedure for On-going Session with Xn Interface

The Xn based Inter-GW Handover procedure for on-going session is shown in Fig. 8 left side. Source 5G-BS determines handover to target WiFI-BS through measurement control. If there is an Xn interface between the BSs, a Handover Prepare procedure is performed through the Xn interface, and a forwarding tunnel between the source 5G-BS and the target WiFi-BS is created.

The target WiFi-BS buffers packets received from the forwarding tunnel until a Handover Confirm message is received from the UE. The target WiFi-BS sends the N2 Path Switch Request message to the AMF, and the AMF sends the corresponding message to the SMF.

The SMF selects a new target UPF of the UE with reference to the ID of the target WiFi-BS. The SMF generates an Inter-GW tunnel for handover of an on-going session by sending a session creation and session change messages to the target UPF and the source UPF.

The source UPF sends an End Marker to the source 5G-BS at the time of the path change to send the packet to the target UPF. The target WiFi-BS first transmits the packet received through the forwarding tunnel to the UE until it receives the End Marker. The target WiFi-BS buffers the packet received through the Inter-GW tunnel until it receives the End Marker, and transmits it to the UE after receiving the End Marker.

Traffic Application

Traffic Application

S-UPF
Path Switch

S-BS

FW Tunnel

T-UPF T-BS

FW Tunnel FW Tunnel

S-UPF

FW Tunnel

Path Switch

S-BS

T-UPF T-BS

LIFcgw#1
UE
LIF S-UPF : IP#1

LIFcgw#1
UE
LIF S-UPF : IP#1

- Xn based Inter-GW HO

- Without Xn based Inter-GW HO

Fig. 8. Inter-GW Handover procedure for On-going Session
2) Inter-GW Handover procedure for On-going Session without Xn Interface
The inter-GW Handover procedure in the absence of an Xn interface between different access BSs is shown in Fig. 8 right side. The source 5G-BS determines the handover to the target WiFi-BS through the measurement control and notifies the target WiFi-BS of the handover preparation procedure through AMF and SMF.
The SMF generates an indirect forwarding tunnel through the source 5G-BS - source UPF - target UPF - target WiFi-BS.

754

Until the UE completes the L2 handover, the packets received by the source 5G-BS are forwarded to the target WiFi-BS through the indirect forwarding tunnel.
When the L2 handover of the UE is completed, the target WiFi-BS sends a Handover Notify message to the AMF, and the AMF sends a Handover Complete message to the SMF through the N11 interface. AMF creates an Inter-GW tunnel to forward the packet from the source UPF to the target UPF.
In the path switching step, the source UPF transmits the End Marker to the source 5G-BS. The target WiFi-BS transmits the packet received through the forwarding tunnel to the UE until it receives the End Marker. The target WiFi-BS buffers the data packets received through the Inter-GW tunnel until it receives the End Marker, and transmits the buffered data packets to the UE after receiving the End Marker.
The Source UPF buffers user data traffic after the Path Switch without transmitting it to the Non-3GPP access network in order to guarantee the order of traffic packets. The source UPF transmits the last user traffic transmitted to the 3GPP access network with an end marker. The 3GPP access network transmits the user traffic, which transmitted from the source anchoring UPF to the UE with the end marker. Then, it sends the End Marker to the target anchoring UPF. This guarantees the packet transmission order.
3) Optimizing Paths for New Sessions
After the handover procedure for the on-going session is completed, a new PDU session of the moved UE is created by assigning a new IP address to the changed anchoring UPF. The SMF sends an N11 Acknowledgement message during a handover procedure for an on-going session which notifies an indication for requesting the creation of a new session. The UE starts a new session creation procedure via changed anchoring UPF. Through this procedure, the new session is routed through new UPF, which is the optimal path, without going through the existing source anchor UPF.

Development of Wired-Wireless Converged 5G Core Technologies)
REFERENCES [1] ITU-R M.2083, “Framework and overall objectives of the
future development of IMT for 2020 and beyond”, Oct. 2015. [2] NGMN Alliance,“NGMN 5G White Paper”, Feb. 2015. [3] 3GPP TS 36.300, “Evolved Universal Terrestrial Radio Access (E-UTRA) and Evolved universal Terrestrial Radio Access Network (E-UTRAN): overall description Stage 2”, Rel12. [4] 3GPP TS 23.501, “System Architecture for the 5G System”, Dec. 2018. [5] 3GPP TS 23.502, “Procedures for the 5G System”, Dec. 2018. [6] 3GPP TR 23.793,” Study on access traffic steering, switch and splitting support in the 5G system architecture”, Dec. 2018. [7] Mourad Khanfouci, “Distributed mobility management based on centrality for dense 5G networks”, 2017 European Conference on Networks and Communications (EuCNC), July 2017 [8] Daichi Kominami, “A control method for autonomous mobility management systems toward 5G mobile networks”, 2017 ICC Workshops, May 2017 [9] Mads Lauridsen, et al., “From LTE to 5G for Connected Mobility”, IEEE Communications Magazine, March 2017

V. CONCLUSION
The 5G network accommodates various access networks such as 5G, WiFi, and Fixed interfaces under the single control mechanism in the 5G core network, and attempts to solve the inconvenience of service interruption when UEs move between multiple access networks.
In this paper, we propose a dynamic anchoring mobility management with the End Marker to guarantee the transmission order of packets when a UE moves in various access networks in 5G network. Through the proposed mobility management, the 5G network provides the optimal network environment for providing a more efficient and seamless communication service to users.

ACKNOWLEDGMENT
This work has been supported by Institute for Information & communications Technology Promotion (IITP) grant funded by the Korea government (MSIP) (No. 2015-0-00042-005,

755

