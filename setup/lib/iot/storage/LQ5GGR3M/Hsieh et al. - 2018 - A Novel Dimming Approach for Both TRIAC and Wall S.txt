A Novel Dimming Approach for Both TRIAC and Wall Switch LED Lighting Systems

Yuan-Ta Hsieh
National Chip Implementation Center National Applied Research Laboratories
Hsinchu, Taiwan ythsieh@narlabs.org.tw
Chi-Feng Su
National Chip Implementation Center National Applied Research Laboratories
Hsinchu, Taiwan cfsu@narlabs.org.tw

Hann-Huei Tsai
National Chip Implementation Center National Applied Research Laboratories
Hsinchu, Taiwan hhtsai@narlabs.org.tw
Ying-Zong Juang
National Chip Implementation Center National Applied Research Laboratories
Hsinchu, Taiwan yzjua@narlabs.org.tw

Abstract—Triode alternating current (TRIAC) and wall switch step dimming are the most common methods for adjusting brightness of incandescent lighting sources. However, the gradual replacement of incandescent bulbs with light-emitting diode (LED) bulbs has made it necessary to integrate dimming methodologies within the LED driver. This paper presents the design, simulation, and implementation of a LED driver circuit capable of dimming functionality using either TRIAC or a wall switch. The simulation circuits are based on LT3799 and LTspice (Linear Technology). Experiments conducted using a 110V AC input under a 20W LED load connected in series demonstrate the efficacy of the proposed system when operating with TRIAC dimmers as well as wall switches.
Keywords—LED driver; TRIAC; wall switch; dimming.
I. INTRODUCTION
Incandescent lighting systems have been in common use for over a hundred years. The fact that the luminance of an incandescent lighting source is related directly to the applied power means that they can be used under a DC or AC input. Wall switches and triode alternating current (TRIAC) dimmers are the two most common approaches to dimming an incandescent light source. As shown in Fig. 1(a), TRIAC dimmers rectify the AC supply, thereby altering the luminance of the bulbs according to the conduction angle and power derived from the TRIAC. Fig. 1(b) presents a typical wall switch dimming controller. Generally, the bulbs are connected to an electrical switch in parallel, such that the electrical switch changes the conduction conditions of each bulb according to the fast switching of the wall switch. This makes it possible for a TRIAC dimmer to adjust the luminance continuously, whereas a wall switch alters the luminance in step.
Light-emitting diodes (LEDs) are gradually replacing incandescent bulbs as a lighting source, due to their modest

(a)
(b) Fig. 1. (a) TRIAC and (b) wall switch dimming systems in conventional incandescent lighting systems.
size, high efficiency, long lifespan, and wide color gamut. For the sake of system compatibility, an increasing number of LED drivers are being integrated with TRIAC dimmer functions on a single chip [1] – [4]. There are also a number of LED drivers that implement wall switch step dimming functionality within the LED bulb [5] and [6]. Generally, the two functions are not integrated within a microcontroller due to the costs of mass manufacturing. This leaves many consumers confused when selecting the LED bulb best suited to their dimming system.
In this paper, we propose a novel approach to dimming using the LED driver. The proposed scheme is compatible with TRIAC as well as wall switch dimming systems. In Section II, we outline the design of the proposed circuit, and present simulations results. Experiment results are presented in Section III. Conclusions are drawn in Section IV.
II. DESIGN CONCEPT AND SIMULATION In this study, we developed a dimming system compatible with TRIAC as well as wall switch dimmers based on a commercial LED driver chip with an evaluation simulator. We

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

724

ICUFN 2018

Fig. 2. Flyback LED light system integrated with the proposed dimming scheme.

Fig. 3. Schematic illustration showing proposed dimmer selection circuit.

modified the circuitry of a proven LED driver chip (LT3799) designed for TRIAC dimming in order to improve its functionalities, while making it suitable for wall switch step dimming as well [7] and [8].
Fig. 2 presents a flyback LED lighting system using the LT3799 as an LED current driver. The LT3799 uses Ctrl1, Ctrl2, and Ctrl3 pins as reference voltages by which to set the LED current. By sensing the voltage across R6 in the feedback loop, the LT3799 determines the on/off state of switch M1. This leads to the conduction current of inductor L1, such that LED current ILED is also selected. The dimming mode selection function (DIMMER) is used to set the dimming state and ILED automatically.
Fig. 3 presents a schematic diagram showing the proposed DIMMER circuit. When the system is operated in TRIAC

dimming mode, the divided and filtered of input voltage (VREF_TRIAC) is input into comparator CMP1 and compared with reference voltage Vref generated by the LT3799. The fact that VREF_TRIAC is smaller than Vref results in transistor M1 being turned on and transistor M2 being turned off. VREF_TRIAC is therefore propagated to the LT3799 as a reference voltage by which to set the LED current.
When the system is operated in wall switch mode, the action of the wall switch causes the LT3799 to intermittently switch on and off at INTVcc. The circuits within the DIMMER functional block use VDD as a power supply; therefore, the energy stored in C1 keeps the DIMMER circuits operable during INTVcc switching. INTVcc is used as a trigger clock signal for DFF1; therefore, transistors M3 to M6 are switched on sequentially with the switching of the wall switch.

725

200V
150V
100V
V 50V
0V IN_1
-50V
-100V
-150V
-200V 2.0A 1.8A 1.6A 1.4A
I 1.2A
1.0A LED
0.8A 0.6A 0.4A 0.2A 0.0A
0m s

180°
40ms

80ms

120°

V(n015)

I(B3)

90°

120m s

160m s

200m s
(a)

240m s

280m s

60°

320m s

360m s

switch

switch

switch

switch

210V 180V 150V
V 120V
90V IN_2
60V 30V
0V -30V

2.50A

2.15A

1.80A 1.45A 1.10A 0.75A

ILED

0.40A

0.05A

-0.30A 0ms

40m s

V(n002) I(D5)

80m s

120m s

160m s

200m s
(b)

240m s

280m s

320m s

360m s

Fig. 4. Simulation results from proposed LED dimming system operating in (a) TRIAC and (b) wall switch dimming modes.

400m s 400m s

120°

step 2

TRIAC

LED load 90°

step 3

AC 110V 60Hz

wall switch

LED driver circuit

60° TRIAC

step 4 wall switch

(a)

(b)

(c)

Fig. 5. Practical implementation of proposed LED lighting system.

VREF_TRIAC is larger than Vref; therefore, transistor M2 is turned on and transistor M1 is turned off. VREF_WALL replaces VREF_TRIAC as the reference voltage of the LT3799 in setting the LED current.
Fig. 4(a) presents simulation results of the proposed circuit operated in TRIAC dimming mode. The TRIAC is controller at 180, 120, 90, and 60 degrees, respectively. Fig. 4(b) presents simulation results of the proposed LED driver operated in wall switch mode, in which the LED current can be adjusted in TRIAC as well as wall switch dimming modes.

III. EXPERIMENTAL DEMONSTRATION
Fig. 5 illustrates the application of the proposed scheme to an active clamp flyback (ACF) LED lighting system. The demonstration system in Fig. 5(a) comprises a switch, a TRIAC, the ACF circuits, and an LED bulb (load). Fig. 5(b) and 5(c) respectively present the brightness of the LED bulb under TRIAC and wall switch modes. Table I lists the dimmed LED current.
IV. CONCLUSIONS
This paper presents a novel circuit to allow wall switch dimming as well as TRIAC LED dimming. The proposed design makes existing LED bulbs entirely compatible with conventional incandescent dimming systems. The simplicity of the proposed dimmer circuit enables integration with commercial LED drivers on a single chip using current CMOS processes. The size of the resulting chip also is very small and the cost of the additional circuitry is negligible. The proposed design allows the replacement of incandescent light bulbs with LED bulbs without the need to change the habits of users in dimming their lights.
REFERENCES
[1] S.-W. Tsai, T.-J. Liang, K.-H. Chen, and T.-W. Huang, “Control IC for TRIAC Dimming LED Driver with Quasi-resonant Flyback Converter” in Proc. IEEE ECCE, 2016, pp. 1–8.
[2] S. Moon, G.-B. Koo, G.-Wo. Moon, “Dimming-Feedback Control Method for TRIAC Dimmable LED Drivers,” IEEE Trans. Ind. Electron., vol. 62, no. 2, pp. 960–965, Feb. 2015.

726

[3] H. Eom, Y. Kim, and Y. Shin, “A TRIAC Dimmable Driver Design for High Dimmer Compatibility in Low Power LED Lightings,” in Proc. EPE, 2013, pp. 1–5.
[4] R. Zhang and H. S.-H. Chung, “A TRIAC-dimmable LED Lamp Driver with Wide Dimming Range,” IEEE Trans. Power. Electron., vol. 29, no. 3, pp. 1434–1446, Feb. 2014.
[5] A. Shrivastava, B. Singh, and S. Pal, “A Novel Wall-switched Stepdimming Concept in LED Lighting Systems Using PFC Zeta Converter,” IEEE Trans. Ind. Electron., vol. 62, no. 10, pp. 6272–6283, Oct. 2010.

[6] B.-M. Yang, M.-W. Lee, J.-W. Kim, G.-M. Park, S.-K. Kim, J.-H. Lee, J.-P. Oh, and S.-H. Lee, “Wall Switch Based LED Light Dimming System,” in Proc. ICUFN, 2015, pp. 375–377.
[7] Datasheet: LT3799, “Offline Isolated Flyback LED Controller with Active PFC,” Linear Technology Products, [Online], Available: http://www.linear.com/docs/30266.
[8] Design Note: DN490, “Offl ine LED Lighting Simplified: High Power Factor, Isolated LED Driver Needs No Opto-Isolators and is TRIAC Dimmer Compatible,” Linear Technology Products, [Online], Available: http://cds.linear.com/docs/en/design-note/dn490f.pdf

727

