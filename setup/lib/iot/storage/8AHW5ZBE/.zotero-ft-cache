A Hybrid Optical Wireless System for Simultaneous Service of VLC and OCC

Duy Thong Nguyen, Yoonsung Chae, Sangcheol Park, Youngil Park* Department of Electronics Engineering, Kookmin University 77 Jeongneung-ro, Seongbuk-gu, Seoul 136-702, Korea
E-mail: thongnguyenduy88@gmail.com, ypark@kookmin.ac.kr*

Abstract – In this paper, a hybrid scheme is proposed, which allows the camera and the photodetector (PD) to receive the light signal on the same transmitter simultaneously. A high-frequency signal is received by the PD and the low-frequency signal is received by the camera. The hybrid scheme was created to simplify the lighting system when the light communication systems are deployed in the practice. The simulation and experimental results will be presented. The relationship between the data rate of two systems will also be evaluated. The experimental results show that OCC system is able to achieve the transmitting distance up to 6.4 m. Bit error rate (BER) is measured to test the ability of the system. Besides, some ideas are proposed to improved data rate for the system using PD.
Keyword – Visible light communication (VLC); optical camera communication (OCC); photodetector-camera hybrid system (HPC); variable pulse position modulation (VPPM).
I. INTRODUCTION Visible light communications (VLC) has attracted much attention in recent research [1-2]. It is believed that can replace for traditional RF which is overloading in the near future since low cost, high data rate and low impact on human health. An optical camera communication system (OCC) is a part of VLC which uses the camera as a receiver [3-6]. Compared to the VLC systems which use PD (VLC-PD) at the receiver, the OCC systems have a lower data rate. However, the applications of OCC are preferred by its mobility and easy to integrate into smart devices, smartphones which can connect to the internet easily. The OCC systems are used to send the position information in the indoor environment [7], vehicle-to-vehicle [8], or payment. While the VLC-PD systems are designed for high-speed internet access system [9]. However, the transmitters of these two systems are still separate. This will make the light systems become complex and costly when the transmitter of both systems are installed in different locations. Moreover, users will be confused to find out the location of the transmitter which is suitable for their devices. The VLC system has been standardized [10] and integrated into the illumination but not support for the camera as a receiver simultaneously. Therefore, this paper proposes a system which can communicate with the camera and PD simultaneously at different data rates but share the same physical transmission channel. It is called the hybrid PD and camera system (HPC). In this system, the VLC-PD data will be transmitted to PD when the HIGH level (i.e., logic ‘1’) of OCC signal is sent. Thus, the

information of the two systems can be conveyed in parallel yet is not affected by each other.
However, there are many parameters that we need to consider if two systems are combined. First, the data rate of the PD system certainly reduces because data is not transmitted during OCC system transmits LOW level (i.e., logic ‘0’). Thus, improving the data rate of VLC-PD system is necessary. Second, a proper frequency is chosen for two systems to avoid the interference between two systems and achieve the high performance. Third, the flickering issue needs to be considered when both system using the same LED.

II. SYSTEM ANALYSIS The data rate of the OCC system is significantly improved and higher than frame rates as demonstrated in [3]. However, this rate is still low when compared to other VLC-PD systems. Due to the difference of the operating frequency range of PD and IS, the received signal in the two receivers is not same. The PD can recognize the high-frequency. While the IS with rolling-shutter mechanism, the operating frequency depends on the exposure frequency, which is the shutter speed. Therefore, the amount of received light at the IS are controlled by opening and closing of the shutter. The IS can only receive light for a specified period of time, which is denoted by te in Fig. 1. This period is inversely proportional to the frame rate. The relationship between te and the bit period tb determines the number of pixel rows nrow which represent for a bit, as equation (1).

nrow



tb te

1

(1)

With the rolling-shutter mechanism, a bit is represented by the number of pixel rows [4], which is larger, the clearer the signal, and vice versa. When the low-frequency signal (i.e., the bit period is larger than exposure time) is sent, the multi of pixel rows of IS can receive the light in a bit period (e.g., two pixel rows represent for a bit period, as in Fig. 1). In contrast, when the high frequency is transmitted, the multi of bits is sent during the exposure time of a pixel row. As a result, all pixel rows of IS will always receive the light, which corresponds to a HIGH level (i.e., bit ‘1’) is transmitted. In other words, the camera cannot distinguish

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

571

ICUFN 2018

TVLC

TOCC

te
Fig. 2. (a) The transmitted signal (b) The desired signal at PD (c) The desired signal at camera

Fig. 1. The behavior of IS at different frequencies
between the ON-OFF states of the high-frequency signal. Therefore, the minimum number of pixel rows represent for a bit should larger than one. Obviously, the transmitted bit period must be greater than the exposure time of a pixel row to obtain higher performance and avoid inter-symbol interference (ISI), as indicated in (1). For example, the Flea3 FL3-U3-32S2C-CS camera has a frame rate of 60 fps, with a minimum exposure time of about 10 s . Therefore, the maximum frequency that the camera can distinguish ON-OFF about 100 kHz. This rate is low when compared to the systems using PD. Besides, the data rate of OCC system is also affected by frame rate, inter-frame gap (IFG) [4, 6].
As mentioned above, the camera always receives the light if a high-frequency signal is transmitted. In this paper, a burst of the high-frequency signal of VLC-PD system is transmitted to define the bit ‘1’ of the OCC signal. The VLC-PD system stops the data transmission corresponding to the bit ‘0’ of the OCC system, as in Fig. 2. The received signals from the two receivers are different, as indicated in Fig. 2(b) and Fig. 2(c). Therefore, a hybrid system can transmit signal both PD and IS, where it can simultaneously transmit high-speed VLC-PD system and low-speed system of CMOS camera.
In this system, Manchester coding is used for both systems because of its simplicity and avoiding the flickering. As most proposed OCC systems, the structure of the data packet is designed to transmit data multiple times to avoid the IFG and deal with the distance [3]. Thus, each packet will consist of multiple sub-packets, which comprise the same data and start frame bits (SF), and the different bit sequence number (BSN) which defines each sub-packet, as in Fig. 3(a). On the VLC-PD system, a sequence of n bits is transmitted during the period of bit ‘1’ of the OCC signal. However, it is difficult to determine whether the bit '0' or bit '1' begins the sequence of n bits (i.e., the sequence of n bits are taken from the data of the VLC-PD system). Thus, in order to indicate the starting point of VLC-PD data and simplify decoding, a flag bit of ‘1’ are inserted at the beginning of each n bits sequence. In the case of multiple consecutive bits of ‘1’ of OCC signal is sent, the flag bit is only inserted once, as shown in Fig. 3(c). The last bit of the sequence of n bits can be determined easily by reckoning the number of bits after the flag bit.

Fig. 3. The insertion of the flag bit ‘1’ at the beginning of the sequence of n-bits

Assume that n is the number of bits that VLC-PD system transmit during the bit ‘1’ period of OCC signal (i.e., the brightness of 50% of OCC system is used). During the period TOCC , the VLC-PD system transmits n-bits, while the OCC system transmits only 1 bit. Therefore, the relation of data rate of the two systems is calculated as (2).

RVLCPD  nROCC

(2)

, where RVLCPD is the data rate of the VLC-PD system, ROCC is

the data rate of the OCC system. Obviously, the data rate of the

VLC-PD system will be reduced by half (i.e., the brightness of

50%) because data is not transmitted when the bit ‘0’ of OCC

system is transmitted. However, the VLC-PD system with data

rate of up to 11 Gbps [11], the haft of this rate can still meet for

communication in the indoor environment. As know that the data

rate of VLC-PD system depends on the number of bits '1' of the

OCC system is sent and the period of bit '1'. Thus, the data rate of

the VLC-PD system can be significantly improved if the variable

pulse position modulation (VPPM) [12] is applied to the OCC

system. The period that the VLC-PD system transmits data will

be longer. As a result, the VLC-PD system will be transmitted

more data. Based on (2), the data rate of the VLC-PD system is

recalculated as (3), where M is the percent of brightness of OCC

signal.

RVLC  PD



M .n 100

ROCC

(3)

Obviously, using VPPM for the OCC system is completely straightforward. However, the performance of the OCC system will be reduced if the percent of brightness increases. Consequently, there is a trade-off between the data rate of VLCPD system and the performance of OCC system.

III. EXPERIMENTAL RESULTS AND DISCUSSION In order to test the performance of the proposed scheme, a prototype of the hybrid system is established. Data of both systems are input to the FPGA board, the modulation signal is

572

TABLE I. ENVIRONMENTS OF EXPERIMENT

Parameters Frequency LED power Transceiver board
Camera
Photodiode

Value

200 kHz (VLC-PD)

3.3 kHz (OCC)

15 Watt

Virtex 5 -FPGA Board

Flea3 FL3-U3-13S2C-CS

Lens diameter

25 mm

Image Sensor

Sony IMX036 CMOS

Frame rate

60 fps

Si PIN photodiode - S6869

generated and transmitted to an LED driver and then to an LED lamp. At the receiver of OCC system, a Point Grey Flea3 camera is used to receive the light and connected to the Matlab program through a computer. And a PD is adopted at the VLC-PD system and it is also connected to another FPGA board to process and decode the signal. Table I shows parameters values used in the experiment.
The shape of the received signal at the camera is different from the received signal at the PD, as shown in Fig. 4 and Fig. 5. The received signal at the camera at different frequencies as indicated in Fig. 5. The received signal at the camera more fluctuates when a low frequency of the VLC-PD system is transmitted. However, only the upper part of the signal is affected because the amplitude of the received signal changes. The reason is attributed that the number of received bit ‘0’ and bit ‘1’ during the exposure time of a pixel row are different. But this phenomenon decreases with the higher frequencies of VLC-PD is used, as shown in Fig. 5(c) and Fig. 5(d).
Fig. 6 shows the influence of the VLC-PD signal on the HPC system. This experiment compares the performance between the original OCC system and the OCC system in the HPC system in terms of distance transmission. The transmission distance of HPC system is shorter than the original OCC system. However, the performance is improved as the frequency of 400 kHz of the VLC-PD system is used. Thus the performance of the hybrid system will better when the high frequency is used. However, its performance is hardly as good as the original OCC system.
There are two reasons for the deterioration in term of performance. First, the fluctuation occurs due to the amount of received light at each pixel rows is not equal during the exposure, as shown in Fig. 7(c) and Fig. 7(d). In addition, Manchester

Fig 4. The received signal at the PD

BER

(a) The original OCC scheme, (b) fVLC-PD = 60 (kHz), (c) fVLC-PD = 200 (kHz), (d) fVLC-PD = 800 (kHz) Fig. 5. The received signal at the camera with the different frequencies at the distance of 3.2 m
Fig. 6. The performance comparison between the HPC system and original OCC system
coding is used for VLC-PD system, thus the signal amplitude is reduced a half compared to original OCC system, as shown in Fig. 5. However, this phenomenon becomes serious as the transmission distance becomes farther away. The low amplitude of the signal associated with the influence of the fluctuation has severely degraded the quality of the signal. For the same distance, the OCC signal of the hybrid system has deteriorated a lot, while the signal of the original OCC system is almost clear, as indicated in Fig. 7(a) and Fig. 7(b). Fluctuation can be evaded by using the high frequency for the VLC-PD signal as mentioned. Besides, the signal amplitude of the hybrid system can be improved if the brightness of over 50% is applied to the VLC-PD system. Obviously, the cost of the system will increase.

573

App 
App 
Fig. 7. (a), (b) The signal of the original OCC system at 3.2 m and 6.8 m, respectively, (c), (d) The OCC signal of the HPC system at 3.2 m and 6.8 m, respectively.
IV. CONCLUSIONS In this paper, a hybrid system of OCC and VLC is proposed to simplify the lighting system. The relationship between two systems in term of frequency has been analyzed. The approaches to improving data rate for the VLC-PD system have been discussed. The performance of the original OCC system was compared to the OCC system in the hybrid system. The experimental results shown that both OCC and VLC-PD systems worked successfully using the same LED lamp, and the BER of around 10-4 was achieved for both cases at 6.4 meters distance.
ACKNOWLEDGMENT This work was supported by Basic Science Research Program through National Research Foundation of Korea (NRF2015R1D1A1A01059416) funded by the Ministry of Education.
REFERENCES
[1] L.Grobe, A. Paraskevopoulos, J. Hilt, D. Schulz, F. Lassak, F. Hartlieb, C. Kottke, V. Jungnickel, K. Langer, "High-speed visible light communication systems", IEEE Communications Magazine, Vol. 51, No. 12, pp. 60-66, Dec. 2013.
[2] A. M. Cailean, M. Dimian, "Impact of IEEE 802.15.7 Standard on Visible Light Communications Usage in Automotive Applications", IEEE Communications Magazine, Vol. PP, No. 99, pp. 2-8, Feb. 2017.
[3] C. Danakis, M. A. Afgani, G. Povey, I. Underwood, and H. Haas, “Using a CMOS Camera Sensor for Visible Light Communication”, Globecom Workshops, pp. 1244-1248, Dec. 2012.
[4] D. T. Nguyen and Y. I. Park, "Data rate enhancement of optical camera communications by compensating inter-frame gaps", Optics Communications, Vol. 394, pp 56–61, July. 2017.
[5] D. T. Nguyen, K. D. Kim, and Y. I. Park,"Improvement of Data Rate in Image Sensor Communications Using Dual Cameras", Proc. ICUFN 2017, pp 137-140, Jul. 2017.

[6] D. T. Nguyen, Y. Chae, Y. Park,"Enhancement of Data Rate and Packet Size in Image Sensor Communications by Employing Constant Power 4-PAM", IEEE Access, Vol. 9, pp. 8000-8010, Feb. 2018.
[7] S. Hyun, Y. Lee, J. Lee, M. Ju, and Y. Park, "Indoor Positioning Using Optical Camera Communication & Pedestrian Dead Reckoning", Proc. ICUFN 2015, pp 64-65, Jul. 2015.
[8] T. Nguyen, A. Islam, Y. Jang,"Region-of-interest signaling vehicular system using optical camera communication" IEEE Photonics Journal, Vol. 9, No. 1, Feb. 2017.
[9] S. Shao, A. Khreishah, M. B. Rahaim, H. Elgala, "An Indoor Hybrid WiFiVLC Internet Access System", Proc. MASS 2014, pp. 569-574, Oct. 2014.
[10] The VLC specification, IEEE Standard for Local and Metropolitan Area Networks—Part 15.7: Short-Range Wireless Optical Communication Using Visible Light, IEEE Std. Assoc., Sep. 2011. [Online]. Available: http://standards.ieee.org/findstds/standard/802.15.7-2011.html.
[11] I. Lu, C.Yeh, Dar-Zu Hsu, and C. Chow, “Utilization of 1-GHz VCSEL for 11.1-Gbps OFDM VLC Wireless Communication”, IEEE Photonics Journal, Vol. 8, No. 3, June 2016.
[12] K. Choi, Y. Jang, J. Noh, M. Ju, and Y. Park, "Visible Light Communications with Color and Dimming Control by Employing VPPM Coding", Proc. ICUFN 2012, pp 10-12, Jul. 2012.

574

