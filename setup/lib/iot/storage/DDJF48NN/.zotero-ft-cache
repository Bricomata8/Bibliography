A Pilot-based Beam-Tracking Technique for OFDM-based Millimeter-Wave Cellular Systems
Yeong Jun Kim1 and Yong Soo Cho2 1LG Electronics, 2School of Electrical and Electronics Engineering, Chung-Ang University, Seoul, Korea

Abstract—A pilot-based beam-tracking technique is proposed for OFDM-based millimeter-wave cellular systems. In order to track the variations in the angle of departure (AoD) and angle of arrival (AoA), an antenna array is configured into two different subarrays which allow us to estimate AoD/AoA based on the phase difference between the two subarrays in the received signals. A pilot sequence is designed such that it can distinguish between different subarrays and track a beam for a mobile station in multi-cell multi-user environments.
Keywords— Pilot-based, beam tracking, OFDM, millimeterwave, cellular system
I. INTRODUCTION
Beam-training operation in millimeter-wave (mmWave) cellular systems is necessary to find the best pair among all possible beam pairs for maximum beamforming efficiency. The beam training operation requires significant network resources because the receiver (Rx) beam sweep needs to be performed at the mobile station (MS) for each transmitter (Tx) beam to measure the SNR of every Tx-Rx beam pair. The SNR measurement must be performed for all neighboring base stations (BSs) [1]. However, the beam alignment can be easily destroyed by even small variations in the device᾽s position due to rotation and displacement. Although the beam-training technique can resolve such problems, it will consume significant network resources if beam-training is performed whenever the received signal experiences a power loss.
In this paper, a pilot-based beam-tracking technique for OFDM-based mmWave cellular systems using subarray structures is proposed. To track the variations in AoD/AoA, an antenna array is configured into two different subarrays that form a beam in the same direction. The subarray structure is designed such that it allows us to estimate the AoD/AoA based on the phase difference between two subarrays in the received signals. The signals transmitted from different subarrays are distinguished by assigning different pilot sequences to subarrays because it is not possible to distinguish two different signals with the signals received from different subarrays. In addition, the information on cell ID (CID) and beam ID (BID) is transmitted on the pilot sequence in order that beam-tracking can be performed for an MS in multi-cell multi-user environments.
II. PROPOSED BEAM-TRACKING TECHNIQUE
Fig. 1 shows the concept of the proposed beam-tracking technique for OFDM-based mmWave cellular systems when

the proposed method is applied. In the proposed technique,

Subarray 0 is connected to the first ADC/DAC path and

Subarray 1 is connected to the second ADC/DAC path. It is

assumed that a uniform linear array (ULA) is used at both the

BS and MS, and a Tx beam with the BID b is formed at the

BS in direction of a target MS. It is further assumed that the

number of elements in the antenna arrays at the BS and MS

are NTx and NRx , respectively. On the Tx side, Subarrays 0

and 1 are constructed using antenna elements from 0 to NTx - 2 and 1 to NTx -1 , respectively. Subarrays on the Rx

side are formed in the same manner. Thus, the number of elements in each subarray at BS and MS are NTx -1 and

NRx -1 , respectively. Subarrays 0 and 1 on the Tx and Rx

sides have NTx - 2 and NRx - 2 overlapping elements,

respectively. Note that the (a+1)-th element in Subarray 0

experiences the same phase as the a-th element in Subarray 1.

Owing to the overlapping structure, it is difficult to distinguish

difference between signals (of the Tx᾽s Subarrays 0 and 1)

using the signals received from the Rx᾽s Subarrays 0 and 1. To

distinguish difference between signals from the Tx᾽s

Subarrays 0 and 1, different pilot sequences are assigned to the

Tx᾽s subarrays, and the signals received from the Rx᾽s

Subarrays 0 and 1 are passed through two different ADC paths.

In the paper, variables “x” and “X” are used to represent the

time domain and frequency domain signals, respectively. Also,

boldfaces, x and X, are used to represent the vector and matrix,

respectively, all composed of frequency domain signals. Then,

the

signal

[x r , mTx b

]k

(=

X r ,mTx b

(k)

)

at

the

input

( N point

IFFT)

of

the OFDM system in the BS can be represented by

[x r , mTx b

]k

= ìïí[sbr,mTx ]nkP ïî

= [s ] e , r b nkP

- j 2p mTxwnkP / NS

[%sbr ]nkD

k Î{kP} k Î{kD} , (1)

where [sbr ]nkP = e , - jp {rnkP (nkP +1)+2bBnkP }/ NS B = êë NS / NB úû ,

0 £ nkP < NS , 0 £ nkD < N - NS , 0 £ k < N , and {kP} = {kD}c .

Here, mTx , kP , kD , sbr , and %sbr denote the index of subarray at

the BS, index of pilot subcarrier, index of data subcarrier, pilot

sequence, and data symbol, respectively. [sbr ]nkP and

[%sbr ]nkD denote the nkP -th element and the nkD -th element of

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

771

ICUFN 2018

X

r b

,0

(k

)

IFFT

CP

DAC xbr,0 (t)

X

r b

,1

(k

)

IFFT

CP

DAC xbr,1 (t)

X

r b

,0

(k

D

)

=

X

r b

,1

(kD

)

X r,0 b

(kP

)

=

e-

j 2pwkP

/ NS

X

r b

,1

(kP

)

Phase shifter for Tx BID b( ATbx )
Phase shifter 0 Phase shifter 1 Phase shifter 2
Phase shifter a
Phase shifter NTx-3 Phase shifter NTx-2

Subarray 0

Subarray 1

Phase shifter for
Rx Beam i (AiRx)
Phase shifter 0

Phase shifter 1

BID b

Phase shifter 2 Phase shifter a

Phase shifter NRx-2

Subarray 0
yi0 (t) ADC CP FFT yi1 (t) ADC CP FFT
Subarray 1
Data structure

Phase shifter NTx-1

Phase shifter NRx-2

e BS phase shifter: - j (2p aBS d cos(qb +p / 2))

Phase shifter NRx-1

aqBS b

: :

BS Tx

antenna index, beam angle @

dB:S0.5aMfSMi S::pMhRasxSe

e shifter: - j (2p aMS d cos(fi +p / 2)) antenna index, d: 0.5
beam angle @ MS

pilot data

Yi0 (k ) Yi1(k )

Fig. 1. Concept of proposed beam-tracking technique for OFDM-based mmWave cellular systems with subarray structure.

each vector. In addition, r , b , B , NS , and NB are the root
index of the Zadoff–Chu sequence, BID, phase rotation parameter (for BID identification), length of pilot sequence, and number of BIDs, respectively. Further, w denotes the phase rotation factor to distinguish pilot sequences transmitted from different subarrays. The pilot sequence sbr can be viewed
as a combination of a Zadoff–Chu and a polyphase sequence. Here, the pilot sequence is generated by mapping the CID to the root index of the Zadoff–Chu sequence and the BID to the index of the polyphase sequence. Note that the pilot sequence needs to carry the CID and BID in order to be detected in multi-cell multi-user environments. If the pilot sequence carries only BID information, it will be impossible to determine by which cell it has been transmitted. When NS is a
prime number, the correlation value between the pilot sequences sbr with the same CID but different BIDs becomes
zero. Further, the normalized correlation value between the pilot sequences sbr with different CIDs becomes 1 / NS [2][3].
The subarray gain of a Tx beam with BID b at the BS in Fig. 1 is given by

h = e e sin(p d Q )) qmbT,qx BS

( j 2p mTxdQqb ,qBS jp d ( NTx -2)Qqb ,qBS

-1

qb ,qBS

(2)

´ sin(p (NTx -1)dQqb ,qBS ), mTx = 0 or 1

where Qqb ,qBS = cos(qb + p / 2) - cos(qBS + p / 2) .

Here,

q b

and

q BS

denote the Tx beam direction (angle) of BID

b

and

AoD

from

the

BS

with

a

reference

angle

(

q b

=

0

)

in

the

direction of MS, respectively. The subarray gain of the i-th Rx

beam at the MS is given by

m = e e sin(p dF )) (3) fmi ,RfxMS

( j 2p mRxdFfi ,fMS jp d ( NTx -2)Ffi ,fMS

-1
fi ,fMS

´ sin(p (NTx -1)dFfi ,fMS ), mRx = 0 or 1,

where Ffi ,fMS = cos(fi + p / 2) - cos(fMS + p / 2) .

Here,

mRx

,

f i

,

and

f MS

denote

the

subarray index

(0

or

1)

in

the MS, direction (angle) of the i-th Rx beam, and AoA at the

MS

with

the

reference

angle

(

f i

=

0

),

respectively.

The

signal

received by the i-th Rx beam with the mRx -th subarray is

represented in the frequency domain as

å å h m h %x 1 Lh -1

y = mRx i

l

mTx =0 l =0

+ w fmi ,RfxMS ,l

qmbT,qx BS ,l

r , mTx b,l

mRx i

(4)

å =

Lh -1
hl

X% ε r i,mRx b,l b,l

+

w mRx i

,

mRx

=0

or 1,

l=0

where

X% br ,l

=

EDl N

Xbr

= [%xbr,,0l

%xbr,,1l ]

,

Xbr

= [xbr,0

x r ,1 b

]

,

h h ε = m η η = [ ] , qb ,qBS ,l

0 qb ,qBS ,l

1

T

qb ,qBS ,l

i,mRx b,l

, fmi ,RfxMS ,l qb ,qBS ,l

[EDNl ]k ,k

=

[e

Dl N

]k

= e- j 2pDl k / N

and

[E

Dl N

]k0 ,k1 ¹ k0

=0.

Here,

[E ] Dl N k0 ,k1

denotes

the

element

in

the

k0 -th

row

and

k1 -th

column

in

EDl N

.

E Dl N

is an N ´ N matrix accounting for the

phase

rotation

caused

by

the

delay

of

the

l-th

path

( Dl

).

In

EDl N

,

the diagonal terms are e- j2pDlk / N and off-diagonal terms are zero.

Xbr is a matrix composed of pilot signals of two subarrays in

the BS. Further, hl , Lh , and w are the l-th tap component of

channel impulse response, length of channel impulse response, and AWGN noise vector, respectively. Thus, X% br,l can be

viewed as a modified version of Xbr considering the delay

effect

of

the

l-th

path.

The

parameters

q BS ,l

and

f MS ,l

are

AoD

and AoA of the l-th tap of the channel, respectively.

Next, the proposed beam-tracking technique is described. Here, it is assumed that a Tx beam with the BID equal to b is formed in the direction of a single user and the user receives the signal through the i-th Rx beam. Although the beamtracking algorithm is derived for the case of a single user in this paper, the algorithm can be easily extended for multiple users in a multi-cell environment because CID and BID corresponding to the beam can be uniquely identified from the pilot sequence. The data symbols %sbr in xbr are assumed to be
zero for notational simplicity. When an MS is operated in tracking mode, pilot sequences
and D can be assumed to be known to the MS. In practice, D can be estimated by the conventional path delay estimation technique. The gain mfi ,fMS of the i-th Rx beam at the MS can
be assumed constant because the Rx beam is fixed during pilot-reception. Using the phase difference between subarray 0 and subarray 1 at the BS, the estimate of Qqb ,qBS can be

772

obtained as follows:

å Qˆ qb ,qBS

=

-

1 2p d

1

R

(y mRx i

mRx =0

)H

%xbr,0 (%xbr,1 )H

y mRx i

(5)

Then, Ffi ,fMS can be estimated as follows:

Fˆ fi ,fMS = (2p d )-1Rg ˆbi,1 (g ˆbi,0 )*

(6)

where

gˆ i,mRx b

=

(X% br η%qb

,q BS

)H

y mRx i

{(X% br η%qb ,qBS

)H

X% br η%qb ,qBS

}-1.

Finally, the estimates of AoD and AoA can be obtained as

qˆ BS

= cos-1 (Qˆ qb ,qBS

+ cos(qb

+p

/ 2)) - p

/ 2,

(7)

fˆ MS

= cos-1 (Fˆ fi ,fMS

+ cos(fi

+p

/ 2)) - p

/ 2.

(8)

III. SIMULATION

In this section, the performance of the proposed beam-

tracking techniques is evaluated by computer simulations. The

number of antenna elements ( NTx , NRx ), and parameters

related to the pilot sequence generation ( NS , B , r , b , w ) are

set to (16, 8), and (479, 59, 11, 6, 29), respectively. A ULA

antenna configuration is assumed at BS and MS. The number

of subcarriers is 2048. The pilots are transmitted with every

fourth symbol in the time domain, and allocated with every

fourth subcarrier in the frequency domain. Rician fading

channel with K = 10 dB is considered.

Fig. 2 shows the AoD/AoA tracking performance. The

AoD/AoA of the LoS path varies by DT / DR for every symbol

transmission. Thus, the AoD/AoA difference between adjacent

pilot symbols is 4 DT /4 DR . The SNR is set to −24 dB and

three different values of DT are used: 0°, 0.01°, and 0.005°.

DR is set to -DT . In Fig. 2, markers represent the correct

AoD/AoA values, and lines through the markers represent the

results when the proposed tracking techniques are used. Here,

the black and blank markers represent AoD and AoA tracking,

respectively. As can be seen in Fig. 2, the beam-tracking

results are in good agreement with the correct AoD/AoA

values for all values of

D T

and

D R

.

IV. CONCLUSION
In this paper, a pilot-based beam-tracking technique for OFDM-based mmWave cellular systems is proposed using subarray structures. The proposed technique is shown to provide a good AoD/AoA tracking performance when the MS moves under a Rician fading environment. Since the proposed technique does not require a separate beam-training period, it can be applied to mobile MSs or high-speed vehicles which require fast beam tracking.

150 100
50

AoD/AoA tracking, Mobile MS, Rician (K=10dB)
AoD, DT:0o, DR:0o AoD, DT:0.005o, DR:-0.005o AoD, DT:0.01o, DR:-0.01o AoA, DT:0o, DR:0o AoA, DT:0.005o, DR:-0.005o AoA, DT:0.01o, DR:-0.01o Method 2 Method 1

Angle[o]

0

-50

0

1000 2000 3000 4000 5000 6000 7000 8000 9000 10000

Symbol Index

Fig. 2. AoD/AoA tracking performance under Rician fading environment.

ACKNOWLEDGMENT
This research was supported by Basic Science Research Program through the National Research Foundation of Korea (NRF) funded by the Ministry of Education (2015R1D1A1A01057628) and by the National Research Foundation of Korea (NRF) grant funded by the Korea government (MSIT) (2018R1A2B2002621).
REFERENCES
[1] J. Lota and T. Rappaport, “5G Uniform Linear Arrays with Beamforming and Spatial Multiplexing at 28 GHz, 37, GHz, 64 GHz and 71 GHz for Outdoor Urban Communication: A Two-Level Approach,” IEEE Tran. Vehicular Technology, (accepted for publication), 2017.
[2] H.J. Zepernick and A. Finger, Pseudo Random Signal Processing Theory and Application, Wiley, 2005.
[3] N. Ahmed, H, Rahman, and Md.I. Hussain, “A comparison of 802.11ah and 802.15.4 for IoT,” ICT Express, Vol.2, No. 3, Sep. 2016, pp. 100102.

773

