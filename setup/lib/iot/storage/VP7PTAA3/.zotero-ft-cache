A Magnetic Field Detection and Localization Scheme for Internet of Underwater Things
Kwang-Yul Kim and Yoan Shin∗ School of Electronic Engineering
Soongsil University, Seoul 06978, Korea (∗Corresponding author: yashin@ssu.ac.kr)

Abstract—The magnetic ﬁeld whose intensity is changed by the magnetic permeability of the medium can be considered as a new underwater communication method. However, the magnetometer in the base station must compensate for the geomagnetic ﬁeld to detect the underwater moving node for the communication and the localization. Therefore, this paper proposes a magnetic ﬁeld detection and a localization scheme based on the exponential smoothing method. Simulation results show that the proposed scheme can extend the detection range and improve the localization accuracy by considering the trend of the geomagnetic ﬁeld.
Index Terms—internet of underwater things, magnetic ﬁeld detection, localization, exponential smoothing, forecast
I. INTRODUCTION
The sea is a large and deep unknown area. Although the seabed resources and biological resources are very abundant, the water pressure limits the underwater exploration by human. As a result, many countries are actively studying the internet of underwater things (IoUT) [1], which can link underwater infrastructures to obtain underwater information on the ground. However, in order to clearly observe the phenomenon occurring in the underwater, the underwater sensors should be able to approach into the close range, not to sense the situation from a long distance. Therefore, IoUT needs to be able to estimate the location of the underwater moving nodes (UMN).
Since the magnetic ﬁeld can guarantee the same transmission performance on the ground, the magnetic induction communication applying to underwater has been studied [2]. However, since the magnetic ﬁeld induction communication does not have propagation characteristics unlike underwater acoustic communication, the communication transmits the data only within a magnetic ﬁeld range. Therefore, the UMNs must be located close to each other in order to guarantee the magnetic ﬁeld induction communication. To this end, the magnetic ﬁeld detection and the localization scheme are required. In this paper, we propose a magnetic ﬁeld detection and localization scheme as a basic study of mobile underwater magnetic ﬁeld induction communication for IoUT. Simulation results show that the proposed scheme can compensate for the geomagnetic ﬁeld, extend the detection range, and improve the accuracy of localization by considering the trend of the geomagnetic ﬁeld.

II. SYSTEM MODEL

A. Magnetic Field Model

In this paper, we consider that an UMN is approaching to

transmit the data to the underwater base station and three-axis

magnetic vector sensors detect and estimate the location of

the UMN. The magnetic ﬁeld generated by the UMN can be

modeled by the Biot-Savart’s law as [3]





BBxy,, Bz,



=

µ0 4πd5

3x2 − d2  3x y
3x z

3x y 3y2 − d2
3y z

 

3x z

Mx

3y z  My ,

3z2 − d2 Mz

(1)

where x , y , z ( = 1, · · · , L) are the three-dimensional

position in each sample of the UMN, L is the total number of

samples, Bk, [nT] is the k-axis magnetic ﬁeld generated at the -th position, and Mk [Am2] is the k-axis dipole moment of the UMN. d = x2 + y2 + z2 is the linear distance at

the -th position between the magnetic vector sensor and the

UMN, k is the k-axis distance component between the -th position and sensor position, µ0 = 4π × 10−7 [H/m] is the

permeability.

The magnetic ﬁeld measured by the underwater sensor

includes not only the magnetic ﬁeld of the UMN but also

the noise of the geomagnetic ﬁeld and the thermal noise.

Therefore, the measured magnetic ﬁeld Bk can be ﬁnally

expressed as

Bk = Bk, + Gk + Nk,

(2)

where Gk denotes the background geomagnetic noise, and Nk denotes the thermal noise of the magnetic vector sensor of the k-axis. Thus, it is necessary to compensate for the background geomagnetic ﬁeld to improve the magnetic ﬁeld detection performance and to detect only the magnetic ﬁeld component of the UMN by minimizing the thermal noise.

B. Geomagnetic Compensation Method
In order to detect the UMN, the geomagnetic ﬁeld must be compensated [3]. The representative method to compensate for the geomagnetic ﬁeld is single exponential smoothing (SES). The SES can be expressed as [4]

BkS(t) = γ(t) · Bk(t) + {1 − γ(t)} · BkS(t − 1), (3)
where γ(t) is the SES coefﬁcient. If the difference between the measured magnetic ﬁelds is greater than the smoothing

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

522

ICUFN 2018

threshold, the SES coefﬁcient is adjusted as [4]

γ(t) = 0.1 · [1/ {Bk(t) − Bk(t − 1)}] · Tγ.

(4)

Hence, the magnitude of the magnetic ﬁeld with the geomagnetic ﬁeld compensated by SES is expressed as [4]

S(t) = Sx(t)2 + Sy(t)2 + Sz(t)2,

(5)

where Sk(t) = Bk(t) − BkS(t). In order to detect the UMN, the detection threshold ThS is set by calculating the false alarm rate during the absence of the UMN, then the magnetic ﬁeld
is detected according to the threshold.

III. PROPOSED SCHEME
The proposed scheme consists of the two steps: detecting the magnetic ﬁeld and estimating the location of UMN.

A. Phase 1: Magnetic Field Detection
The geomagnetic ﬁeld is mostly generated by the ﬂow of electric current inside the Earth. The geomagnetic ﬁeld is changed in real-time by the electronic equipment generated around the magnetic sensor including the solar wind. On the other hand, there is no way to accurately model the geomagnetic ﬁeld in real-time. However, experimental studies have been carried out in consideration of the trend of the geomagnetic ﬁeld when modeling the magnetic ﬁeld [5]. Therefore, this paper assumes that there is a trend in the geomagnetic ﬁeld and chooses the double exponential smoothing (DES) method which can consider the trend among the time series analysis method [6]. The DES can be expressed as [6]

BkD(t) = α·Bk(t)+(1−α)· BkD(t − 1) + Tk(t − 1) , (6)

Tk(t) = β · BkD(t) − BkD(t − 1) + (1 − β) · Tk(t − 1), (7)

where BkD(t) is the smoothed k-axis magnetic ﬁeld, Tk(t) is the k-axis trend value, α (0 < α < 1) is the DES coefﬁcient, and β (0 < β < 1) is the trend coefﬁcient. In
order to compensate and detect in real-time, we constructed the window ﬁlter Wk(t) as

Wk(t) = BkD(t−M +1), · · · , BkD(t−M +N ), · · · , BkD(t) , (8)
where M is the total ﬁlter length, N is the number of smoothed magnetic ﬁeld used to forecast. If there is a magnetic ﬁeld from the UMN, a large difference occurs because both the smoothed magnetic ﬁeld and the predicted magnetic ﬁeld show increasing or decreasing straight lines. On the other hand, if there is only the geomagnetic ﬁeld, the predicted magnetic ﬁeld crosses or approaches the smoothed magnetic ﬁeld. Thus, the magnetic ﬁeld can be detected by comparing the difference between the smoothed magnetic ﬁeld and the predicted magnetic ﬁeld. Thus, the detection ﬁlter Dk(t) can be expressed as

Dk(t) =

BDk (t) Fk (t)

=

BkD(t + 1 − m), · · · , BkD(t) Fk(t + 1 − m), · · · , Fk(t)

.

(9)

where Fk(t + 1 − m) = BkD(t + 1 − m) + mTk(t + 1 − m) is the predicted magnetic ﬁeld and m is the number of the
predicted magnetic ﬁeld. Thus, the magnetic ﬁeld of the
proposed scheme to detect the UMN can be expressed as

F (q) = min

Fx(q)2 + Fy(q)2 + Fz(q)2, (10)

q∈{t+1−m,··· ,1}

Here, Fk(q) = Fk(q) − BkD(q). In order to measure the presence of the UMN, the detection threshold ThD is set by calculating the false alarm rate during the absence of the UMN,
and the magnetic ﬁeld is detected according to the threshold.

B. Phase 2: Magnetic Field Localization

Since the magnetic ﬁeld does not have the characteristic of propagating far away, the time-of-arrival (ToA) method can not be used. Moreover, if the location of the sensor that detects the magnetic ﬁeld is directly estimated as the location of the UMN, a large localization error may occur since the magnetic ﬁeld has the exponential characteristic according the the distance. Hence, it is necessary to judge whether the UMN is entering the sensor network. Determination of whether or not the UMN enters the sensor network can be expressed as

P=

1

if

1 J

0

if

1 J

J j=1

Yj (t)

ThP

J j=1

Yj (t)

<

ThP

,

(11)

where J is the number of deployed anchor nodes (ANs), Yj(t) is the smoothed magnitude of the magnetic ﬁeld of the j-th AN, ThP is the threshold for determining the entrance, and P is the entrance result. In this case, ThP can be adjusted by considering the maximum value of the magnitude of the
magnetic ﬁeld that varies with the dipole moment. Then, the
location estimation according to entrance result P can be
expressed as

XY(t) =

ﬁnd(Yj (t)

ﬁnd(Yj(t) ThP )

1 J

J j=1

Yj

(t)ThP

)

if P = 0 if P = 1

,

(12)

where ﬁnd(·) is a function to ﬁnd the AN position, and XY(t) denotes the 2-dimensional positions of the ANs at t [sec]. Finally, the estimated location XY (t) = E[XY(t)].

IV. SIMULATION RESULTS
Since there is a physical limitation to evaluate the detection and localization perform in real underwater environments, we measured the geomagnetic ﬁeld on the ground. In order to evaluate the detection performance, the magnetic ﬁeld was generated by superimposing the modeled magnetic ﬁeld using (1) on the geomagnetic ﬁeld measured at dawn. The three-axis dipole moment of the UMN is {54, 28.3, 88.6}, the movement velocity is 1 [m/sec], and movement depth is 0 [m]. The UMN moves on-top of a sensor in the sensor network line. The sensor deployment distance is 10 [m], and the deployed depth is 20 [m]. We assume that the three-axis of all sensors are aligned. We considered the SES coefﬁcient γ = 0.1, the DES coefﬁcient α = 0.1, the trend coefﬁcient β = 0.94, the ﬁlter length M = 52 [sec], and the forecasting number m = 7 [sec].

523

Figure 1 shows the initial and total detection distances according to the detection threshold in an ideal environment. The ﬁgure shows that the DES scheme can extend the detection range of the SES scheme.

5

1-NN

3-NN

4.5

Prop.

4

MDE (Mean Distance Error) [m]

Initial Range [m]

0

SES

-5

DES

-10

-15

-20 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 Threshold [nT]
40

30

20

10

SES

DES

0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5

Threshold [nT]

Total Range [m]

Fig. 1. Ideal detection range according to the detection threshold

A. Detection Performance
In order to evaluate the performance, we calculate the false alarm rate Pfa and simulate 1,000 times using different section of the measured geomagnetic ﬁeld with ThD when Pfa=10−2. Figure 2 shows the false alarm rate according to the threshold and detection probability according to time. From the detection probability result, we can observe that the proposed scheme is sensitive to the geomagnetic ﬁeld trend, which can shorten the initial detection time and extend the total detection time. Through the simulation results, we observe the proposed scheme can improve the detection range by considering the trend of the geomagnetic ﬁeld.
B. Localization Performance
In order to evaluate the localization accuracy, we consider the deployment distance between each AN is 2∼10 [m] and

3.5

3

2.5

2

1.5

2

3

4

5

6

7

8

9

10

Deployment Distance [m]

Fig. 3. MDE performance

CPA (Closest Proximity Approach) is 10 [m]. Figure 3 shows the mean distance error (MDE) according to the deployment distance. We consider the k-NN (Nearest Neighbor) [7] to compare the performance. From the simulation results, it is expected that the proposed scheme can design the costeffective localization system than the 1-NN and 3-NN schemes by considering the characteristics of the magnetic ﬁeld.
V. CONCLUSIONS
In this paper, we proposed the magnetic ﬁeld detection scheme and the localization scheme for the mobile underwater magnetic ﬁeld induction communication which can be considered in IoUT. The proposed scheme improves the detection range by considering the trend of the geomagnetic ﬁeld and can improve the localization accuracy. In the further work, we will study the method of estimating the location of multiple UMNs using the clustering method.
ACKNOWLEDGMENT
This work was supported by the NRF grant funded by the Korea government (MSIT) (2016R1A2B2014497).

False Alarm Rate

0.01 SES DES
0.005

Detection Probability

0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 Threshold [nT]
1 SES DES
0.5

0

-60

-40

-20

0

20

40

60

80

Time [sec]

Fig. 2. False alarm rate (top) and detection probability (bottom)

REFERENCES
[1] M. C. Domingo, “An overview of the internet of underwater things,” Jour. Network Comput. Appl., vol. 35, no. 6, pp. 1879-1890, Nov. 2012.
[2] I. F. Akyildiz, P. Wang, and Z. Sun, “Realizing underwater communication through magnetic induction,” IEEE Commun. Mag., vol. 53, no. 11, pp. 42-48, Nov. 2015.
[3] A. Sheinker, L. Frumkis, B. Ginzburg, N. Salomonski, and B.-Z.Kaplan, “Magnetic anomaly detection using a three-axis magnetometer,” IEEE Trans. Magn., vol. 45, no. 1, pp. 160-167, Jan. 2009.
[4] M. Kim, U. Joo, C. Lim, S. Yoon, and S. Moon, “A study on detection of underwater ferromagnetic target for harbor surveillance,” Jour. KIMST, vol. 18, no. 4. pp. 350-357, Aug. 2015.
[5] J. B. Nelson and T. C. Richards, Magnetic Source Parameters of MR OFFSHORE Measured during Trial MONGOOSE 07, Defense R&D Canada-Atlantic, DRDC Atlantic TM 2007-223, Sept. 2007.
[6] E. S. Gardner Jr. “Exponential smoothing: The state of the art - Part II,” Int. Jour. Forecast, vol. 22, no. 4, pp. 637-666, Oct. 2006.
[7] A. Kushki, K. N. Plataniotis, and A. N. Venetsanopoulos, WLAN Positioning System: Principles and Applications in Location-Based Services, Cambridge University Press, 2012.

524

