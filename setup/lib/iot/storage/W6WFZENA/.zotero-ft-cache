Component Mapping Method for Indoor Localization System based on Mixed Reality

Taeyoung Shin Dept. of Computer Engineering
Ajou University Suwon-si, Korea tlsxodud154@ajou.ac.kr

Byeong-hee Roh Dept. of Computer Engineering
Ajou University Suwon-si, Korea tlsxodud154@ajou.ac.kr

Abstract—As the technology of the Internet of Things develops and spreads, the interest of the existing outdoor location information system is concentrated on the indoor information system. Recently, indoor localization has been actively researched, but signal-based method such as WiFi, BLE, UWB, and magnetic ﬁeld have limitations in accuracy depending on the indoor propagation environment. In this paper, we propose an indoor localization method with high scalability and low computational complexity based on Component/Body abstracting indoor structure. To demonstrate the efﬁciency of this system, we experimented at 25 arbitrary indoor spaces and showed an 88 percent accuracy. We predict that this system will solve the problems of existing signal-based method and contribute to improving social stability.
Index Terms—internet of things(IoT), Mixed Reality, Microsoft Hololens, Indoor Localization, Component Mapping Method
I. INTRODUCTION
With the development and spread of smart devices and wearable devices such as the internet of things(IoT), the interest of the existing outdoor location information system is concentrated on the indoor information system. According to Technavio’s 2017 Global LBS Market report, global indoor Location-Based Service(Indoor LBS) market sales were estimated at 4.8 billion dollars in 2018, an estimated increase of 47 percent to 7.13 billion dollars in 2019. Also, Global Indoor LBS market sales are projected to grow at an average annual rate of 47.3 percent, creating a 16.3 billion dollars market in 2021. Most of all, indoor localization method can be applied to various ﬁelds in the future. In addition, it can be applied to various ﬁelds such as indoor-based games and indoor facilities management[1]. In addition, indoor localization method has not been popularized in Korea, so it is unique and marketable.
In fact, The research on indoor localization has been done steadily since before. Recently, it has been actively researched using infrared technology, ultra wideband (UWB), Bluetooth low energy (BLE), and radio frequency identiﬁcation (RFID)[2]. but the signal-based method such as WiFi, BLE, UWB have limitations in accuracy depending on the indoor propagation environment. One of the most representative indoor location estimation techniques is ﬁngerprinting [3].

This technique estimates indoor location using Wi-ﬁ signal, which is relatively high in positioning accuracy. However, if obstacles such as a wall exist between the mobile device and the access point (AP), signal attenuation may occur and the accuracy of the indoor positioning may deteriorate. And RFID has a very limited recognition distance. In addition, because hand-held devices are used, human factors cannot be considered and dangerous situations can occur[4].
Therefore, in this paper, to solve these signal-based problems, we propose Component mapping method for indoor localization based on Mixed Reality. We use Unity Engine and Microsoft Hololens which is Mixed Reality device. We deﬁne the Component/Body Set. Then we implement the indoor localization by the sequential search method of the generated structure set and the predeﬁned instance DB based on this. To implement this system, Pixel block scan and array dimensions for the matching algorithm is used. To demonstrate the efﬁciency of this system, we experiment at 25 arbitrary locations in indoor space.
Recently, although similar studies have been conducted, the study is a level of mapping previously stored images to HMD images[5]. Thus, the image-based study is limited by the number and level of stored images and requires large computations. Therefore, we propose indoor localization technology with high scalability and low computational complexity based on Component/Body mapping method. Through this research, we predict that this system will solve the problems of existing signal-based method and contribute to improving social stability. Also, MR technology is in the early stage of development. So we can present a service model and contribute to improving the competitiveness of the fourth industry.
The rest of the paper is organized as follows. we present the motivation of this study and the introduction of this system in section I. In Section II we present related work of methods for indoor localization. In section III we propose Component/Body mapping method based on mixed reality device for indoor localization. In section IV, we present experiments and simulation results. Finally, In section V, we present conclusions and future work.

978-1-7281-1340-1/19/$31.00 ©2019 IEEE

379

ICUFN 2019

TABLE I ADVANTAGES AND LIMITATIONS OF CURRENTLY AVAILABLE INDOOR LOCALIZATION APPROACHES

Approach

Evaluation criteria

Method

Additional IT-infra required Data preparation effort Continuous positioning

Wireless

- Speciﬁc infrastructure

O Signal measurement

+ Depends on

LAN

installation

at reference points

signal coverage

RFID/

- Speciﬁc infrastructure

O Signal measurement

+ Depends on

NFC

installation

at reference points

signal coverage

Indoor

- Speciﬁc infrastructure

++

+ Depends on

-GPS

installation

None

signal coverage

3D-Maps

+ 3D Scanner for

– Cleaning recorded

O Depends on

/SLAM

initial data creation

point clouds

point cloud quality

Component ++ No special infra-structure

O Pre-trained

+ Depends on

Method is required other than MR HMD

Database

Mapping capacity

** appraisal: ++ very good/positive; + good/positive; O average; - poor/negative; – very poor/negative

Accuracy - Building-speciﬁc disruptive factors - Building-speciﬁc disruptive factors - Building-speciﬁc disruptive factors O Depends on point
cloud quality - Building-speciﬁc disruptive factors

II. RELATED WORK
A. Current research efforts in indoor localization
Li and Becerik-Gerber [6] have presented a performancebased evaluation of RFID-based indoor location sensing solutions for the built environment[7]. They have concluded that no single solution meets all the criteria for successful implementation and that the adaptability of the evaluated solutions within the built environments is uncertain so that further research is needed.
Motamedi et al. [8] have investigated the use of RFID technology for indoor localization of RFID-equipped, ﬁxed and moving assets during the operation phase of facilities. Apart from the asset location, the operators position can also be estimated using surrounding ﬁxed tags and a handheld RFID reader [8]. However, the main disadvantage of signalbased technologies is the need for extra equipment installation and maintenance (both tags and readers), which still involves a considerable cost factor. Park and Hashimoto [9] have used passive RFID tags on the ﬂoor to enable a robot to successfully estimate the location and the orientation during navigation. The passive RFID tags offer a cost-effective alternative but require a large number of tags installed in a grid layout on the ﬂoor. Park and Hashimoto [9] have deployed 198 tags over an area of only 420 cm x 620 cm area.
Oskiper et al. [10] have introduced a camera tracking system for indoor and outdoor augmented reality applications using an integrated system of a monocular camera and an Inertial Measurement Unit (IMU). Since their approach does not use AR markers, they have to rely on robust visual feature tracking which is achieved through IMU supported feature matching. Available AR based indoor positioning methods usually requires artiﬁcial markers to estimate the camera position and orientation. For example, Park et al. [11] have presented an AR-based ﬁeld inspection scenario using artiﬁcial 2D markers within the frame of a BIM-based construction defect management system. Kuo et al. [12] have proposed an outside-in tracking approach that uses an infrared invisible marker mounted on the head of a potential operator. This infrared marker is detected and tracked from the outside to estimate the position and viewing direction of the operator.

However, this approach requires infrared tracking devices all over the facility to be both installed and maintained. Another AR based (optical) approach is the generation of 3D point maps via the camera or laser scanner [13], rather than using artiﬁcial 2D markers.
B. Previous work in augmented reality-based indoor localization
Simultaneous localization and mapping (SLAM) allow building point clouds of the building interior with relation to the camera position [14,15]. In the approach, the required 3D map must be created ﬁrst, which is then linked to a virtual building model to calculate the position of the camera in a real-world coordinate system. Temporary bodies, e.g. poster banners or construction areas, can disturb the comparison of the currently detected with the previously scanned environment. Another example of comparing images from the users mobile device to a 3D point cloud model generated from a set of pre-collected site photographs can be found in [16].
These approaches require an unreasonably huge amount of data (videos or images) collected for every single facility prior to being able to support AR based indoor navigation and do not work in cases where the indoor scene has been changed by temporary bodies [16]. Moreover, they usually require additional IT infrastructures, like RFID sender or WLAN networks, and special calibration methods, as well as previous building scans and data preparation before navigation, can be realized.
Francis et al. [17] is an AR system for facility management is proposed by using image-based indoor localization method which estimates user ’s indoor location and direction by comparing user’ s view and building information modeling (BIM) based on learning calculation. The image retrieval method attempted to ﬁnd the image closest to the captured image from the database image, and a two-dimensional BIM image was created for the image database in the 3D BIM model of the building. A pooling layer 4 of a pre-trained VGG network [18] was used to compare domains between BIM images and color images, and the weighting of pooling lasers was used for comparison after delivering images through the network. The advantage of this system is that it specializes in facility

380

management and succeeded in localization at a relatively high speed. However, this system has a disadvantage that communication between server and client is very important because the server with GPU carries out many calculations.
III. PROPOSED METHOD
A. Problem statement and objectives
• No special infrastructure installation • No high computational complexity • No low scalability In this paper, to solve these problems, we propose indoor localization technology with high scalability and low computational complexity based on Component mapping method that abstracts indoor structure.
B. Development environment

TABLE II DEVELOPMENT ENVIRONMENT

MR Device SDK
Versions .NET version Development
Tools Graphics card Actual Indoor experimental space

Microsoft Hololens Windows 10.0.17763.132 SDK Unity Augmented Reality SDK
Framework 4.7.2 Visual Studio 2017 Unity Engine 2017.4.17f1 Colorful GF GTX1060 OC DDR5 3G the 9th ﬂoor of the Paldal Building (at Ajou University in Suwon-si, Korea)

base unit for representing a Body. And the Body is an integral unit for expressing a substance. In other words, as ﬁg. 1, several Components form a single Body.
In detail, The Component consists of a total of ﬁve ﬁelds: id, type, name, location, and a set of arrays of the pixel value. The ID ﬁeld is non-duplicate random numbers and is unique. The type ﬁeld can distinguish between a Component and Body. The location ﬁeld consists of an array of x-axis value and yaxis value that appear on the 2D map. And arr-pixelval is set of arrays of the pixel value. In the 2D map, if we generate 255 pixels with 3.14 x 1.96 pixels based on 800x500 pixels, Black data is all set to 1 and white space is set to 0. The ﬁelds of Component are constructed based on the pixel values thus obtained.
Next, The Body consists of a total of ﬁve ﬁelds: id, type, name, location, and a set of arrays of the Component. As we mentioned earlier, The ID ﬁeld, type ﬁeld, location ﬁeld are the same as the above. And arr-compo is set of arrays of the Component. As we mentioned earlier, several Components form a single Body.

To implement this localization system, we use Unity Engine and Microsoft Hololens which is the Mixed Reality device is used. Here, we used Unity 2017.4.17f1 version and Windows 10.0.17763.132 SDK version and Unity Augmented Reality SDK. Also, we used the .NET Framework 4.7.2 version. The development tools we used are Visual Studio 2017 version and Unity Engine 2017.4.17f1 version. Because in order to use the Microsoft hololens, we have to use together Unity 2017.4.17f1 version and Visual Studio 2017 version. The Graphics card used was the GF GTX1060 OC DDR5 3G. Unity engine needs a good GPU to run smoothly. The experiment indoor-space was located on the 9th ﬂoor of the Paldal Building (at Ajou University in Suwon-si, Gyeonggi-do, Republic of Korea)
C. Component/Body Mapping Method

Fig. 2. Component/Body Recognition in Hololens
The actual screen of the Component/Body set recognized on hololens is as ﬁg. 2. In this study, the system is Generate 255 pixels with 3.14 x 1.96 pixels based on 800x500 pixels and set Component for all pixels per unit pixel. When all Components are determined, create a Body. For example, As shown in ﬁg. 2, A single Body can consist of a total of 48 instances.
D. Pixel block scan and array dimensions for the matching algorithm

Fig. 1. Deﬁne Component/Body Set

In this study, deﬁning the Component and Body is very important. By deﬁning Component and Body, MR Device can recognize Component and Body. At ﬁrst, Component is a small

Fig. 3. Pixel block scan and array dimensions for the matching algorithm

381

Fig. 4. the process of indoor localization

Next, the method of generating an instance at a unit pixel is [19]. Abhishek et al. [19] are tiling the image with overlapping grid or block method. The wavelet-decomposed image is being tiled by the block of R x R pixels. This block is horizontally slid by one pixel rightwards starting with the upper left corner and ending with the bottom right corner as shown in Fig. 3. Here the size of the duplicated regions is assumed to be larger than block size and the total number of overlapping blocks are (M - R + 1) x (N - R + 1) for an image size of (M x N) pixels.
As shown in the ﬁg. 3, the image is tiled by Block method to create a Component in a unit pixel. So, create a set of Component/Body set through the structure of these pixel values. And the system sequentially compares the arbitrary data structure created based on the Component/Body set with the 2d map of the pre-deﬁned component database. Finally, the indoor localization can be succeeded through the sequential search mapping with the predeﬁned database. And successful indoor localization data is represented on MR HMD Device with 2D map.

MR HMD Device is within the 1.5m radius, the experiment will be considered successful.

TABLE III EXPERIMENTAL RESULTS ON SUCCESS/FAIL IN 25 AREA

Success/Fail Success area Fail

Area 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16
17, 18, 20, 21, 22, 23, 24 1, 19, 25

IV. EXPERIMENT RESULT
In this study, to demonstrate the efﬁciency of this system, indoor localization was experimented at 25 arbitrary locations in indoor space as shown in ﬁg. 5.

Fig. 6. Representative Experimental Results in four area

Fig. 5. the process of indoor localization
The experiment proceeded as follows. As we mentioned earlier, We create 25 arbitrary circles with a radius of 1.5 meters. When we operate the system in each radius, if the

In the result, of the total of twenty-ﬁve experiments, twentytwo experiments were considered successful. The total success rate of the experiment is 88 percent. The ﬁg. 6 is representative of the experimental results in 3, 14, 18, and 22 areas. And we were able to analyze three failed experiments(1, 19, and 25 areas). As you can see Fig. 6, in the failed experiments, the Component/Body set was not set well enough. That is, the condition of the failed area was insufﬁcient becausve the information was scarce and the ﬁeld of view was so narrow. In the general experimental environment, under the condition that the Component/Body set was set well, our experiment results in a high rate of success.

382

V. CONCLUSION
In this paper, we proposed indoor localization technology with high scalability and low computational complexity based on Component/Body that abstracts indoor structure. We used Unity Engine and Microsoft Hololens which is Mixed Reality device is used. We deﬁned the Component/Body Set. To implement this system, Pixel block scan and array dimensions for the matching algorithm was used. And the system sequentially compares the arbitrary data structure created based on the Component/Body set with the 2d map of the pre-deﬁned component database. Finally, the indoor localization can be succeeded through the sequential search mapping with the predeﬁned database. And successful indoor localization data is represented on MR HMD Device with 2D map.
In this study, we solved the problems of signal attenuation caused by obstacles and special infrastructure installation in existing research. To demonstrate the efﬁciency of this system, indoor localization was experimented at twenty-ﬁve arbitrary locations in an indoor space and showed high accuracy of 88 percent. And we were able to analyze three failed experiments. The condition of the failed area was insufﬁcient because the information was scarce and the ﬁeld of view was so narrow. In the general experimental environment, under the condition that the Component/Body set was set well, our experiment results in a high rate of success.
Through this study, it is possible to quickly identify the location of the person in emergency situations such as a disaster. And we predict that it will contribute to the enhancement of social stability through the provision of stable and effective technology in the indoor environment. Also, mixed reality technology is still in the early stage of development, so it can present an application service model and contribute to improving the competitiveness of the 4th industry.
Finally, we expect that the system implemented in this study will be a more powerful and effective system if the indoor positioning accuracy is improved and the Component can be allocated dynamically. In addition, if the process of digitizing the 2D map is generalized, it will become a more universal and efﬁcient system. In addition, the system can evolve into an indoor navigation system, which will be an additional extended version in this study.
ACKNOWLEDGMENT
This research was supported by the MSIT(Ministry of Science and ICT), Korea, under the ITRC(Information Technology Research Center) support program(IITP-2018-2018-001431) supervised by the IITP(Institute for Information and communications Technology Promotion)

[3] Y. Zhuang, J. Yang, Y. Li, L. Qi, and N. Rl-Sheimy, CSI-based ﬁngerprinting for indoor localization: A deep learning approach, IEEE Transactions on Vehicular Technology, Vol. 66, No. 1, pp. 763-776, Dec. 2017
[4] J. Steven, G. Madeleine, and M. Bilge, Handheld or handsfree?: Remote collaboration via lightweight head-mounted displays and handheld devices, in Proc. CSCW 2015, Vancouver, BC, Canada, pp. 1825-1836, Mar. 2015.
[5] F. Baek, I. Ha,H. Kim, ”Augmented reality system for facility management using image-based indoor localization,” Automation in Construction, Vol.99, pp.18-26, Mar. 2019
[6] N. Li, and B. Becerik-Gerber, ”Performance-based evaluation of RFIDbased indoor location sensing solutions for the built environment,” Advanced Engineering Informatics, Vol. 25 No. 3, pp.535546, Aug. 2011
[7] M. Neges, C. Koch, M. Knig, and M. Abramovici, Combining visual natural markers and IMU for improved AR based indoor navigation, Advanced Engineering Informatics, Vol. 31, No. 1, pp. 18-31, Oct. 2017.
[8] A. Motamedi, M. M. Soltani, and A. Hammad, ” Localization of RFIDequipped assets during the operation phase of facilities,” Advanced Engineering Informatics, Vol. 27 No. 4, pp. 566 579, Oct. 2013
[9] S. Park, and S. Hashimoto, ”An intelligent localization algorithm using read time of RFID system,” Advanced Engineering Informatics, Vol. 24 No. 4, pp. 490497, Nov. 2010
[10] O. Taragay, S. Samarasekera, and R. Kumar, ”Multi-sensor navigation algorithm using monocular camera, IMU and GPS for large scale augmented reality,” in Proc. ISMAR 2012, Atlanta, USA, Nov. 2012
[11] C. Park, D. Lee, O. Kwon, and X. Wang, ”A framework for proactive construction defect management using BIM, augmented reality and ontology-based collection template,” Automation in Construction, Vol. 33, pp. 6171, Aug. 2013
[12] C. Kuo, T. Jeng, and I. Yang, ”An invisible head marker tracking system for indoor mobile augmented reality” Automation in Construction, Vol. 33, pp. 104115, Aug. 2013
[13] H. Surmann, A. Nchter, and J. Hertzberg, ”An autonomous mobile robot with a 3D laser range ﬁnder for 3D exploration and digitalization of indoor environments,” Robotics and Autonomous System, Vol. 45 No. 34, pp. 181198, Dec. 2003
[14] D. Borrmann, A. Nchter, M. akulovic, I. Maurovic, I. Petrovic, D. Osmankovic, and J. Velagic, ”A mobile robot based system for fully automated thermal 3D mapping,” Advanced Engineering Informatics, Vol. 28, No. 4, pp. 425440, Oct. 2014
[15] F. Fraundorfer, L. Heng, D. Honegger, G. Lee, L. Meier, P. Tanskanen, and M. Pollefeys, ”Vision-based autonomous mapping and exploration using a quadrotor MAV” in Proc. IROS 2012, Vilamoura, Algarve, Portugal, pp. 45574564, Oct. 2012
[16] H. Bae, M. Golparvar-Fard, and J. White, ”High-precision vision-based mobile augmented reality system for context-aware architectural, engineering, construction and facility management (AEC/FM) applications,” Visualization in Engineering, Vol. 1 No. 1, pp. 113, Jun. 2013
[17] F. Baeka, I. Ha, and H. Kim, Augmented reality system for facility management using image-based indoor localization, Automation in Construction, Vol. 99, pp. 1826, 2019.
[18] I. Ha, H. Kim, S. Park, and H. Kim, Image retrieval using BIM and features from pretrained VGG network for indoor localization, Building and Environment, Vol. 140, pp. 2331, 2018.
[19] K. Abhishek, and S. D. Josh,Detection of copy-move forgery using wavelet decomposition, in Proc. ICSC2013, pp.396-400, Dec. 2013

REFERENCES
[1] H. Moon, H. Cho, and Y. Han, Mixed Reality(MR) Technology Trends and Development Prospect, The Journal of the Convergence on Culture Technology (JCCT), Vol. 3, No. 3, pp.21-25, 2017
[2] Y. Zhuang, J. Yang, Y. Li, L. Qi, and N. El-Sheimy, Smartphone-based indoor localization with bluetooth low energy beacons, Sensors 2016, Vol. 16 No. 5, 596, Nov. 2016

383

