Databases,(SQL,(and(Pandas
cs109,'Fall'2015'(#cs109) Rahul&Dave
rahuldave@gmail.com,"@rahuldave,"staff@cs109.org
ANNOUNCEMENTS
Class%in%in%Science%Center%B%star.ng%THIS%thursday,%17th%Sep,% 2015!

It#took#about#three#years# before#the#BellKor’s#Pragma6c# Chaos#team#managed#to#win#
the#prize#...#The#winning# algorithm#was#...#so#complex# that#it#was#never#implemented#
by#NeDlix.#1
1"h$ps://hbr.org/2012/10/big1data1hype1and1reality

Data$Scien*st:$Sexiest$Job$of$the$21st$Century
It’s%important%that%our%data%team%wasn’t%comprised%solely%of%mathema6cians and%other%“data%people.”%It’s%a%fully%integrated%product%group%that%includes people%working%in%design,%web%development,%engineering,%product% marke6ng,
and%opera6ons.%They%all%understand%and%work%with%data,%and%I%consider%them all%data%scien6sts...%OAen,%an%engineer%can%have%the%insight%that%makes%it%
>clear%how%the%product’s%design%should%work,%or%viceCversa%—%a%designer%can% have
the%insight%that%helps%the%engineers%understand%how%to%beEer%use%the%data.% Or
it%may%take%someone%from%marke6ng%to%understand%what%a%customer%really wants%to%accomplish.2
2"D."J."Pa(l,"U.S."Chief"Data"Scien(st,"Building"data"science"teams."""O'Reilly"Media,"Inc."," 2011.

DATA$ENGINEERING
• compute:#code,#python,#R,#julia,#spark,#hadoop • storage/database:#git,#SQL,#NoSQL,#HBase,#disk,#
memory • devops:#AWS,#docker,#mesos,#repeatability • product:#database,#web,#API,#viz,#UI,#story
Diﬀerent(at(diﬀerent(scales....

What%kind%of%data%storage%do%you% need?
• memory • disk:#what#if#we#do#not#ﬁt? • cluster:#what#if#we#s1ll#do#not#ﬁt? • cluster:#what#if#we#need/can#use#parts? • What#if#we#MUST#bring#compute#to#disk?

What%kind%of%data%access%do%you% need?
• rela%onal:#pandas,#SQL:#Postgres,#sqlite,#Hbase,# VoltDB
• document-oriented:#MongoDB,#CouchDB • key1value:#Riak,#Redis,#Memcached • graph-oriented:#Neo4J

Today&we'll&focus&on&rela1onal
• What&is&a&rela,onal&Database? • What&Grammar&of&Data&does&it&follow? • How&is&this&grammar&implemented&in&Pandas? • How&is&this&grammar&implemented&in&SQL

Rela%onal(Database
Dont%say:"seek"20"bytes"onto"disk" and"pick"up"from"there."The"next"row"
is"50"bytes"hence
Say:"select"data"from"a"set."I"dont" care"where"it"is,"just"get"the"row"to"
me.

Rela%onal(Database(contd)
• A#collec(on#of#tables#related#to#each#other#through# common#data#values.
• Rows#represent#a:ributes#of#something
• Everything#in#a#column#is#values#of#one#a:ributes
• A#cell#is#expected#to#be#atomic
• Tables#are#related#to#each#other#if#they#have# columns#called#keys#which#represent#the#same# values

Contributors
!Candidates

Scales'of'Measurement
• Quan&ta&ve*(Interval*and*Ra&o) • Ordinal • Nominal3
3"S."S."Stevens,"Science,"New"Series,"Vol."103,"No."2684"(Jun."7,"1946),"pp."677@680

Grammar%of%Data
Been$there$for$a$while$(SQL,$Pandas),$formalized$in$ dplyr4.
• provide)simple)verbs)for)simple)things.)These)are)func8ons) corresponding)to)common)data)manipula8on)tasks
• second)idea)is)that)backend)does)not)ma:er.)Here)we)constrain) ourselves)to)Pandas)and)sqlite
• mul8ple)backends)implemented)in)Pandas,)Spark,)Impala,)Pig,) dplyr,)ibis,)blaze
4"Hadley"Wickham:"h0ps://cran.rstudio.com/web/packages/dplyr/vigne0es/ introduc>on.html

Why$bother
• learn'hot'to'do'core'data'manipula1ons,'no'ma4er' what'the'system
• rela1onal'databases'cri1cal'for'mon9memory'ﬁts.' Big'installed'base.
• one'oﬀ'ques1ons:'google,'stack9overﬂow,'h4p:// chrisalbon.com

GO#TO#NOTEBOOK5
5"Diagram"from"7"databases"in"7"weeks,"Pragma6c"Programmers

RDBMS&when:
• data%structure%regularity%is%known • transac3ons%are%required • beneﬁt%from%years%of%tuning • not%good%for%deep%hierarchy • which%kind%depends%on%use%case:%pandas,%hbase,%
columnar,%postgres,...

FIN

