OCC Protocol for connected LEDs in Optical Camera Communication Networks

Thanh Luan Vu, Minh Duc Thieu, Van Thang Nguyen, Yeong Min Jang
Department of Electronics Engineering, Kookmin University, Seoul, South Korea vuthanhluan999@gmail.com, yjang@kookmin.ac.kr

Abstract— Nowadays, and Internet of Lights (IoL) can be used to help a variety of lights in home, building, factory, city, and so on. The achievement of wireless communication technologies have brought convenience and amazing services to users. The hybrid use of wireless technologies in a system is not a novel idea, however, in this paper, we introduce the feasible OCC protocol based on Wi-Fi technology and OCC technology that is emerging technology nowadays. Various type of LEDs that implemented based on OCC technologies are connected via an MQTT (Message Queue Telemetry Transportation) broker to bring a promising service of light that allows smartphone users to receiving, control and monitoring data with augmented reality user experience. Demonstrations of the system along with implemented software and hardware are given to illustrate the feasibility of our system.
Keywords—Optical Camera Communication; OCC; hybrid OCC-WiFi; MQTT; OCC Protocol; Internet of Lights; IoL
I. INTRODUCTION (HEADING 1)
Recently, the feasibility of wireless communication using light is again considered. As a subset of OWC, Image Sensor Communication (ISC) has emerged as one of the up-andcoming area of research for today’s world. An appealing OWC standardization activity from IEEE Standards

Association, the IEEE 802.15.7 revision-1 (TG7r1) Task Group is considered as one of remarkable action to promote Image Sensor Communication (ISC) to applicable services. The TG7r1 aims to initialize Image Sensor Communication (ISC) technology in commercial products by making it more feasible. According to the official website of the TG7r1 [1], the OCC technology focusing on Image Sensor Communications. Image Sensor Communications also known as. Optical Camera Communications (OCC) which enables scalable data rate, localization, and message broadcasting, etc. using devices such as the flash, display as the transmitting devices.
In addition, ISC technology uses the similar transmitter as OWC technology, one of the benefits is that the communication system operates in an enormous bandwidth ranging from 400 THz to 800 THz that is unused [2].
In additional, nowadays LED applied to indoor environment have many benefits such as reduces the cost and save time to install. Also, the all smartphone on the market were designed with camera sensor. All of the benefits above make the ISC technology suitable for indoor communication using smartphone and LEDs [3].

Figure 1. Overall Architecture of connected LED networks via MQTT cloud server

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

114

ICUFN 2018

Undeniably, OWC is beneficial to the downlink. Additional solutions, such as infrared (a part of OWC wavelengths) or RF solutions (e.g. Wi-Fi [4], Bluetooth [5], Zigbee [6]) can be used to fulfill the challenge of uplink in OWC systems. We pay a particular attention to indoor scenario, in where Wi-Fi is existing. The hybrid Wi-Fi and OCC system serves two purpose: co-existence and convergence between technologies.
Figure 1 illustrates overall architecture of our proposed system. Various LED types that implement different OCC technologies with various data rates ranging from ten-bps to Mbps are connected to a MQTT cloud sever. The downlink is delivered by optical wavelengths, while the uplink is sent via Wi-Fi. All smartphones with cameras and Wi-Fi module equipped are applicable in our system. Throughout this paper, we propose one OCC protocol to make connection between OCC technology and Wi-Fi technology.
The remainders of this paper are organized as follow. In Section 2 we introduce overview about protocol stack of our OCC protocol. OCC protocol architecture and operation will be described in Section 3. In Section 4, system demonstration and numerical results are given to evaluate our system. Finally, Section V concludes our work and discusses further direction.
II. OCC PROTOCOL OVERVIEW
Our OCC protocol is the lighting device management and configurable which stay on top of MQTT application protocol [7]. In our system, there are four main devices:
· MQTT Cloud Server
· Gateway/Local Gateway
· LED device
· Smartphone with camera
Because of we focusing on indoor scenario, therefore OCC protocol will be applied in the home and building lighting network. The Gateway/Local Gateway will manage its edge network, LED device will receive packet from Gateway then transmit data to the Smartphone camera, while MQTT will control and manage all devices in system. On the other hand, in building scenario, one MQTT server can manage and control multiple number of room.
Figure 2 illustrates the communication exemplary of OCC protocol. In OCC protocol, the communication between MQTT server and Gateway is using the legacy protocols for PHY layer and link layers. Sometime in the agent case in building or home, gateway and MQTT will use wire communication to connect each other, such as Ethernet.
To make connection among Gateway and lighting device, 6LoWPAN [8] technology or some communication using RF technology that compatible with 6LoWPAN will be used. Here, we use Wi-Fi for connection between Gateway and LED devices.
For communication between LED devices and Smartphone camera, it is called unidirectional communication. The data only transfer in one way from LED devices to Smartphone

Figure 2. Protocol stack of OCC protocol
Camera. Therefore, we are calling that process is downlink. Downlink is following IEEE 802.15.7m OWC standard. Uplink is the process that indicate communication between Smartphone to the Lighting devices. This process following the IEEE 802.15.11 standard [9].
For control and management of all devices in system, OCC protocol use Message Queuing Telemetry Transport (MQTT) protocol to do that.
III. OCC PROTOCOL ARCHITECTURE AND OPERATION
A. Components · MQTT Cloud Server: The MQTT server manages Gateway, LED devices, and Smartphone with camera. MQTT server has a global IPv6 address to allow users or devices can enter to server and also MQTT have database to store the information, data, status, ID of all devices in system. · Gateway: The Gateway or Local Gateway have mission to connect between LED to LED, LED to gateway, smartphone to gateway. Like the MQTT server, Gateway also has a global IPv6 address to allow users or devices can enter to it · LED devices: The LED device has two communication blocks: the first is the communication using OWC technology and second is the Wi-Fi communication. The OWC will be used for communication between LED to Smartphone camera while Wi-Fi used for communication between LED to Gateway. The LED devices consists of a LED light, a LED controller and power. The coding will be embedded to the controller based on IEEE 802.15.7m standard. · Smartphone with camera: Smartphone is use camera to receive the data from LEDs while use Wi-Fi to communicate with Gateway or connect directly to MQTT server.
B. Data transmission operations
Figure 4 shows the data transmission operations. · Data transmission from MQTT Server: Based on IPv6 address of LED that already register to the MQTT Server, if MQTT Server want to transmit the

115

data to the LED, MQTT Server will send to the LED
address. · Data receiving: Every downlink data from LEDs to
Smartphone will be sent using OWC technology. · Data transmission from Smartphone: Every uplink
data from smartphone to LEDs uses Wi-Fi.

TABLE I. Parameter of OCC cells being used

Figure 4. Data transmission operations

connected to the network. In our experiment, Wi-Fi is used to connect LEDs to the cloud. These LEDs will follow the OCC protocol to make connection to the Gateway and MQTT Cloud.
B. Numerical Results
We have implemented a software interface for controlling LEDs via cloud is shown in Figure 7. Receiving data from LED panel using Smartphone camera is illustrated in Figure 8. The prototype module for the LED Panel and LED matrix transmitter as shown in Figure 9 and Figure 10 respectively.

IV. IMPLEMENTAL RESULTS
A. Testbed Environment
Figure 5 illustrates the corresponding testbed environment. We use the Personal Computer as the MQTT Cloud Server which Linux operating system installed on it. The Gateway device is Wi-Fi router. Several LEDs with different technologies are implemented in our system. Data rates ranging from 10 bps to 10 kbps and distances ranging from 2m to 10m are considered as the performance limitations of these OCC cells. Table I summarizes the selected LEDs for the implementation.
These OCC cells have their own driver circuits and be

(a)

(b)

Figure 7. Software interface for LEDs controlling: (a) User

interface to update data to selected LED, (b) Successful updated

Fig. 5. Testbed environment

Figure 8. Receiving data from LED panel using Smartphone camera

116

Figure 9. Prototype LED Panel transmitter module
Figure 10. Prototype LED Matrix transmitter module interface.
V. CONCLUSIONS AND DISCUSSION This paper has describe the OCC protocol for complete system for hybrid solution of OCC and Wi-Fi. In our system,

LED devices served downlink purposes, which delivered data to smartphone cameras. Wi-Fi was used as uplink that allowed the smartphones updating the requests to the MQTT cloud server to control the desired information to the interested LED.
This work opened up opportunities to the feasible application of OCC into indoor scenario. A promising use case of our system was that LED lighting can be controlled (e.g. dimming level) over smartphone with augmented reality user experience where the user can know exactly which LED they want to control.
ACKNOWLEDGMENT
This research was supported by the MSIT (Ministry of Science and ICT), Korea, under the Global IT Talent support program (IITP-2017-0-01806) supervised by the IITP (Institute for Information and Communication Technology Promotion).
REFERENCES
[1] https://mentor.ieee.org/802.15/documents?is_dcn=DCN%2C%20Title% 2C%20Author%20or%20Affiliation&is_group=007a.
[2] D. Karunatilaka, F. Zafar, V. Kalavally, and R. Parthiban, “LED based indoor visible light communications: State of the art,” IEEE Communications Surveys & Tutorials, vol. 17, no. 3, pp. 1649-1678, Aug. 2015.
[3] O. Ergul, E. Dinc, and O. B. Akan, “Communicate to illuminate: Stateof-the-art and research challenges for visible light communications,” Physical Communication, vol. 17, pp. 72–85, Dec. 2015.
[4] https://mentor.ieee.org/802.11/documents?is_dcn=DCN%2C%20Title% 2C%20Author%20or%20Affiliation&is_group=0000
[5] http://www.ieee802.org/15/pub/TG1.html
[6] https://standards.ieee.org/findstds/standard/802.15.4-2015.html
[7] Kirit Vanani, Jignesh Patoliya, and Hardik Patel, “A Survey: Embedded World Around MQTT Protocol For IoT Application”, International Journal for Scientific Research and Development ,Volume : 4, Issue : 2, pp. 26-29, May. 2016.
[8] Khalid A. Fakieh, “A Survey on 6LowPAN & its Future Research Challenges”, International Journal of Computer Science and Mobile Computing, Vol. 3, Issue. 10 , pg.558 –570, October 2014.
[9] Stephen V. Saliga, “An introduction to IEEE 802.11 wireless LANs”, IEEE Radio Frequency Integrated Circuits Symposium, June 2000.

117

