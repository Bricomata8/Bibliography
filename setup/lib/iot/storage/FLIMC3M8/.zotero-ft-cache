2016 IEEE First International Conference on Internet-of-Things Design and Implementation

A Mobile Multi-Technology Gateway to Enable IoT Interoperability
G. Aloi G. Caliciuri G. Fortino R. Gravina P. Pace W. Russo C. Savaglio DIMES - Department of Informatics, Modeling, Electronics and System Engineering
University of Calabria, Rende, ITALY Email: [aloi, gcaliciuri, fortino, rgravina, ppace, wrusso, csavaglio]@dimes.unical.it

Abstract—In the Internet of Things (IoT) vision, all our everyday objects will be equipped with processing, sensing and actuating capabilities and need to be connected to the Internet to provide their full potential beneﬁts. Our life will be surrounded by an ecosystem of smart “things” that need to be found, accessed, managed and interconnected to other things. For that purpose, we introduce an IoT Gateway solution based on a smartphone becoming a universal interface between the Internet and the Things. We propose a high-level, uniﬁed and extendible smartphone software architecture for “thing” discovery/management and for data collection, processing and forwarding to Internet and Cloud. We evaluated the feasibility of the proposed solution, throughout the implementation of a speciﬁc testbed. System performances are evaluated in terms of energy consumption, CPU and memory usage. Obtained results validated the soundness of the proposed approach presenting a low usage of hardware resources even if, the consumption introduced by the radio interfaces and the reduced capacity of current batteries, signiﬁcantly limit the smartphone lifetime. This latter aspect will certainly be exceeded in a short time since the technological progress daily produces more efﬁcient radio interfaces and batteries.
I. INTRODUCTION
Internet of Things (IoT) is a concept that aims to enhance the forms of communication that we experienced until today. The dominance of people-to-people communications will soon be overcome by the device-to-device ones. In fact it is expected that the IoT paradigm will involve billion of smart-devices with processing, sensing and actuating capabilities able to be connected to the Internet [1],[2]. The number of things connected to the Internet will be much larger than the number of human beings, and things will become the major generators and receivers of data trafﬁc. IoT is a paradigm born at the edge of the network where there are things that are able to obtain data or information from the real physical world. These things can be directly connected (using wireless technologies e.g. 3G, LTE, 5G, Wi-Fi) or they can be connected through a gateway, forming a local thing network (LTN), to get connection to the Internet. Through a network, these objects can be connected to other devices to analyze data obtained from the information sensing equipment and make independent decisions [3]. Provide a good connection to such a wide number of devices is the most difﬁcult challenge. In this direction we think that smartphones could play a key role since they possess many useful features for the purpose. For example, smartphones are always connected, have a mass diffusion, are equipped with

several communication interfaces (e.g. Wi-Fi, NFC, Bluetooth) and have signiﬁcant storage and computing capability. All these features make them ideal candidates to carry out the delicate task of linking the world of the Internet and the world of “things”.
Starting from this context, we propose a Smartphone-based Gateway solution for IoT Interoperability. It is a speciﬁc multistandard, multi-interface and multi-technology communication framework able to integrate different communication standards and radio interfaces in a whole platform. We developed a software architecture to support a complete smartphone-centric gateway application and ﬁnally, we implemented a real testbed in order to measure the performances of the proposed solution in terms of energy consumption and resources occupancy with the aim of drawing signiﬁcant discussions on the real feasibility of such integrated communication architecture.
The rest of the paper is organized as follows. In section II we review recent literature of IoT interoperability solutions. In section III we propose a Smartphone-based Gateway approach for IoT Interoperability able to handle and use all the communication interfaces in a uniﬁed fashion. In the same section we also describe the software modules and components within the proposed architecture. The testbed implementation and the performances evaluation are shown in section IV whilst the section V concludes the paper presenting also future research directions.
II. MOTIVATIONS AND RELATED WORKS
Global interoperability of hardware/software infrastructures is usually based on standards [4]. However, as IoT is an evolving technology without any speciﬁc central technical coordination and control, it is foreseen that many solutions and (pseudo) standards will be developed and proposed in the coming years. This will lead to massive heterogeneity. Indeed, currently many different (quasi) standards do exist in the IoT arena from several perspectives that meet sectoral needs which refer to worlds that do not talk among themselves.
IoT scenarios will be characterized by a high-degree of heterogeneity at any level (device, networking, middleware, application service, data&semantics), preventing IoT solutions to interoperate. Although many IoT-oriented projects have dealt or are currently dealing with developing IoT architectures in any or speciﬁc application domains [5], [6], [7], not many

978-1-4673-9948-7/16 $31.00 © 2016 IEEE

259

DOI 10.1109/IoTDI.2015.29

projects have addressed interoperability/integration issues (e.g. iCore-Butler [8]).
This panorama, still very heterogeneous and messy, is playing as an inhibitor to the mass-market diffusion that, on the contrary, asks for clear use-cases, ease of use and low price devices and solutions. Therefore, all these new areas suffer from “young technology” problems and have evident difﬁculties to establish on large-scale market.
On the contrary, the smartphones market continues to dominate the scene, thus all the developers and creators of new services and technologies are working to have a close interaction with the smartphone’s world, even if most of them proposes proprietary solutions causing the lack of a comprehensive strategy. Since smartphones are increasingly present in people’s pockets and home and, in many cases, they are already equipped with several radio interfaces to communicate with different devices, they are becoming the ideal candidates to collect, process and forward data coming from wireless IoT devices or sensor networks [9], [10]. In particular this work is an extension of [11] in which only simple sensor networks have been considered.
Actually, several works involving smartphones in IoT scenarios have been conducted. One ﬁrst approach on smartphones used as a mobile and autonomic service gateway is presented in [12]. Authors propose a service-oriented middleware approach where smartphones provide gateway services to bridge the gap between IoT services and Cloud services. However, this work is mainly focused on few issues like collaborative event-based context management, adaptive and opportunistic service deployment and invocation, multicriteria (user and performance-oriented) optimization decision algorithm. In [13], an interesting literature overview on improved framework for smartphone using Internet of Things is presented and the authors highlighted the close link that exists between these worlds. A hub-based approach for IoT interoperability is presented in [14] where the authors advocate the use of IoT “hubs” to aggregate things using web protocols, and suggest a staged approach to interoperability.
Another interesting protocol and architecture proposal to bring things into IoT is presented in [15]. In particular, the paper proposes the use of an IoT gateway as a fundamental component, within the IoT architectures, to provide seamless connectivity and interoperability among things. In such a case, however, the IoT gateway is not a smartphone but an embedded computer running Linux OS. Following the same philosophy of the authors, our main goal has been related to the porting of all the functionality of an IoT gateway on a common smartphone. Thus, we propose an architecture that is able to interact with all major today’s IoT technologies and that is enough ﬂexible to host the technological advances that will come by exploring the possibility of creating a smartphonecentric mobile gateway that is able to put some order in the current panorama according to a simple paradigm: “my world in my pocket”. Today’s smartphones have, for sure, a set of potentialities to support gateway services (i.e., they are always interconnected, they host sophisticated operative

systems and they have many connection interfaces) but they need to overcome some critical obstacles like limited computation, memory and battery capacities. Just think about that: the contemporary use of multiple communication interfaces, inexorably compromises the battery life.
III. SMARTPHONE GATEWAY FOR IOT INTEROPERABILITY
This section presents the main proposal of this work consisting into the design of a Smartphone-based Gateway solution for IoT interoperability, through a uniﬁed smartphone-centric application able to support multi standard, multi interface and multi technology communications. According to this vision, we ﬁrst provide a high level description of the proposed software architecture and then we further detailing some important implementation aspects.
A. System Architecture
Figure 1 shows a future communication scenario in which the widely available and powerful smartphones, already present on the market, can play a vital role in our daily life helping us in different situations. The proposed smartphonecentric software architecture can use different communication technologies to interact with several human contexts by acquiring data coming from different IoT devices and providing them to speciﬁc user-oriented services through Internet and Cloud connections.
The main challenge of this communication architecture is, for sure, the seamless integration and interoperability of such variegate communication standards, already supported by different IoT and sensor devices speciﬁcally designed for precise purposes at different times. For example, by focusing on the communication technology, IoT devices (i.e., Smart Tv, air conditioners, video projectors, printers...) are based on standard Wi-Fi communication interface; most of medical recent devices support the ANT+ [16] standard; lifestyle IoT devices are mostly based on Bluetooth SMART [17] and NFC [18] whilst the environmental sensors, whose technology is less recent than the other ones, make use of ZigBee [19] high level communication protocol based on the IEEE 802.15.4 standard.
The integration, harmonization and interoperability of such dissimilar communication protocols and standards represents the main issue to be addressed in order to fully realize the exciting IoT vision by actually taking advantages from the potential offered by modern smartphones equipped with multiple radio interfaces.
B. Software Architecture
In this section we describe the software architecture of the smartphone-centric mobile gateway application that is mainly composed by i) a Management GUI through which the user can receive notiﬁcations coming from IoT devices and simple sensors, ii) a Coordination Communication and Management Brain (CCMB) able to acquire and analyze data from different interfaces. In particular the CCMB module is composed of

260

Multi Technology Multi Standard Multi Services
Internet & Cloud Connection

IoT Devices

SENSORS

User Oriented Services

Fig. 1. General communication architecture.

three main logical blocks that can interact with each other as shown in Figure 2:
• The Communication block handles the reception and transmission of messages over the air, and manages the radio duty cycling. It is composed of a series of decoders for incoming packets and a series of encoders for outgoing packets. Each message received or sent is initially handled by the radio controller that provides a common interface on a speciﬁc radio adapter that can be dynamically loaded to support several communication technologies such as Bluetooth SMART, ZigBee, NFC, etc.
• The IoT Device Management block acts as an interface to the IoT devices by creating periodic timers when the remote sensing operation is required by a speciﬁc user, or it may simply take a reading on the IoT devices. The controller within this block can handle a variety of sensors regardless of their hardware speciﬁcations through the appropriate interfaces. This ensures modularity and efﬁciency. The controller also uses a BufferPool to store the readings that become available for the signal block processing. Going into detail, the BufferPool consists of a set of circular buffers and provides two mechanisms for information access; i) upon request, by using speciﬁc getting functions for information retrieving; ii) by using listeners to get notiﬁcation when new information from the sensor devices are available. Finally, the Device Registry contains a list of each active device to connect to in order to receive information.
• The Coordinator Manager block, which derives from [20], is in charge for the management of the interaction between the IoT device Management and Communication modules; moreover, it includes a check on the features that can be used by the network of IoT devices and an event dispatcher.

IV. TESTBED IMPLEMENTATION
In this section we describe the testbed implemented to measure the performances of the proposed IoT mobile gateway application with the aim of validating the overall system architecture. The testbed has been conducted by using three smartphones having different hardware and software capabilities listed in Table I; it is worth noting that none of the used devices represents the cutting edge in the mobile phones market and none has any speciﬁc add-ons, so that they can be considered as representative of a wide range of today common user devices and customers.
We developed an App based on Android OS able to activate all the communication interfaces available on common smartphones in order to collect data coming from different IoT devices as shown in Figure 3. In particular, since smartphones available on the market do not include ZigBee radio interface, we equipped our smartphones with a Micro SD ZigBee card [21] in order to add a new radio interface well suited for the communication with environmental IoT devices such as the widely used Waspmotes [22]; furthermore, biomedical and lifestyle data can be acquired by setting the communication on the standard bluetooth radio interface to exchange data with IoT devices such as bangles, pedometers and scales or integrating the SPINE-android framework [24] within the smartphone-centric application to communicate with speciﬁc Shimmer [25] wearable sensors well designed to acquire high quality, biophysical and movement data in real-time. Finally, the smartphones can also collect data coming from a smart TV and an air conditioner through the standard Wi-Fi interface by using a simple off-the-shelf wireless access point.
All the data coming from those different interfaces are ﬁrstly stored on a local SQLite DataBase and then they are sent to a remote server throughout a 3G/4G interface in order to be further processed and made available to different experts in speciﬁc ﬁelds.
A. System performance analysis
The implemented testbed aims at investigating the potentials of heterogeneous communication scenarios in which the smartphone gateway application, installed on common smartphones, represents the natural and transparent interface between IoT devices and more complex services platforms. Once designed the smartphone-centric application to support all the communication standards within the presented scenario, we show the smarthphone performances in terms of energy consumption, memory and CPU usage to further discuss about the effective use of such integrated communication architecture.
B. Results
During the testbed, the smartphone-centric mobile gateway application collects and forwards data received from different sensors and IoT devices on different communication interfaces (i.e. see Table II) for several periods, six minutes long; in particular, to better evaluate the system performances, we decided to repeat the test 10 times with the aim of averaging the trafﬁc load distribution due to the natural asynchronous

261

MANAGEMENT GUI

Data Flow Control Flow

BUFFERPOOL
DEVICE REGISTRY

COORDINATOR MANAGER

EVENT DISPATCHER

IoT NETWORK CONTROL API

MESSAGE DATAMODEL

FUNCTION DATAMODEL

MANAGER

IoT Device MANAGEMENT
IoT DEVICE BOARD CONTROLLER
«interface» IoT Device DRIVER1 … … ... DRIVERi

COMMUNICATION

PLATFORM INDEPENDENT PROTOCOL

«interface» RADIO CONTROLLER

PLATFORM DEPENDENT SUBLAYER

BT SMART MSG CODEC Data Flow BT ADAPTER Control Flow

ANT+ MSG CODEC
ANT+ ADAPTER

802.15.4 MSG CODEC
802.15.4 ADAPTER

Zig Bee MSG CODEC

NFC MSG CODEC

Zig Bee ADAPTER

NFC ADAPTER

WiͲFi MSG CODEC
WiͲFi ADAPTER

6LowPan MSG CODEC
6LowPan ADAPTER

TCP/IP MSG CODEC
TCP/IP ADAPTER

CCMB Ͳ Coordination Communication and Management Brain

Fig. 2. Software architecture of the smartphone-centric application.

TABLE I SMARTPHONES USED FOR THE TESTBED.

CPU RAM Battery Operating System

Samsung Galaxy S2 Dual-Core 1.2GHz 1GB 1800mAh Android 2.3.3 Gingerbread

Samsung Galaxy S3 Quad-Core 1.4GHz
1GB 2100mAh Android 4.0.4 Ice Cream Sandwich

Samsung Galaxy S4 Quad-Core 1.9GHz
2GB 2600mAh Android 4.2.2 Jelly Bean

Health IoT Devices
Shimmer Sensors SPINE

Wi-Fi Smart TV

SQLite DataBase

Access Point-Gateway

Air Conditioner

Environmental IoT Devices
Fig. 3. Communication scenario for testing the smartphone-centric application.
262

30 Samsung Galaxy S2 Samsung Galaxy S3 Samsung Galaxy S4
25

20

CPU Load [%]

15

;ĂͿ

;ďͿ

;ĐͿ

10

Fig. 4. Screenshots of the mobile gateway application: a) Main GUI, b)

Multiple interfaces choice and activation, c) Data received on a speciﬁc

interface.

5

TABLE II IOT DEVICES CONNECTED TO THE SMARTPHONE-CENTRIC APPLICATION
THROUGHOUT SEVERAL INTERFACES.

Bluetooth 2 Garmin Vivoﬁt [26] 1 Scale Beurer 74822 BF
3 Shimmer

Interfaces SD-Zigbee 3 Waspmote XBee ZB-Pro

Wi-Fi 1 Samsung Smart TV 1 Samsung Air Conditioner

data transmission. The GUI of the implemented IoT mobile gateway application is shown in Figure 4.
Figure 5 shows that the IoT gateway application has a reduced average CPU load regardless of the different tested smartphones; certainly the greater the computational capacity of the device, the greater the percentage of CPU load, however since the average CPU load value is around 15% in case of the most performing smartphone (Galaxy S4), we can argue that the implemented IoT gateway application is fully supported. We also tested the proposed application in terms of memory usage and signiﬁcant results are shown in Figure 6 where a maximum memory amount of about 85M Bytes is required to run the IoT gateway application on the Galaxy S4 smartphone; this value is fully reasonable since that smartphone is equipped with 2GB of memory.
Regarding the energy consumption we conducted a 30 minutes long test to make more evident the battery level decrease. Starting with a different battery level for each smartphone model, we experienced quite similar behaviour in terms of battery discharge speed as shown in Figure 7. This result is mostly due to the fact that, even if the most performing smartphone is equipped with a more powerful battery, it also has a bigger screen and a higher CPU load due to more performing hardware characteristics offsetting the beneﬁts of having a bigger battery.
However, the obtained results conﬁrmed the lightweight of the implemented application that can easily run on common smartphones for several hours; to provide a numerical example, we can refer to the Samsung Galaxy S3 smartphone equipped with a 2100mAh battery at 3.8V turning into an energy capacity of 7.98W h; in this case, during the whole testing period, we experienced an energy reduction of about 12% (see Figure 7) turning into a smartphone lifetime of more

Memory usage [Bytes]

0

0

50

100

150

200

250

300

350

Time [seconds]

Fig. 5. CPU load by activating all the interfaces.

x 104 9

8

Samsung Galaxy S4

Samsung Galaxy S3

Samsung Galaxy S2

7

6

5

4

3

0

50

100

150

200

250

300

350

Time [seconds]

Fig. 6. Memory usage by using all the interfaces.

than 4 hours.
V. CONCLUSION
In this paper we proposed a mobile gateway solution to support IoT interoperability through a smartphone-centric application able to continuously collect and forward data coming from wireless IoT devices and sensors transmitting over different communication interfaces and standards. The results, obtained through a real testbed on different common smartphones, validate the proposed software architecture by demonstrating the ability of acting as a data collector and handler without making an excessive use of resources in terms of CPU and memory. At the same time, the testbed has highlighted the existence of few limitations mostly related to the energy consumption which, realistically, can be quickly overcome by the development of more efﬁcient radio interfaces and batteries. As future works, we planned to extend the testbed to explore today real limits of such communication

263

Battery Level [%]

100 90 80 70 60 50 40 30 20 10 0 0

Samsung Galaxy S2 Samsung Galaxy S3 Samsung Galaxy S4 Energy consumption = 12%
Energy comsumption = 12%

Energy consumption = 12%

5

10

15

20

25

30

Time [minutes]

Fig. 7. Energy consumption.

architecture by increasing the number of IoT devices and by using cutting edge smartphones and tablets equipped with enhanced radio interfaces (e.g. Bluetooth Low Energy, ANT+).
ACKNOWLEDGMENT
This work has been carried out under the framework of INTER-IoT, Research and Innovation action - Horizon 2020 European Project, Grant Agreement #687283, ﬁnanced by the European Union.
REFERENCES
[1] G. Fortino, A. Guerrieri, G.M.P. O’Hare, A. Ruzzelli “A ﬂexible building management framework based on wireless sensor and actuator networks”, Journal of Network and Computer Applications, Vol. 35, Issue 6, pp. 1934-1952, 2012.
[2] L. Atzori, A. Iera, G. Morabito, M. Nitti “The Social Internet of Things (SIoT) - When social networks meet the Internet of Things: Concept, architecture and network characterization”, Computer Networks, Vol. 56, Issue 16, pp. 35943608, Nov. 2012.
[3] G. Fortino, A. Guerrieri, M. Lacopo, M. Lucia, W. Russo “An AgentBased Middleware for Cooperating Smart Objects”, International Workshops of PAAMS 2013, Salamanca, Spain, May 22-24, 2013.
[4] G. Fortino, A. Garro, W. Russo “Achieving Mobile Agent Systems interoperability through software layering”, Information and Software Technology, Vol. 50, Issue 4, pp. 322341, 2008.
[5] Internet Of Things - Architecture, available at http://www.iot-a.eu

[6] Collaborative Open Market to Place Objects at your Service, available at http://www.compose-project.eu
[7] Web of Objects, available at http://www.web-of-objects.com/ [8] uBiquitous, secUre inTernet-of-things with Location and contEx-
awaReness, available at http://www.iot-butler.eu/ [9] A. Gaggioli, G. Pioggia, G. Tartarisco, G. Baldus, D. Corda, P. Cipresso,
G. Riva “A mobile data collection platform for mental health research”, Personal and Ubiquitous Computing, Vol. 17, Issue 2, pp. 241-251, 2013. [10] B. Silva, J. R. Rodrigues, I. L. Lopes, T. M. Machado “A Novel Cooperation Strategy for Mobile Health Applications”, IEEE Journal on Selected Areas in Communications Vol. 31, No. 9, pp. 28-36, Sept. 2013. [11] G. Aloi, G. Caliciuri, G. Fortino, P. Pace “A smartphone-centric approach for integrating heterogeneous sensor networks”, International Conference on Body Area Networks BODYNETS, London, Great Britain Sep. 29 - Oct. 1, 2014. [12] R. Golchay, F.L. Moue¨l, S. Fre´not, J. Ponge “Towards Bridging IoT and Cloud Services: Proposing Smartphones as Mobile and Autonomic Service Gateways”, CoRR abs/1107.4786 (2011). [13] A.P. Bhatkal, K. Bharati “A Survey on Improved Framework for Smart Phone using Internet of Things”, International Journal of Science and Research (IJSR), Vol. 3, Issue 12, Dec. 2014. [14] M. Blackstock, R. Lea “IoT interoperability: A hub-based approach”, IEEE International Conference on the Internet of Things (IOT), 2014, pp. 79-84. [15] A. Asensio, A. Marco, R. Blasco, R. Casas “Protocol and Architecture to Bring Things into Internet of Things”, International Journal of Distributed Sensor Networks, Article ID 158252, 18 pages, 2014. [16] ANT+ technology - available on line at http://www.thisisant.com/consumer/ant-101/ [17] J. Decuir “Introducing Bluetooth Smart: Part 1: A look at both classic and new technologies”, IEEE Consumer Electronics Magazine, Vol.3 , Issue 1, 2014. [18] D. Sethia, D. Gupta, T. Mittal, U. Arora, H. Saran “NFC based secure mobile healthcare system”, International Conference on Communication Systems and Networks (COMSNETS), January 2014. [19] ZigBee Alliance - available on line at http://www.zigbee.org/ [20] F. Aiello, F. Bellifemine, S. Galzarano, R. Gravina, G. Fortino “An agent-based signal processing in-node environment for real-time human activity monitoring based on wireless body sensor networks”, Journal of Engineering Applications of Artiﬁcial Intelligence, Vol. 24, n. 7, pp. 1147-1161. 2011. [21] Micro SD ZigBee card - available on line at http://www.spectec.com.tw/sdz-539.html [22] Waspmote Ultra Low power sensors - available on line at http://www.libelium.com/products/waspmote/ [23] Meshelium Xtreme - available on line at http://www.libelium.com/products/meshlium/ [24] G. Fortino, R. Giannantonio, R. Gravina, P. Kuryloski, R. Jafari “Enabling Effective Programming and Flexible Management of Efﬁcient Body Sensor Network Applications”, IEEE Transactions on HumanMachine Systems, Vol. 43, n. 1, 2013. [25] Shimmer wearable sensors - available on line at http://www.shimmersensing.com/ [26] Garmin Vivoﬁt - available on line at http://www.garmin.com/itIT/esplora/sport-e-ﬁtness/

264

