Hidden Markov Model based Analysis on the MCS Index of LTE using PDCCH Measurement Data
Yunbae Kim, Jungsun Um, Igor Kim, Seungkeun Park Radio Resource Research Group ETRI Daejeon, South Korea doko9gum@etri.re.kr

Abstract‚ÄîRecent maturity of Long Term Evolution (LTE) system has raised interest in evaluating how efÔ¨Åciently LTE cells are deployed. Noting that the Modulation and Coding Scheme (MCS) index determines the quality of transmission, we analyze the temporal variation of the index of a user equipment. Adopting a widely used Markov assumption on the variation, we exploit a hidden Markov model to estimate transition probability matrices describing the stochastic behavior of the MCS index. In the estimation, we use the real-world measurement data via a recently introduced reliable platform which can decode the control channels of LTE downlink signal. Numerical examples validate our analysis by investigating stationary probabilities.
Index Terms‚ÄîLTE, MCS index, channel modeling, measurement, hidden Markov model
I. INTRODUCTION
As Long Term Evolution (LTE) has matured enough to serve most terrestrial mobile users, it is getting attention to evaluate how efÔ¨Åciently LTE cells are deployed. Since the wireless channel condition between the base station and a User Equipment (UE) affects the efÔ¨Åciency of transmissions, analyzing the variation of channel quality can be a way of carrying out the evaluation. In LTE, the downlink channel condition of a UE is reÔ¨Çected in the Modulation and Coding Scheme (MCS) index associated with the information bits called Transport Block (TB) transmitted to it. In the open literature, there have been works on Markov modeling for wireless channel variations [1]‚Äì[3]. Thus, we focus on analyzing the variation of MCS index of a UE through Markov modeling as in [4].
In this work, we utilize real-world measurement data via a recently introduced platform ‚ÄòAnalyzer of LTE TrafÔ¨Åc and Radio Information‚Äô (AlteTRi) [5]. AlteTRi is capable of decoding the Physical Downlink Control CHannels (PDCCHs) of downlink signal for every subframe and provides scheduling information for each UE. Since the MCS index is exposed only when a TB is allocated to a UE, we adopt a Hidden Markov Model (HMM). We use the scheduling model given in [4] where an allocation is based on the MCS index and delay with simpliÔ¨Åed ModiÔ¨Åed Largest Weighted Delay First (M-LWDF) scheme. Using the Baum-Welch algorithm [6], we estimate the Transition Probability Matrix (TPM) which
This work was supported by Institute for Information & communications Technology Promotion (IITP) grant funded by the Korea government (MSIP) (No. 2017-0-00109, Development of Frequency Analysis Technology for the Virtuous Circulation of Radio Resource).

most likely describes the temporal variation of the MCS index. Some numerical results using the measurement data are also provided.
The rest of the paper is organized as follows. Section II provides detailed analysis based on an HMM. Section III presents numerical examples. Finally, Section IV concludes this work.
II. ANALYSIS BASED ON A HIDDEN MARKOV MODEL
A. Measurement Data Description
The measurement is performed via the platform AlteTRi [5], which decodes PDCCHs for every subframe and provides information contained in Downlink Control Information (DCI) for each UE. DCI for a UE includes the MCS index and Resource Block (RB) conÔ¨Åguration associated with the TB transmitted to the UE. The TB Size (TBS) is also determined by these information using tables given in [7]. Since a UE requiring a service is endowed with a Radio Network Temporary IdentiÔ¨Åer (RNTI), we can get a sequence of scheduling information for a UE by tracking DCIs for a certain RNTI.
Here, we deÔ¨Åne some notations for the data we utilize in the analysis. The following notations apply to each RNTI, and let an RNTI be given. The time index of a subframe unit is denoted as t. Consider a data sequence of length T + 1 from t = 0 to T , where t = 0 is an instant when a TB is scheduled for the RNTI. Let St be an indicator having a value of 1 if a TB is scheduled for the RNTI at time t, and 0 otherwise. Then we have S0 = 1. Let T be the set of time instants when the RNTI receives a TB after t = 0, i.e., T = {t ‚â• 1 : St = 1}. Then, the data gives the MCS index Mt and the number of allocated RBs Bt for t ‚àà T . Also, using the tables in [7], we can deduce the TBS Rt from Mt and Bt for t ‚àà T . We let the set of all MCS indices be M.
B. Modeling on Scheduling Discipline
Our modeling is based on the scheduling concept given in [4] where the essentials of the M-LWDF scheme are simply reÔ¨Çected. As in [4], we deÔ¨Åne the delay Wt at t as the number of subframes elapsed from the last transmission including that subframe. Then, the metric Œ∑t for scheduling at t is deÔ¨Åned by Œ∑t = WtRt/Bt, and a TB of size Rt is scheduled if Œ∑t is large enough. At t ‚àà T , since our data sequence provides exact information of scheduling, we have exact values for Œ∑t.

978-1-7281-1340-1/19/$31.00 ¬©2019 IEEE

333

ICUFN 2019

Now we extend these notions to the time instants when nothing is scheduled to the RNTI. For convenience, we use the notation ‚Äòt : t ‚Äô for t ‚â§ t to indicate a set {t, t+1, . . . , t }. Also, for any variables indexed with t, a set of time indices at the subscript means a sequence for time instants belonging to the set, for e.g., S1:T means {S1, S2, . . . , ST }. We have the realizations s0:T of S0:T exactly, and since W1:T is uniquely determined by S0:T with the relation

Wt+1 =

Wt + 1 if St = 0,

1

if St = 1,

we also have the realizations w1:T for W1:T . However, for R1:T and M1:T , we only have the realizations at T as rT and mT , respectively. To deal with the hidden values, we extend the deÔ¨Ånitions for Rt and Mt given above. First, we let Rt be the required bits at t. Then, for any two consecutive times t1 and t2 in T , we can calculate rt = rt2 (t ‚àí t1)/wt2 for t1 < t < t2 using rt2 and wt2 . For Mt, we deÔ¨Åne it by the MCS index that a TB of size rt will be granted if it is scheduled at t as in [4]. Let b(m, r) be the number of RBs required to transmit r bits with the MCS index m based on the tables given in [7]. Then, if an MCS index mt is given at t, we can calculate the required number of RBs as bt = b(mt, rt) to transmit rt bits. Here, for t1 < t ‚â§ t2, we assume that the TB of size rt is not scheduled because the metric Œ∑t = wtrt/bt is smaller than the metric Œ∑t2 at t2, which is the next scheduled time after t. Thus, the possible states of the MCS indices at t can be determined as {m ‚àà M : wtrt/b(m, rt) < Œ∑t2 }. Consequently, if the measurement data (s0:T , w1:T , rT , and mT ) are given, the possible sequences of MCS indices Ms can be conÔ¨Ågured as

Ms = ¬µ1:T ‚àà MT : ¬µT = mT , and, for t ‚àà/ T , ¬µt ‚àà M with Œ∑t < Œ∑t where t = inf{u > t : su = 1}
For later use, we also deÔ¨Åne M(st) = {m ‚àà M : m is the tth element of m1:T for some m1:T ‚àà Ms}.
C. Hidden Markov Model

To apply an HMM to the scheduling procedure, we assume

that the MCS index Mt follows a time homogeneous Markov chain whose state space is M, which is a widely used

assumption in the open literature [3], [4]. Then the behavior

of Mt can be described by the TPM P = {Pij}i,j‚ààM where Pij = P {Mt+1 = j|Mt = i} for all t ‚â• 0. When a TPM P is given, we can calculated the probability of observing a

sequence s1:T (s0 = 1 as described above) as the scheduling

result. As described above and illustrated in Fig. 1, observed data s1:T , rT , and mT determine the MCS indices M(st) that a TB can be granted for 1 ‚â§ t ‚â§ T . For the calculation, we

assume that the required bits r1:T are given and the scheduling result at t is determined by mt and wt. Then, the probability of observing s1:T can be computed as follows. For brevity, let

a lowercase letter indicate a realization for the corresponding

uppercase variable.

T ‚àí1

P {s1:T |P} =

Pmtmt+1 .

(1)

m1:T ‚ààMs t=0

Ì†µÌ±°Ì†µÌ±° = 0

Ì†µÌ±°Ì†µÌ±° = 4

Ì†µÌ±°Ì†µÌ±° = 9

Ì†µÌ±°Ì†µÌ±° = 12

TB

TB

TB

TB

Scheduling result

Ì†µÌ±ÜÌ†µÌ±ÜÌ†µÌ±°Ì†µÌ±°

1

0

0

0

1

0

0

0

0

1

0

0

1

Delay Ì†µÌ±äÌ†µÌ±äÌ†µÌ±°Ì†µÌ±°

Required bits

Ì†µÌ±ÖÌ†µÌ±ÖÌ†µÌ±°Ì†µÌ±°

123412345123

Ì†µÌ±üÌ†µ4Ì±ü

Ì†µÌ±üÌ†µÌ±ü9

Ì†µÌ±üÌ†µ1Ì±ü 2

Ì†µÌ±üÌ†µ1Ì±ü Ì†µÌ±üÌ†µÌ±ü2 Ì†µÌ±üÌ†µÌ±ü3

Ì†µÌ±üÌ†µÌ±ü5 Ì†µÌ±üÌ†µÌ±ü6 Ì†µÌ±üÌ†µÌ±ü7 Ì†µÌ±üÌ†µÌ±ü8

Ì†µÌ±üÌ†µ1Ì±ü 0 Ì†µÌ±üÌ†µ1Ì±ü 1

MCS index

Ì†µÌ±ÄÌ†µÌ±ÄÌ†µÌ±°Ì†µÌ±°

Ì†µÌ±öÌ†µÌ±ö0

‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 1), ‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 2), ‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 3)

Ì†µÌ±öÌ†µÌ±ö4

‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 5), ‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 6), ‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 7), ‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 8)

Ì†µÌ±öÌ†µÌ±ö Ì†µÌ±öÌ†µÌ±ö 9

‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 10), ‚Ñ≥Ì†µÌ±†(Ì†µÌ±† 11)

12

Ì†µÌ±∑Ì†µÌ±∑

Ì†µÌ±∑Ì†µÌ±∑

Ì†µÌ±∑Ì†µÌ±∑

Ì†µÌ±∑Ì†µÌ±∑

Observed states

Estimated states

Ì†µÌ±∑Ì†µÌ±∑

Ì†µÌ±∑Ì†µÌ±∑

Hidden states

Fig. 1. An example of the scheduling procedure of our model.

Here, we try to Ô¨Ånd a TPM that maximizes the probability in (1). To this end, we apply the Baum-Welch algorithm given in [6] to our model. The following probabilities for 1 ‚â§ t ‚â§ T facilitate the application of the algorithm.
‚Ä¢ Forward probability: Œ±t(m) = P {s1:t, Mt = m|P} ‚Ä¢ Backward probability: Œ≤t(m) = P {s1:t|P, Mt = m, wt}
As given in [6], these probabilities can be computed by induction. For forward probabilities, with Œ±0(m0) = 1, Œ±t(m)‚Äôs are computed by Œ±t(m) = j‚ààM(st‚àí1) Œ±t‚àí1(j)Pjm for 1 ‚â§ t ‚â§ T and m ‚àà M(st). Once the forward probabilities are obtained, the observation probability in (1) can be calculated as P {s1:T |P} = m‚ààM(sT) Œ±T (m). For backward probabilities, with Œ≤T (mT ) = 1 for mT ‚àà M(sT ), Œ≤t(m)‚Äôs are computed by Œ≤t(m) = j‚ààM(st+1) Pmj Œ≤t+1(j) for 1 ‚â§ t ‚â§ T ‚àí 1 and m ‚àà M(st). Then essential probabilities for the Baum-Welch algorithm are deÔ¨Åned and computed as follows:

Œ≥t(i) =P {Mt = i|P, s1:T }

=

Œ±t(i)Œ≤t(i)

,

u‚ààM(st) Œ±t(u)Œ≤t(u)

for

i ‚àà M(st),

(2)

Œæt(i, j) =P {Mt = i, Mt+1 = j|P, s1:T }

=

Œ±t(i)Pij Œ≤t+1(j)

, (3)

u‚ààM(st),v‚ààM(st+1) Œ±t(u)Puv Œ≤t+1(v)

for i ‚àà M(st), j ‚àà M(st+1).

Let a set of D observations SD = s(11:T) , . . . , s(1D:T) of length T be given. The observations are assumed to be independently and identically distributed with the HMM model. Then the Baum-Welch algorithm can be applied as shown in Table I.

III. NUMERICAL RESULTS
The measurement is performed on a cell operating at subGHz frequency with 10MHz bandwidth. As given in [7], we let the MCS index take values on M = {0, 1, . . . , 28}. We use the scheduling data of four different RNTIs, which appeared for a sufÔ¨Åciently long time as tens of thousands of subframes. We extract multiple sequences of length 501 (T = 500) from the data so that each one begins with a scheduled subframe (s0 = 1). For initializing a TPM, we consider two cases. Binomial

334

Input
Output Step 1 Step 2
Step 3 Step 4

TABLE I THE BAUM-WELCH ALGORITHM.

Observation sequences: SD = s(11:T) , . . . , s(1D:T)

A stopping threshold: Œ∫

A TPM on the MCS indices: PÀÜ = PÀÜij
i,j‚ààM

Initialize a TPM P = {Pij}i,j‚ààM.

Calculate Œ≥t(d)(i) and Œæt(d)(i, j) in (2) and (3)

for each 1 ‚â§ d ‚â§ D and 1 ‚â§ t ‚â§ T .

Calculate PÀúij =

D d=1
D d=1

. T ‚àí1
t=1

Œæt(d) (i,j )

T ‚àí1 t=1

Œ≥t(d) (i)

With PÀú = PÀúij

,

i,j‚ààM

if Dd=1(log P {s(1d:T) |PÀú } ‚àí log P {s(1d:T) |P}) > Œ∫,

P ‚Üê PÀú and return to Step 2.

else, PÀÜ ‚Üê PÀú .

J J

     

K





















(a) BTPM

 

K









   

  

(b) UTPM

J

     

K





















J

     

K









    

J

     

K









    

J

     

K





















(a) Initialized with BTPM

     

K





















J

     

K









    

J

     

K









    

J

     

K





















(b) Initialized with UTPM

J

Fig. 3. Results of PÀÜ from the Baum-Welch algorithm for 4 RNTIs with the initial TPMs of BPTM and UTPM.

1SPCBCJMJUZ 1SPCBCJMJUZ

   

3/5* 
 3/5* 
 3/5* 
 3/5* 




























.$4JOEFY

(a) Initialized with BTPM

   

3/5* 
 3/5* 
 3/5* 
 3/5* 




























.$4JOEFY

(b) Initialized with UTPM

Fig. 4. Steady state probabilities for 4 RNTIs with the initial TPMs of BPTM and UTPM.

Fig. 2. Considered initial TPMs. The color of each grid cell indicates the value of Pij .
TPM (BTPM) is based on a binomial distribution B(28, 0.5), where the probability mass function of it is shifted and rescaled so that the diagonal of the TPM has the highest probabilities. Uniform TPM (UTPM) is based on a uniform distribution on M for each row. These TPMs are described in Fig. 2.
In the following Ô¨Ågures, four considered RNTIs are arranged in an increasing order of the efÔ¨Åciency of scheduled RBs, which is calculated by dividing the total amount of received bits by the number of total scheduled RBs. The efÔ¨Åciency of scheduled RBs reÔ¨Çects overall channel quality that the RNTI experiences. Fig. 3 shows the obtained TPMs PÀÜ as the results of applying the Baum-Welch algorithm. As can be seen in the Ô¨Ågure, the algorithm results in a form of TPM in which the transition behavior of the MCS index is concentrated within a similar range, even though the initial TPM is quite different. The transition probabilities on these concentrated ranges are also consistent with the Markov models in [1], [2] which allow transitions to adjacent states only.
Using the TPM PÀÜ , we can obtain steady state probabilities œÄ as a solution of œÄPÀÜ = œÄ. Fig. 4 shows the steady state probabilities. The efÔ¨Åciency of scheduled RBs for each RNTI is indicated in parentheses in the legend. The Ô¨Ågure shows that the steady state probabilities for two initial TPMs are the same. Also we can check a reasonable tendency that the larger the efÔ¨Åciency of scheduled RBs, the more likely the steady state probabilities are concentrated on higher MCS indices.

IV. CONCLUSION
In this work, we provided an HMM based analysis on the temporal variation of the MCS index of a UE in LTE system. The analysis was based on real-world measurement data via a reliable platform capable of decoding the control channels of LTE downlink signal. Some TPMs that describe the stochastic behavior of MCS index were estimated, and the validity of the estimation was checked through investigating associated stationary probabilities. The future work will cover the channel conditions of UEs utilizing multiple antennas.
REFERENCES
[1] Q. Zhang and S. A. Kassam, ‚ÄúFinite-State Markov Model for Rayleigh Fading Channels,‚Äù IEEE Commun. Lett., vol. 47, no. 11, pp. 1688-1692, November 1999.
[2] F. Sallabi and K. Shuaib, ‚ÄúModeling of downlink wireless fading channel for 3GPP LTE cellular system,‚Äù Proc. IEEE GCC, April 2011.
[3] C. Khirallah, D. Vukobratovic, and J. Thompson, ‚ÄúPerformance analysis and energy efÔ¨Åciency of random network coding in LTE-advanced,‚Äù IEEE Trans. Wireless Commun., vol. 11, no. 12, pp.4275-4285, December 2012.
[4] Y. Kim and S. Park, ‚ÄúAnalytical Calculation of Spectrum Requirements for LTE-A Using the Probability Distribution on the Scheduled Resource Blocks,‚Äù IEEE Commun. Lett., vol. 22, no. 3, pp. 602‚Äì605, March 2018.
[5] J. Um, I. Kim, and S. Park, ‚ÄúImplementation of Platform for Measurement and Analysis on LTE TrafÔ¨Åc and Radio Resource Utilization,‚Äù IEEE ICCE, 2019.
[6] L. R. Rabiner, ‚ÄúA tutorial on hidden Markov models and selected applications in speech recognition,‚Äù Proc. IEEE, pp. 257-286, February 1989.
[7] Technical SpeciÔ¨Åcation Group Radio Access Network, ‚ÄúEvolved universal terrestrial radio access (E-UTRA); physical layer procedures (Release 14),‚Äù 3GPP, Valbonne, France, Tech. Rep. TS 36.213, 2017.

335

