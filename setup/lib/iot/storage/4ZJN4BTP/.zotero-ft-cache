CCNA Security
210-260
Official Cert Guide
OMAR SANTOS, CISSP 463598 JOHN STUPPI, CCIE NO. 11154

Cisco Press
800 East 96th Street Indianapolis, IN 46240

unknown

ii CCNA Security 210-260 Official Cert Guide
CCNA Security 210-260 Official Cert Guide
Omar Santos John Stuppi Copyright© 2015 Pearson Education, Inc. Published by: Cisco Press 800 East 96th Street Indianapolis, IN 46240 USA All rights reserved. No part of this book may be reproduced or transmitted in any form or by any means, electronic or mechanical, including photocopying, recording, or by any information storage and retrieval system, without written permission from the publisher, except for the inclusion of brief quotations in a review. Printed in the United States of America First Printing June 2015 Library of Congress Control Number: 2015938283 ISBN-13: 978-1-58720-566-8 ISBN-10: 1-58720-566-1
Warning and Disclaimer
This book is designed to provide information about the CCNA Security Implementing Cisco Network Security (IINS) 210-260 exam. Every effort has been made to make this book as complete and as accurate as possible, but no warranty or fitness is implied. The information is provided on an “as is” basis. The authors, Cisco Press, and Cisco Systems, Inc. shall have neither liability nor responsibility to any person or entity with respect to any loss or damages arising from the information contained in this book or from the use of the discs or programs that may accompany it. The opinions expressed in this book belong to the authors and are not necessarily those of Cisco Systems, Inc.
Trademark Acknowledgments
All terms mentioned in this book that are known to be trademarks or service marks have been appropriately capitalized. Cisco Press or Cisco Systems, Inc., cannot attest to the accuracy of this information. Use of a term in this book should not be regarded as affecting the validity of any trademark or service mark.
unknown

iii
Special Sales
For information about buying this title in bulk quantities, or for special sales opportunities (which may include electronic versions; custom cover designs; and content particular to your business, training goals, marketing focus, or branding interests), please contact our corporate sales department at corpsales@pearsoned.com or (800) 382-3419. For government sales inquiries, please contact governmentsales@pearsoned.com. For questions about sales outside the U.S., please contact international@pearsoned.com.

Feedback Information

At Cisco Press, our goal is to create in-depth technical books of the highest quality and value. Each book is crafted with care and precision, undergoing rigorous development that involves the unique expertise of members from the professional technical community.

Readers’ feedback is a natural continuation of this process. If you have any comments regarding how we could improve the quality of this book, or otherwise alter it to better suit your needs, you can contact us through email at feedback@ciscopress.com. Please make sure to include the book title and ISBN in your message.

We greatly appreciate your assistance.

Publisher: Paul Boger

Copy Editor: Keith Cline

Associate Publisher: Dave Dusthimer
Business Operation Manager, Cisco Press: Jan Cornelssen

Technical Editors: Scott Bradley, Panos Kampanakis
Editorial Assistant: Vanessa Evans

Acquisitions Editor: Denise Lincoln

Cover Designer: Mark Shirar

Managing Editor: Sandra Schroeder

Composition: Bronkella Publishing

Senior Development Editor: Christopher Cleveland
Senior Project Editor: Tonya Simpson

Indexer: Erika Millen Proofreader: Chuck Hutchinson

unknown

iv CCNA Security 210-260 Official Cert Guide
About the Authors
Omar Santos is the technical leader for the Cisco Product Security Incident Response Team (PSIRT). He mentors and leads engineers and incident managers during the investigation and resolution of security vulnerabilities in all Cisco products. Omar has been working with information technology and cybersecurity since the mid-1990s. Omar has designed, implemented, and supported numerous secure networks for Fortune 100 and 500 companies and for the U.S. government. Prior to his current role, he was a technical leader within the World Wide Security Practice and the Cisco Technical Assistance Center (TAC), where he taught, led, and mentored many engineers within both organizations. Omar is an active member of the security community, where he leads several industrywide initiatives and standards bodies. His active role helps businesses, academic institutions, state and local law enforcement agencies, and other participants that are dedicated to increasing the security of the critical infrastructure. Omar is the author of several books and numerous white papers, articles, and security configuration guidelines and best practices. Omar has also delivered numerous technical presentations at many conferences and to Cisco customers and partners, in addition to many C-level executive presentations to many organizations. John Stuppi, CCIE No. 11154 (Security), is a technical leader in the Cisco Security Solutions (CSS) organization at Cisco, where he consults Cisco customers on protecting their network against existing and emerging cybersecurity threats. In this role, John is responsible for providing effective techniques using Cisco product capabilities to provide identification and mitigation solutions for Cisco customers who are concerned with current or expected security threats to their network environments. Current projects include helping customers leverage DNS and NetFlow data to identify and subsequently mitigate network-based threats. John has presented multiple times on various network security topics at Cisco Live, Black Hat, and other customer-facing cybersecurity conferences. In addition, John contributes to the Cisco Security Portal through the publication of white papers, security blog posts, and cyber risk report articles. Before joining Cisco, John worked as a network engineer for JPMorgan and then as a network security engineer at Time, Inc., with both positions based in New York City. John is also a CISSP (#25525) and holds an Information Systems Security (INFOSEC) professional certification. In addition, John has a BSEE from Lehigh University and an MBA from Rutgers University. John lives in Ocean Township, New Jersey (a.k.a. the “Jersey Shore”) with his wife, two kids, and dog.
unknown

v
About the Technical Reviewers
Scott Bradley is a network engineer dedicated to customer success. He began building knowledge and experience in Cisco technology more than 15 years ago when he first started in the Technical Assistance Center (TAC). Over time, thousands of customers have been assisted by his knowledge of internetworking in routing, switching, and security, and his ability to provide network design, implementation, and troubleshooting service. Scott has enjoyed being an escalation resource to the Catalyst and Nexus switching group, a technical trainer, and an early field trial software and hardware tester. Currently, he is an active member of the Applied Security Intelligence Team, testing security-related software and hardware and writing applied mitigation bulletins and white papers. He works closely with the Cisco Product Security Incident Response Team (PSIRT), consulting on security advisories. Scott lives with his wife, Cathy, in Santa Cruz, California, where he enjoys gardening, hiking, and riding bicycles. Panos Kampanakis is part of the Security Research and Operations teams at Cisco Systems, providing early-warning intelligence, threat, and vulnerability analysis and proven Cisco mitigation solutions to help protect networks. He holds a CCIE and other certifications. He has extensive experience in network and IT security and cryptography. He has written numerous research publications and security-related guides and white papers. Panos has often participated in the development and review of Cisco certification exam material. He also presents in Cisco conferences, teaching customers about security best practices, identification, and mitigation techniques. In his free time, he has a passion for basketball (and never likes to lose).
Unknown

vi CCNA Security 210-260 Official Cert Guide
Dedications
From Omar I would like to dedicate this book to my lovely wife, Jeannette, and my two beautiful children, Hannah and Derek, who have inspired and supported me throughout the development of this book. I also dedicate this book to my father, Jose; and in memory of my mother, Generosa. Without their knowledge, wisdom, and guidance, I would not have the goals that I strive to achieve today. From John I would like to dedicate this book to my wife, Diane, and my two wonderful children, Tommy and Allison, who have had to put up with more (than usual!) late night and weekend hours with me on my laptop during the development of this book. I also want to dedicate this book as a thank you to those friends and family who provided inspiration and support through their genuine interest in the progress of the book. Finally, I want to thank Omar for convincing me to help him as a co-author on this book. Although the process was arduous at times, it was a blessing to be able to work together on this effort with someone as dedicated, intelligent, and motivated as Omar.
Unknown

vii
Acknowledgments
We would like to thank the technical editors, Scott Bradley and Panos Kampanakis, for their time and technical expertise. They verified our work and contributed to the success of this book. We would like to thank the Cisco Press team, especially Denise Lincoln and Christopher Cleveland, for their patience, guidance, and consideration. Their efforts are greatly appreciated. Finally, we would like to acknowledge the Cisco Security Research and Operations teams. Several leaders in the network security industry work there, supporting our Cisco customers under often very stressful conditions and working miracles daily. They are truly unsung heroes, and we are all honored to have had the privilege of working side by side with them in the trenches when protecting customers and Cisco.
Unknown

viii CCNA Security 210-260 Official Cert Guide

Contents at a Glance

Introduction xxvi

Part I
Chapter 1 Chapter 2

Fundamentals of Network Security
Networking Security Concepts 3 Common Security Threats 25

Part II
Chapter 3 Chapter 4

Secure Access
Implementing AAA in Cisco IOS 35 Bring Your Own Device (BYOD) 71

Part III
Chapter 5 Chapter 6 Chapter 7 Chapter 8

Virtual Private Networks (VPN)
Fundamentals of VPN Technology and Cryptography 83 Fundamentals of IP Security 119 Implementing IPsec Site-to-Site VPNs 149 Implementing SSL VPNs Using Cisco ASA 203

Part IV Secure Routing and Switching
Chapter 9 Securing Layer 2 Technologies 233 Chapter 10 Network Foundation Protection 261 Chapter 11 Securing the Management Plane on Cisco IOS Devices 275 Chapter 12 Securing the Data Plane in IPv6 321 Chapter 13 Securing Routing Protocols and the Control Plane 341

Part V

Cisco Firewall Technologies and Intrusion Prevention System Technologies

Chapter 14 Understanding Firewall Fundamentals 355

Chapter 15 Implementing Cisco IOS Zone-Based Firewalls 377

Chapter 16 Configuring Basic Firewall Policies on Cisco ASA 413

Chapter 17 Cisco IDS/IPS Fundamentals 457

Unknown

ix
Part VI Content and Endpoint Security
Chapter 18 Mitigation Technologies for E-mail-Based and Web-Based Threats 477 Chapter 19 Mitigation Technologies for Endpoint Threats 495
Part VII Final Preparation
Chapter 20 Final Preparation 505
Part VIII Appendixes
Appendix A Answers to the “Do I Know This Already?” Quizzes 511 Appendix B CCNA Security 210-260 (IINS) Exam Updates 517
Glossary 521 Index 533
On the CD
Glossary Appendix C Memory Tables Appendix D Memory Tables Answer Key Appendix E Study Planner
Unknown

x CCNA Security 210-260 Official Cert Guide

Contents
Introduction xxvi

Part I

Fundamentals of Network Security

Chapter 1

Networking Security Concepts 3 “Do I Know This Already?” Quiz 3 Foundation Topics 6 Understanding Network and Information Security Basics 6
Network Security Objectives 6 Confidentiality, Integrity, and Availability 6 Cost-Benefit Analysis of Security 7 Classifying Assets 8 Classifying Vulnerabilities 10 Classifying Countermeasures 10 What Do We Do with the Risk? 11 Recognizing Current Network Threats 12 Potential Attackers 12 Attack Methods 13 Attack Vectors 14 Man-in-the-Middle Attacks 14 Other Miscellaneous Attack Methods 15 Applying Fundamental Security Principles to Network Design 16 Guidelines 16 Network Topologies 17 Network Security for a Virtual Environment 20 How It All Fits Together 22 Exam Preparation Tasks 23 Review All the Key Topics 23 Complete the Tables and Lists from Memory 23 Define Key Terms 23

Chapter 2

Common Security Threats 25 “Do I Know This Already?” Quiz 25 Foundation Topics 27 Network Security Threat Landscape 27 Distributed Denial-of-Service Attacks 27

Unknown

xi

Part II Chapter 3
Chapter 4

Social Engineering Methods 28 Social Engineering Tactics 29 Defenses Against Social Engineering 29
Malware Identification Tools 30 Methods Available for Malware Identification 30
Data Loss and Exfiltration Methods 31 Summary 32 Exam Preparation Tasks 33 Review All the Key Topics 33 Complete the Tables and Lists from Memory 33 Define Key Terms 33
Secure Access
Implementing AAA in Cisco IOS 35 “Do I Know This Already?” Quiz 35 Foundation Topics 38 Cisco Secure ACS, RADIUS, and TACACS 38
Why Use Cisco ACS? 38 On What Platform Does ACS Run? 38 What Is ISE? 39 Protocols Used Between the ACS and the Router 39 Protocol Choices Between the ACS Server and the Client (the Router) 40 Configuring Routers to Interoperate with an ACS Server 41 Configuring the ACS Server to Interoperate with a Router 51 Verifying and Troubleshooting Router-to-ACS Server Interactions 60 Exam Preparation Tasks 67 Review All the Key Topics 67 Complete the Tables and Lists from Memory 67 Define Key Terms 67 Command Reference to Check Your Memory 67
Bring Your Own Device (BYOD) 71 “Do I Know This Already?” Quiz 71 Foundation Topics 73 Bring Your Own Device Fundamentals 73 BYOD Architecture Framework 74
BYOD Solution Components 74

Unknown

xii CCNA Security 210-260 Official Cert Guide

Part III Chapter 5

Mobile Device Management 76 MDM Deployment Options 76 On-Premise MDM Deployment 77 Cloud-Based MDM Deployment 78
Exam Preparation Tasks 80 Review All the Key Topics 80 Complete the Tables and Lists from Memory 80 Define Key Terms 80
Virtual Private Networks (VPN)
Fundamentals of VPN Technology and Cryptography 83 “Do I Know This Already?” Quiz 83 Foundation Topics 87 Understanding VPNs and Why We Use Them 87
What Is a VPN? 87 Types of VPNs 88 Two Main Types of VPNs 88 Main Benefits of VPNs 89 Confidentiality 89 Data Integrity 90 Authentication 90 Antireplay Protection 90 Cryptography Basic Components 91 Ciphers and Keys 91 Ciphers 91 Keys 92 Block and Stream Ciphers 92 Block Ciphers 92 Stream Ciphers 92 Symmetric and Asymmetric Algorithms 92 Symmetric 93 Asymmetric 93 Hashes 94 Hashed Message Authentication Code 95 Digital Signatures 95 Digital Signatures in Action 95 Key Management 96 Next-Generation Encryption Protocols 97

Unknown

xiii
IPsec and SSL 97 IPsec 97 SSL 98 Public Key Infrastructure 99 Public and Private Key Pairs 99 RSA Algorithm, the Keys, and Digital Certificates 99 Who Has Keys and a Digital Certificate? 100 How Two Parties Exchange Public Keys 100 Creating a Digital Signature 100 Certificate Authorities 100 Root and Identity Certificates 101 Root Certificate 101 Identity Certificate 102 Using the Digital Certificates to Get the Peer’s Public Key 103 X.500 and X.509v3 Certificates 103 Authenticating and Enrolling with the CA 104 Public Key Cryptography Standards 105 Simple Certificate Enrollment Protocol 105 Revoked Certificates 105 Uses for Digital Certificates 106 PKI Topologies 106 Single Root CA 107 Hierarchical CA with Subordinate CAs 107 Cross-Certifying CAs 107 Putting the Pieces of PKI to Work 107 ASA’s Default Certificate 108 Viewing the Certificates in ASDM 108 Adding a New Root Certificate 109 Easier Method for Installing Both Root and Identity Certificates 111 Exam Preparation Tasks 116 Review All the Key Topics 116 Complete the Tables and Lists from Memory 117 Define Key Terms 117 Command Reference to Check Your Memory 117
Unknown

xiv CCNA Security 210-260 Official Cert Guide

Chapter 6 Chapter 7

Fundamentals of IP Security 119 “Do I Know This Already?” Quiz 119 Foundation Topics 122 IPsec Concepts, Components, and Operations 122
The Goal of IPsec 122 The Internet Key Exchange (IKE) Protocol 123 The Play by Play for IPsec 124 Step 1: Negotiate the IKEv1 Phase 1 Tunnel 124 Step 2: Run the DH Key Exchange 125 Step 3: Authenticate the Peer 126 What About the User’s Original Packet? 126 Leveraging What They Have Already Built 126 Now IPsec Can Protect the User’s Packets 127 Traffic Before IPsec 127 Traffic After IPsec 127 Summary of the IPsec Story 128 Configuring and Verifying IPsec 129 Tools to Configure the Tunnels 129 Start with a Plan 129 Applying the Configuration 129 Viewing the CLI Equivalent at the Router 137 Completing and Verifying IPsec 139 Exam Preparation Tasks 146 Review All the Key Topics 146 Complete the Tables and Lists from Memory 146 Define Key Terms 146 Command Reference to Check Your Memory 147
Implementing IPsec Site-to-Site VPNs 149 “Do I Know This Already?” Quiz 149 Foundation Topics 152 Planning and Preparing an IPsec Site-to-Site VPN 152
Customer Needs 152 Planning IKEv1 Phase 1 154 Planning IKEv1 Phase 2 154 Implementing and Verifying an IPsec Site-to-Site VPN in Cisco IOS Devices 155 Troubleshooting IPsec Site-to-Site VPNs in Cisco IOS 164

Unknown

xv

Chapter 8

Implementing and Verifying an IPsec Site-to-Site VPN in Cisco ASA 179 Troubleshooting IPsec Site-to-Site VPNs in Cisco ASA 193
Exam Preparation Tasks 199 Review All the Key Topics 199 Complete the Tables and Lists from Memory 199 Define Key Terms 199 Command Reference to Check Your Memory 199
Implementing SSL VPNs Using Cisco ASA 203 “Do I Know This Already?” Quiz 203 Foundation Topics 206 Functions and Use of SSL for VPNs 206
Is IPsec Out of the Picture? 206 SSL and TLS Protocol Framework 207 The Play by Play of SSL for VPNs 207 SSL VPN Flavors 208 Configuring Clientless SSL VPNs on ASA 209 Using the SSL VPN Wizard 209 Digital Certificates 211 Accessing the Connection Profile 211 Authenticating Users 211 Logging In 215 Seeing the VPN Activity from the Server 217 Using the Cisco AnyConnect Secure Mobility Client 217 Types of SSL VPNs 218 Configuring the Cisco ASA to Terminate the Cisco AnyConnect Secure
Mobility Client Connections 218 Groups, Connection Profiles, and Defaults 225 One Item with Three Different Names 226 Split Tunneling 227 Troubleshooting SSL VPN 228 Troubleshooting SSL Negotiations 228 Troubleshooting AnyConnect Client Issues 228 Initial Connectivity Issues 228 Traffic-Specific Issues 230 Exam Preparation Tasks 231 Review All the Key Topics 231 Complete the Tables and Lists from Memory 231 Define Key Terms 231

Unknown

xvi CCNA Security 210-260 Official Cert Guide

Part IV Chapter 9

Secure Routing and Switching
Securing Layer 2 Technologies 233 “Do I Know This Already?” Quiz 233 Foundation Topics 236 VLAN and Trunking Fundamentals 236
What Is a VLAN? 236 Trunking with 802.1Q 238 Following the Frame, Step by Step 239 The Native VLAN on a Trunk 239 So, What Do You Want to Be? (Asks the Port) 239 Inter-VLAN Routing 240 The Challenge of Using Physical Interfaces Only 240 Using Virtual “Sub” Interfaces 240 Spanning-Tree Fundamentals 241 Loops in Networks Are Usually Bad 241 The Life of a Loop 241 The Solution to the Layer 2 Loop 242 STP Is Wary of New Ports 245 Improving the Time Until Forwarding 245 Common Layer 2 Threats and How to Mitigate Them 246 Disrupt the Bottom of the Wall, and the Top Is Disrupted, Too 246 Layer 2 Best Practices 246 Do Not Allow Negotiations 247 Layer 2 Security Toolkit 248 Specific Layer 2 Mitigation for CCNA Security 248 BPDU Guard 248 Root Guard 249 Port Security 250 CDP and LLDP 251 DHCP Snooping 253 Dynamic ARP Inspection 254 Exam Preparation Tasks 257 Review All the Key Topics 257 Complete the Tables and Lists from Memory 258 Review the Port Security Video Included with This Book 258 Define Key Terms 258 Command Reference to Check Your Memory 258

Unknown

xvii

Chapter 10

Network Foundation Protection 261 “Do I Know This Already?” Quiz 261 Foundation Topics 264 Using Network Foundation Protection to Secure Networks 264
The Importance of the Network Infrastructure 264 The Network Foundation Protection Framework 264 Interdependence 265 Implementing NFP 265 Understanding the Management Plane 266 First Things First 266 Best Practices for Securing the Management Plane 267 Understanding the Control Plane 268 Best Practices for Securing the Control Plane 268 Understanding the Data Plane 270 Best Practices for Protecting the Data Plane 271 Additional Data Plane Protection Mechanisms 271 Exam Preparation Tasks 272 Review All the Key Topics 272 Complete the Tables and Lists from Memory 272 Define Key Terms 272

Chapter 11

Securing the Management Plane on Cisco IOS Devices 275 “Do I Know This Already?” Quiz 275 Foundation Topics 278 Securing Management Traffic 278
What Is Management Traffic and the Management Plane? 278 Beyond the Blue Rollover Cable 278 Management Plane Best Practices 278 Password Recommendations 281 Using AAA to Verify Users 281 AAA Components 282 Options for Storing Usernames, Passwords, and Access Rules 282 Authorizing VPN Users 283 Router Access Authentication 284 The AAA Method List 285 Role-Based Access Control 286 Custom Privilege Levels 287 Limiting the Administrator by Assigning a View 287

Unknown

xviii CCNA Security 210-260 Official Cert Guide
Encrypted Management Protocols 287 Using Logging Files 288 Understanding NTP 289 Protecting Cisco IOS Files 289 Implementing Security Measures to Protect the Management Plane 290 Implementing Strong Passwords 290 User Authentication with AAA 292 Using the CLI to Troubleshoot AAA for Cisco Routers 296 RBAC Privilege Level/Parser View 301 Implementing Parser Views 303 SSH and HTTPS 305 Implementing Logging Features 308 Configuring Syslog Support 308 SNMP Features 310 Configuring NTP 313 Secure Copy Protocol 315 Securing the Cisco IOS Image and Configuration Files 315 Exam Preparation Tasks 317 Review All the Key Topics 317 Complete the Tables and Lists from Memory 318 Define Key Terms 318 Command Reference to Check Your Memory 318
Chapter 12 Securing the Data Plane in IPv6 321 “Do I Know This Already?” Quiz 321 Foundation Topics 324 Understanding and Configuring IPv6 324 Why IPv6? 324 The Format of an IPv6 Address 325 Understanding the Shortcuts 327 Did We Get an Extra Address? 327 IPv6 Address Types 327 Configuring IPv6 Routing 330 Moving to IPv6 331 Developing a Security Plan for IPv6 332 Best Practices Common to Both IPv4 and IPv6 332 Threats Common to Both IPv4 and IPv6 333 The Focus on IPv6 Security 334
Unknown

xix

New Potential Risks with IPv6 334 IPv6 Best Practices 336 IPv6 Access Control Lists 337 Exam Preparation Tasks 338 Review All the Key Topics 338 Complete the Tables and Lists from Memory 338 Define Key Terms 338 Command Reference to Check Your Memory 338

Chapter 13 Securing Routing Protocols and the Control Plane 341 “Do I Know This Already?” Quiz 341 Foundation Topics 344 Securing the Control Plane 344 Minimizing the Impact of Control Plane Traffic on the CPU 344 Control Plane Policing 346 Control Plane Protection 348 Securing Routing Protocols 348 Implement Routing Update Authentication on OSPF 348 Implement Routing Update Authentication on EIGRP 349 Implement Routing Update Authentication on RIP 350 Implement Routing Update Authentication on BGP 351 Exam Preparation Tasks 353 Review All the Key Topics 353 Complete the Tables and Lists from Memory 353 Define Key Terms 353

Part V

Cisco Firewall Technologies and Intrusion Prevention System Technologies

Chapter 14

Understanding Firewall Fundamentals 355 “Do I Know This Already?” Quiz 355 Foundation Topics 358 Firewall Concepts and Technologies 358
Firewall Technologies 358 Objectives of a Good Firewall 358 Firewall Justifications 359 The Defense-in-Depth Approach 360 Firewall Methodologies 361 Static Packet Filtering 362 Application Layer Gateway 363

Unknown

xx CCNA Security 210-260 Official Cert Guide

Stateful Packet Filtering 363 Application Inspection 364 Transparent Firewalls 365 Next-Generation Firewalls 365 Using Network Address Translation 366 NAT Is About Hiding or Changing the Truth About Source
Addresses 366 Inside, Outside, Local, Global 367 Port Address Translation 368 NAT Options 369 Creating and Deploying Firewalls 370 Firewall Technologies 370 Firewall Design Considerations 370 Firewall Access Rules 371 Packet-Filtering Access Rule Structure 372 Firewall Rule Design Guidelines 372 Rule Implementation Consistency 373 Exam Preparation Tasks 375 Review All the Key Topics 375 Complete the Tables and Lists from Memory 375 Define Key Terms 375

Chapter 15

Implementing Cisco IOS Zone-Based Firewalls 377 “Do I Know This Already?” Quiz 377 Foundation Topics 379 Cisco IOS Zone-Based Firewalls 379
How Zone-Based Firewall Operates 379 Specific Features of Zone-Based Firewalls 379 Zones and Why We Need Pairs of Them 380 Putting the Pieces Together 381 Service Policies 382 The Self Zone 384 Configuring and Verifying Cisco IOS Zone-Based Firewalls 385 First Things First 385 Using CCP to Configure the Firewall 386 Verifying the Firewall 399 Verifying the Configuration from the Command Line 400 Implementing NAT in Addition to ZBF 404 Verifying Whether NAT Is Working 407

Unknown

xxi
Exam Preparation Tasks 409 Review All the Key Topics 409 Complete the Tables and Lists from Memory 409 Define Key Terms 409 Command Reference to Check Your Memory 409
Chapter 16 Configuring Basic Firewall Policies on Cisco ASA 413 “Do I Know This Already?” Quiz 413 Foundation Topics 416 The ASA Appliance Family and Features 416 Meet the ASA Family 416 ASA Features and Services 417 ASA Firewall Fundamentals 419 ASA Security Levels 419 The Default Flow of Traffic 420 Tools to Manage the ASA 422 Initial Access 422 Packet Filtering on the ASA 422 Implementing a Packet-Filtering ACL 423 Modular Policy Framework 424 Where to Apply a Policy 425 Configuring the ASA 425 Beginning the Configuration 425 Getting to the ASDM GUI 433 Configuring the Interfaces 435 IP Addresses for Clients 443 Basic Routing to the Internet 444 NAT and PAT 445 Permitting Additional Access Through the Firewall 447 Using Packet Tracer to Verify Which Packets Are Allowed 449 Verifying the Policy of No Telnet 453 Exam Preparation Tasks 454 Review All the Key Topics 454 Complete the Tables and Lists from Memory 454 Define Key Terms 454 Command Reference to Check Your Memory 455
Unknown

xxii CCNA Security 210-260 Official Cert Guide

Chapter 17

Cisco IDS/IPS Fundamentals 457 “Do I Know This Already?” Quiz 457 Foundation Topics 460 IPS Versus IDS 460
What Sensors Do 460 Difference Between IPS and IDS 460 Sensor Platforms 462 True/False Negatives/Positives 463 Positive/Negative Terminology 463 Identifying Malicious Traffic on the Network 463 Signature-Based IPS/IDS 464 Policy-Based IPS/IDS 464 Anomaly-Based IPS/IDS 464 Reputation-Based IPS/IDS 464 When Sensors Detect Malicious Traffic 465 Controlling Which Actions the Sensors Should Take 467 Implementing Actions Based on the Risk Rating 468 Circumventing an IPS/IDS 468 Managing Signatures 469 Signature or Severity Levels 470 Monitoring and Managing Alarms and Alerts 471 Security Intelligence 471 IPS/IDS Best Practices 472 Cisco Next-Generation IPS Solutions 472 Exam Preparation Tasks 474 Review All the Key Topics 474 Complete the Tables and Lists from Memory 474 Define Key Terms 474

Part VI

Content and Endpoint Security

Chapter 18

Mitigation Technologies for E-mail-Based and Web-Based Threats 477 “Do I Know This Already?” Quiz 477 Foundation Topics 479 Mitigation Technology for E-mail-Based Threats 479
E-mail-Based Threats 479 Cisco Cloud E-mail Security 479 Cisco Hybrid E-mail Security 480

Unknown

xxiii

Cisco E-mail Security Appliance 480 Cisco ESA Initial Configuration 483 Mitigation Technology for Web-Based Threats 486 Cisco CWS 486 Cisco WSA 487 Cisco Content Security Management Appliance 491 Exam Preparation Tasks 493 Review All the Key Topics 493 Complete the Tables and Lists from Memory 493 Define Key Terms 493 Command Reference to Check Your Memory 493

Chapter 19

Mitigation Technologies for Endpoint Threats 495 “Do I Know This Already?” Quiz 495 Foundation Topics 497 Antivirus and Antimalware Solutions 497 Personal Firewalls and Host Intrusion Prevention Systems 498 Advanced Malware Protection for Endpoints 499 Hardware and Software Encryption of Endpoint Data 500
E-mail Encryption 500 Encrypting Endpoint Data at Rest 501 Virtual Private Networks 501 Exam Preparation Tasks 503 Review All the Key Topics 503 Complete the Tables and Lists from Memory 503 Define Key Terms 503

Part VII

Final Preparation

Chapter 20 Final Preparation 505 Tools for Final Preparation 505 Exam Engine and Questions on the CD 505 Install the Exam Engine 505 Activate and Download the Practice Exam 506 Activating Other Exams 506 Premium Edition 506 The Cisco Learning Network 507 Memory Tables 507 Chapter-Ending Review Tools 507

Unknown

xxiv CCNA Security 210-260 Official Cert Guide

Study Plan 507 Recall the Facts 507 Practice Configurations 508 Using the Exam Engine 508

Part VIII

Appendixes

Appendix A Answers to the “Do I Know This Already?” Quizzes 511

Appendix B CCNA Security 210-260 (IINS) Exam Updates 517

Glossary 521

Index 532

On the CD
Glossary Appendix C Memory Tables Appendix D Memory Tables Answer Key Appendix E Study Planner

Unknown

xxv
Command Syntax Conventions
The conventions used to present command syntax in this book are the same conventions used in the IOS Command Reference. The Command Reference describes these conventions as follows:
■ Boldface indicates commands and keywords that are entered literally as shown. In actual configuration examples and output (not general command syntax), boldface indicates commands that are manually input by the user (such as a show command).
■ Italic indicates arguments for which you supply actual values. ■ Vertical bars (|) separate alternative, mutually exclusive elements. ■ Square brackets ([ ]) indicate an optional element. ■ Braces ({ }) indicate a required choice. ■ Braces within brackets ([{ }]) indicate a required choice within an optional element.
Unknown

xxvi CCNA Security 210-260 Official Cert Guide
Introduction
Congratulations! If you are reading this, you have in your possession a powerful tool that can help you to
■ Improve your awareness and knowledge of network security ■ Increase your skill level related to the implementation of that security ■ Prepare for the CCNA Security certification exam When writing this book, we did so with you in mind, and together we will discover the critical ingredients that make up the recipe for a secure network and work through examples of how to implement these features. By focusing on both covering the objectives for the CCNA Security exam and integrating that with real-world best practices and examples, we created this content with the intention of being your personal tour guides as we take you on a journey through the world of network security. The CCNA Security Implementing Cisco Network Security (IINS) 210-260 exam is required for the CCNA Security certification. The prerequisite for CCNA Security is the CCNA Route/Switch certification (or any CCIE certification). The CCNA Security exam tests your knowledge of securing Cisco routers and switches and their associated networks, and this book prepares you for that exam. This book covers all the topics listed in Cisco’s exam blueprint, and each chapter includes key topics and preparation tasks to assist you in mastering this information. The CD that accompanies this book also includes bonus videos to assist you in your journey toward becoming a CCNA in Security. Of course, the CD included with the printed book also includes several practice questions to help you prepare for the exam.
About the CCNA Security Implementing Cisco Network Security (IINS) 210-260 Exam
Cisco’s objective of the CCNA Security exam is to verify the candidate’s understanding, implementation, and verification of security best practices on Cisco hardware and software. The focus points for the exam (which this book prepares you for) are as follows: ■ Cisco routers and switches
■ Common threats, including blended threats, and how to mitigate them ■ The lifecycle approach for a security policy ■ Understanding and implementing network foundation protection for the control,
data, and management planes ■ Understanding, implementing, and verifying AAA (authentication, authorization,
and accounting), including the details of TACACS+ and RADIUS ■ Understanding and implementing basic rules inside of Cisco Access Control Server
(ACS) Version 5.x, including conﬁguration of both ACS and a router for communications with each other
Unknown

Introduction xxvii
■ Standard, extended, and named access control lists used for packet ﬁltering and for the classiﬁcation of trafﬁc
■ Understanding and implementing protection against Layer 2 attacks, including CAM table overﬂow attacks, and VLAN hopping
■ Cisco firewall technologies ■ Understanding and describing the various methods for ﬁltering implemented by ﬁrewalls, including stateful ﬁltering. Compare and contrast the strengths and weaknesses of the various ﬁrewall technologies. ■ Understanding the methods that a ﬁrewall may use to implement Network Address Translation (NAT) and Port Address Translation (PAT). ■ Understanding, implementing, and interpreting a zone-based ﬁrewall policy through Cisco Conﬁguration Professional (CCP). ■ Understanding and describing the characteristics and defaults for interfaces, security levels, and trafﬁc ﬂows on the Adaptive Security Appliance (ASA). ■ Implementing and interpreting a ﬁrewall policy on an ASA through the GUI tool named the ASA Security Device Manager (ASDM).
■ Intrusion prevention systems ■ Comparing and contrasting intrusion prevention systems (IPS) versus intrusion detection systems (IDS), including the pros and cons of each and the methods used by these systems for identifying malicious trafﬁc ■ Describing the concepts involved with IPS included true/false positives/negatives ■ Conﬁguring and verifying IOS-based IPS using CCP
■ VPN technologies ■ Understanding and describing the building blocks used for virtual private networks (VPNs) today, including the concepts of symmetrical, asymmetrical, encryption, hashing, Internet Key Exchange (IKE), public key infrastructure (PKI), authentication, Difﬁe-Hellman, certiﬁcate authorities, and so on ■ Implementing and verifying IPsec VPNs on IOS using CCP and the command-line interface (CLI) ■ Implementing and verifying Secure Sockets Layer (SSL) VPNs on the ASA ﬁrewall using ASDM
As you can see, it is an extensive list, but together we will not only address and learn each of these, but we will also have fun doing it.
You can take the exam at Pearson VUE testing centers. You can register with VUE at http://www.vue.com/cisco/.
CCNA Security Exam
Table I-1 lists the topics of the CCNA Security exam and indicates the parts in the book where these topics are covered.
Unknown

xxviii CCNA Security 210-260 Official Cert Guide
Table I-1 CCNA Security Exam Topics Exam Topic 1.0 Security Concepts 1.1 Common Security Principles 1.1.a Describe Confidentiality, Integrity, Availability (CIA) 1.1.b Describe SIEM technology 1.1.c Identify common security terms 1.1.d Identify common network security zones 1.2 Common Security Threats 1.2.a Identify Common network attacks 1.2.b Describe Social Engineering 1.2.c Identify Malware 1.2.d Classify the vectors of Data Loss/Exfiltration 1.3 Cryptography Concepts 1.3.a Describe Key Exchange 1.3.b Describe Hash Algorithm 1.3.c Compare & Contrast Symmetric and Asymmetric Encryption 1.3.d Describe Digital Signatures, Certificates and PKI 1.4 Describe network topologies 1.4.a Campus Area Network (CAN) 1.4.b Cloud, Wide Area Network (WAN) 1.4.c Data Center 1.4.d Small office/Home office (SOHO) 1.4.e Network security for a virtual environment 2.0 Secure Access
2.1 Secure management 2.1.a Compare In-band and out of band 2.1.b Configure secure network management 2.1.c Configure and verify secure access through SNMP v3 using an ACL 2.1.d Configure and verify security for NTP 2.1.e Use SCP for file transfer

Part
Chapter 1 Chapter 1 Chapter 1 Chapter 1
Chapter 2 Chapter 2 Chapter 2 Chapter 2
Chapter 5 Chapter 5 Chapter 5 Chapter 5
Chapter 1 Chapter 1 Chapter 1 Chapter 1 Chapter 1
Chapter 11 Chapter 11 Chapter 11 Chapter 11 Chapter 11

Unknown

Introduction xxix

Exam Topic 2.2 AAA Concepts

Part

2.2.a Describe RADIUS & TACACS+ technologies 2.2.b Configure administrative access on a Cisco router using TACACS+ 2.2.c Verify connectivity on a Cisco router to a TACACS+ server 2.2.d Explain the integration of Active Directory with AAA 2.2.e Describe Authentication & Authorization using ACS and ISE

Chapter 3 Chapter 3 Chapter 3 Chapter 3 Chapter 3

2.3. 802.1X Authentication

2.3.a Identify the functions 802.1X components 2.4. BYOD

Chapter 4

2.4.a Describe the BYOD architecture framework 2.4.b Describe the function of Mobile Device Management (MDM) 3. VPN

Chapter 4 Chapter 4

3.1. VPN Concepts

3.1.a Describe IPSec Protocols and Delivery Modes (IKE, ESP, AH, Tunnel mode, Transport mode) 3.1.b Describe Hairpinning, Split Tunneling, Always-on, NAT Traversal 3.2. Remote Access VPN
3.2.a Implement basic Clientless SSL VPN using ASDM

Chapter 6 Chapter 6 Chapter 8

3.2.b Verify clientless connection

Chapter 8

3.2.c Implement basic AnyConnect SSL VPN using ASDM

Chapter 8

3.2.d Verify AnyConnect connection

Chapter 8

3.2.e Identify Endpoint Posture Assessment

Chapter 8

3.3 Site-to-Site VPN

3.3.a Implement an IPSec site-to-site VPN with pre-shared key authentication Chapter 7 on Cisco routers and ASA firewalls

3.3.b Verify an IPSec site-to-site VPN

Chapter 7

4.0. Secure Routing & Switching

4.1 Security on Cisco Routers

4.1.a Configure multiple privilege levels 4.1.b Configure IOS Role-based CLI Access 4.1.c Implement IOS Resilient Configuration

Chapter 11 Chapter 11 Chapter 11

Unknown

xxx CCNA Security 210-260 Official Cert Guide

Exam Topic 4.2 Securing Routing Protocols

Part

4.2.a Implement routing update authentication on OSPF 4.3 Securing the Control Plane 4.3.a Explain the function of Control Plane Policing 4.4 Common Layer 2 Attacks

Chapter 13 Chapter 13

4.4.a Describe STP attacks 4.4.b Describe ARP Spoofing 4.4.c Describe MAC spoofing 4.4.d Describe CAM Table (MAC Address Table) Overflows 4.4.e Describe CDP/LLDP Reconnaissance 4.4.f Describe VLAN Hopping 4.4.g Describe DHCP Spoofing 4.5 Mitigation Procedures

Chapter 9 Chapter 9 Chapter 9 Chapter 9 Chapter 9 Chapter 9 Chapter 9

4.5.a Implement DHCP Snooping

Chapter 9

4.5.b Implement Dynamic ARP Inspection

Chapter 9

4.5.c Implement Port Security

Chapter 9

4.5.d Describe BPDU Guard, Root Guard, Loop Guard

Chapter 9

4.5.e Verify mitigation procedures

Chapter 9

4.6 VLAN Security

Chapter 9

4.6.a Describe the security implications of a PVLAN

Chapter 9

4.6.b Describe the security implications of a Native VLAN

Chapter 9

5.0 Cisco Firewall Technologies

Chapter 14

5.1 Describe operational strengths and weaknesses of the different firewall technologies

Chapter 14

5.1.a Proxy firewalls

Chapter 14

5.1.b Application firewall

Chapter 14

5.1.c Personal firewall

Chapter 14

5.2 Compare Stateful vs. Stateless Firewalls

5.2.a Operations 5.2.b Functions of the state table

Chapter 16 Chapter 16

Unknown

Introduction xxxi

Exam Topic

Part

5.3 Implement NAT on Cisco ASA 9.x

5.3.a Static

Chapter 16

5.3.b Dynamic

Chapter 16

5.3.c PAT

Chapter 16

5.3.d Policy NAT

Chapter 16

5.3 e Verify NAT operations

Chapter 16

5.4 Implement Zone Based Firewall

5.4.a Zone to zone

Chapter 15

5.4.b Self zone

Chapter 15

5.5 Firewall features on the Cisco Adaptive Security Appliance (ASA) 9.x

5.5.a Configure ASA Access Management

Chapter 16

5.5.b Configure Security Access Policies

Chapter 16

5.5.c Configure Cisco ASA interface security levels

Chapter 16

5.5.d Configure Default Modular Policy Framework (MPF)

Chapter 16

5.5.e Describe Modes of deployment (Routed firewall, Transparent firewall) Chapter 16

5.5.f Describe methods of implementing High Availability

Chapter 16

5.5.g Describe Security contexts

Chapter 16

5.5.h Describe Firewall Services

Chapter 16

6.0 IPS

6.1 Describe IPS Deployment Considerations 6.1.a Network Based IPS vs. Host Based IPS

Chapter 17 Chapter 17

6.1.b Modes of deployment (Inline, Promiscuous - SPAN, tap)

Chapter 17

6.1.c Placement (positioning of the IPS within the network) 6.1.d False Positives, False Negatives, True Positives, True Negatives

Chapter 17 Chapter 17

6.2 Describe IPS Technologies

6.2.a Rules/Signatures 6.2.b Detection/Signature Engines

Chapter 17 Chapter 17

6.2.c Trigger Actions/Responses (drop, reset, block, alert, monitor/log, shun) Chapter 17

6.2.d Blacklist (Static & Dynamic)

Chapter 17

Unknown

xxxii CCNA Security 210-260 Official Cert Guide

Exam Topic 7.0 Content and Endpoint Security
7.1 Describe Mitigation Technology for Email-based Threats 7.1.a SPAM Filtering, Anti-Malware Filtering, DLP, Blacklisting, Email Encryption
7.2 Describe Mitigation Technology for Web-based Threats 7.2.a Local & Cloud Based Web Proxies 7.2.b Blacklisting, URL-Filtering, Malware Scanning, URL Categorization, Web Application Filtering, TLS/SSL Decryption
7.3 Describe Mitigation Technology for Endpoint Threats 7.3.a Anti-Virus/Anti-Malware 7.3.b Personal Firewall/HIPS 7.3.c Hardware/Software Encryption of local data

Part Chapter 18
Chapter 18
Chapter 18 Chapter 18
Chapter 19 Chapter 19 Chapter 19

About the CCNA Security 210-260 Official Cert Guide
This book maps to the topic areas of the CCNA Security exam and uses a number of features to help you understand the topics and prepare for your exam.
Objectives and Methods
This book uses several key methodologies to help you discover the exam topics for which you need more review, to help you fully understand and remember those details, and to help you prove to yourself that you have retained your knowledge of those topics. So, this book does not try to help you pass the exams only by memorization, but by truly learning and understanding the topics. This book is designed to assist you in the exam by using the following methods:
■ Using a conversational style that reflects the fact that we wrote this book as if we made it just for you, as a friend, discussing the topics with you, one step at a time
■ Helping you discover which exam topics you may want to invest more time studying, to really “get it”
■ Providing explanations and information to fill in your knowledge gaps ■ Supplying three bonus videos (on the CD) to reinforce some of the critical concepts and
techniques that you have learned from in your study of this book ■ Providing practice questions to assess your understanding of the topics

Unknown

Introduction xxxiii
Book Features
To help you customize your study time using this book, the core chapters have several features that help you make the best use of your time:
■ “Do I Know This Already?” quiz: Each chapter begins with a quiz that helps you determine how much time you need to spend studying that chapter.
■ Foundation Topics: These are the core sections of each chapter. They explain the concepts for the topics in that chapter.
■ Exam Preparation Tasks: After the “Foundation Topics” section of each chapter, the “Exam Preparation Tasks” section lists a series of study activities that you should do when you finish the chapter. Each chapter includes the activities that make the most sense for studying the topics in that chapter: ■ Review All the Key Topics: The Key Topic icon appears next to the most important items in the “Foundation Topics” section of the chapter. The “Review All the Key Topics” activity lists the key topics from the chapter, along with their page numbers. Although the contents of the entire chapter could be on the exam, you should deﬁnitely know the information listed in each key topic, so you should review these. ■ Complete the Tables and Lists from Memory: To help you memorize some lists of facts, many of the more important lists and tables from the chapter are included in a document on the CD. This document lists only partial information, allowing you to complete the table or list. ■ Deﬁne Key Terms: Although the exam is unlikely to ask a “deﬁne this term” type of question, the CCNA exams do require that you learn and know a lot of networking terminology. This section lists the most important terms from the chapter, asking you to write a short deﬁnition and compare your answer to the glossary at the end of the book. ■ Command Reference to Check Your Memory: Review important commands covered in the chapter.
■ CD-based practice exam: The companion CD contains an exam engine that enables you to review practice exam questions. Use these to prepare with a sample exam and to pinpoint topics where you need more study.
How This Book Is Organized
This book contains 19 core chapters. Chapter 20 includes some preparation tips and suggestions for how to approach the exam. Each core chapter covers a subset of the topics on the CCNA Security exam. The core chapters are organized into parts. They cover the following topics:
Part I: Fundamentals of Network Security
■ Chapter 1, “Networking Security Concepts”: This chapter covers the need for and the building blocks of network and information security, threats to our networks today, and fundamental principles of secure network design.
Unknown

xxxiv CCNA Security 210-260 Official Cert Guide
■ Chapter 2, “Common Security Threats”: This chapter covers the current state of network security in terms of the types of threats organizations face on behalf of malicious actors. It provides coverage of different threat landscape topics and common attacks such as distributed denial-of-service (DDoS) attacks, social engineering, malware identification tools, data loss, and exfiltration.
Part II: Secure Access
■ Chapter 3, “Implementing AAA in Cisco IOS”: This chapter covers the role of Cisco Secure ACS and the Cisco Identity Services Engine (ISE), along with the two primary protocols used for authentication RADIUS and TACACS. It also covers configuration of a router to interoperate with an ACS server and configuration of the ACS server to interoperate with a router. The chapter also covers router tools to verify and troubleshoot router-to-ACS server interactions.
■ Chapter 4, “Bring Your Own Device (BYOD)”: This chapter covers different subjects focused on the topic of BYOD. It provides a description of the BYOD concept and an overview of a BYOD architecture framework. This chapter covers the fundamentals of mobile device management (MDM), its function, and the deployment options.
Part III: Virtual Private Networks (VPN)
■ Chapter 5, “Fundamentals of VPN Technology and Cryptography”: This chapter covers what VPNs are and why we use them and the basic ingredients of cryptography. This chapter also covers the concepts, components, and operations of the public key infrastructure (PKI) and includes an example of putting the pieces of PKI to work.
■ Chapter 6, “Fundamentals of IP Security”: This chapter covers the concepts, components, and operations of IPsec and how to configure and verify IPsec.
■ Chapter 7, “Implementing IPsec Site-to-Site VPNs”: This chapter covers planning and preparing to implement an IPsec site-to-site VPN and implementing and verifying the IPsec site-to-site VPN.
■ Chapter 8, “Implementing SSL VPNs Using Cisco ASA”: This chapter covers the functions and use of SSL for VPNs, configuring SSL clientless VPN on the ASA, and configuring the full SSL AnyConnect VPN on the ASA.
Part IV: Secure Routing and Switching
■ Chapter 9, “Securing Layer 2 Technologies”: This chapter covers VLANs and trunking fundamentals, spanning-tree fundamentals, and common Layer 2 threats and how to mitigate them.
■ Chapter 10, “Network Foundation Protection”: This chapter covers securing the network using the network foundation protection (NFP) approach, the management plane, the control plane, and the data plane.
■ Chapter 11, “Securing the Management Plane on Cisco IOS Devices”: This chapter covers management traffic and how to make it more secure and the implementation of security measures to protect the management plane.
■ Chapter 12, “Securing the Data Plane in IPv6”: This chapter covers IPv6 (basics, configuring, and developing a security plan for IPv6).
Unknown

Introduction xxxv
■ Chapter 13, “Securing Routing Protocols and the Control Plane”: This chapter covers different subjects focused on the control plane of the network device. It provides details on how to secure the control plane of network infrastructure devices. This chapter explains the function of control plane policing (CoPP), control plane protection (CPPr), and how to secure IP routing protocols.
Part V: Cisco Firewall Technologies and Intrusion Prevention System Technologies
■ Chapter 14, “Understanding Firewall Fundamentals”: This chapter covers firewall concepts and the technologies used by them, the function of Network Address Translation (NAT), including its building blocks, and the guidelines and considerations for creating and deploying firewalls.
■ Chapter 15, “Implementing Cisco IOS Zone-Based Firewalls”: This chapter covers the operational and functional components of the IOS zone-based firewall and how to configure and verify the IOS zone-based firewall.
■ Chapter 16, “Configuring Basic Firewall Policies on Cisco ASA”: This chapter covers the Adaptive Security Appliance (ASA) family and features, ASA firewall fundamentals, and configuring the ASA.
■ Chapter 17, “Cisco IPS Fundamentals”: This chapter compares intrusion prevention systems (IPS) to intrusion detection systems (IDS) and covers how to identify malicious traffic on the network, manage signatures, and monitor and manage alarms and alerts.
Part VI: Content and Endpoint Security
■ Chapter 18, “Mitigation Technologies for E-Mail-Based and Web-Based Threats”: This chapter covers the different mitigation technologies for e-mail-based and webbased threats. It covers the Cisco Email Security Appliances (ESA), Cisco cloud e-mail security, Cisco Cloud Web Security (CWS), the Cisco Web Security Appliance (WSA), and the Cisco Content Security Management Appliance (SMA). Cisco has added advanced malware protection (AMP) to the ESA and WSA to enable security administrators to detect and block malware and perform continuous analysis and retrospective alerting. Both the ESA and WSA use cloud-based security intelligence to allow protection before, during, and after an attack. This chapter covers these technologies and solutions in detail. It details mitigation technologies such as spam and antimalware filtering, data loss prevention (DLP), blacklisting, e-mail encryption, and web application filtering.
■ Chapter 19, “Mitigation Technology for Endpoint Threats”: This chapter provides details of the different mitigation technologies available for endpoint threats. It covers introductory concepts of endpoint threats to advanced malware protection capabilities provided by Cisco security products. This chapter covers the different antivirus and antimalware solutions, personal firewalls and host intrusion prevention systems (HIPS), Cisco AMP for endpoints, and hardware and software encryption of endpoint data.
Part VII: Final Preparation
■ Chapter 20, “Final Preparation”: This chapter identifies tools for final exam preparation and helps you develop an effective study plan.
Unknown

xxxvi CCNA Security 210-260 Official Cert Guide
Appendixes ■ Appendix A, “Answers to the ’Do I Know This Already?’ Quizzes”: Includes the
answers to all the questions from Chapters 1 through 19. ■ Appendix B, “CCNA Security 210-260 (IINS) Exam Updates”: This appendix provides
instructions for finding updates to the exam and this book when and if they occur. ■ Glossary: The glossary contains definitions for all the terms listed in the “Define Key
Terms” sections at the conclusions of Chapters 1 through 19. CD-Only Appendixes ■ Appendix C, “Memory Tables”: This CD-only appendix contains the key tables and
lists from each chapter, with some of the contents removed. You can print this appendix and, as a memory exercise, complete the tables and lists. The goal is to help you memorize facts that can be useful on the exams. This appendix is available in PDF format on the CD; it is not in the printed book. ■ Appendix D, “Memory Tables Answer Key”: This CD-only appendix contains the answer key for the memory tables in Appendix C. This appendix is available in PDF format on the CD; it is not in the printed book. ■ Appendix E, “Study Planner”: This spreadsheet provides major study milestones where you can track your progress through your study. ■ Glossary: The glossary contains definitions for all the terms listed in the “Define Key Terms” sections at the conclusions of Chapters 1 through 19.
Premium Edition eBook and Practice Test
This Cert Guide contains a special offer for a 70 percent discount off the companion CCNA Security 210-260 Official Cert Guide Premium Edition eBook and Practice Test. The Premium Edition combines an eBook version of the text with an enhanced Pearson IT Certification Practice Test. By purchasing the Premium Edition, you get access to two eBook versions of the text: a PDF version and an EPUB version for reading on your tablet, eReader, or mobile device. You also get an enhanced practice test that contains an additional two full practice tests of unique questions. In addition, all the practice test questions are linked to the PDF eBook, allowing you to get more detailed feedback on each question instantly. To take advantage of this offer, you need the coupon code included on the paper in the CD sleeve. Just follow the purchasing instructions that accompany the code to download and start using your Premium Edition today.
unknown

This page intentionally left blank
From the Libra

This chapter covers the need for and the building blocks of network and information security, threats to our networks today, and fundamental principles of secure network design. It provides in-depth coverage of the following topics:
Confidentiality, integrity, availability (CIA) Common security terms Common network security zones Describe different network topologies, such as
Campus-area network (CAN) Cloud, wide-area network (WAN) Data center Small office/home office (SOHO)
Unknown

CHAPTER 1

Networking Security Concepts
Although network security has been considered important for quite some time, especially for those of us who have spent a large portion of our careers in the network security field, there has been a surge in public interest over the past year or so due to events that have impacted even the least technically savvy person. It seems as if we cannot go a full week lately without hearing that credit card data or personally identifiable information (PII) has inadvertently been leaked (more accurately, stolen) from banks, retail stores, and the like by malicious actors.
Security has become more complex than ever as the motives and capabilities of threat actors continue to evolve while allowing the miscreants to often stay (at least) one step ahead of those of us in the network security space. In addition, the concept of location of data is becoming blurred by concepts of cloud computing and content-data networks and global load balancing. As we strive to empower employees around the world with ubiquitous access to important data, it is increasingly important to remain constantly vigilant about protecting data and the entities using it (individuals, businesses, governments, and so on).
This chapter covers the fundamental building blocks of network security (implementing and improving), an essential topic that you are ready to master now that you better understand its importance.

“Do I Know This Already?” Quiz
The “Do I Know This Already?” quiz helps you determine your level of knowledge of this chapter’s topics before you begin. Table 1-1 details the major topics discussed in this chapter and their corresponding quiz questions.

Table 1-1 “Do I Know This Already?” Section-to-Question Mapping Foundation Topics Section Understanding Network and Information Security Basics Recognizing Current Network Threats Applying Fundamental Security Principles to Network Design

Questions 1–5 6–7 8–10

1. Which security term refers to a person, property, or data of value to a company? a. Risk b. Asset c. Threat prevention d. Mitigation technique

Unknown

4 CCNA Security 210-260 Official Cert Guide
2. Which asset characteristic refers to risk that results from a threat and lack of a countermeasure? a. High availability b. Liability c. Threat prevention d. Vulnerability
3. Which three items are the primary network security objectives for a company? a. Revenue generation b. Confidentiality c. Integrity d. Availability
4. Which data classification label is usually not found in a government organization? a. Unclassified b. Classified but not important c. Sensitive but unclassified d. For official use only e. Secret
5. Which of the following represents a physical control? a. Change control policy b. Background checks c. Electronic lock d. Access lists
6. What is the primary motivation for most attacks against networks today? a. Political b. Financial c. Theological d. Curiosity
7. Which type of an attack involves lying about the source address of a frame or packet? a. Man-in-the-middle attack b. Denial-of-service attack c. Reconnaissance attack d. Spoofing attack
8. Which two approaches to security provide the most secure results on day one? a. Role based b. Defense in depth c. Authentication d. Least privilege
Unknown

Chapter 1: Networking Security Concepts 5

9. Which of the following might you find in a network that is based on a defense-in-

depth security implementation? (Choose all that apply.)

1

a. Firewall

b. IPS

c. Access lists

d. Current patches on servers

10. In relation to production networks, which of the following are viable options when dealing with risk? (Choose all that apply.) a. Ignore it b. Transfer it c. Mitigate it d. Remove it

Unknown

6 CCNA Security 210-260 Official Cert Guide
Foundation Topics
Understanding Network and Information Security Basics
Security is important, and the lack of it risks financial, legal, political, and public relations implications. This section covers some of the concepts, terms, and methodologies used in preparing for and working with secure networks.
Network Security Objectives
When considering networks, you can view them from different perspectives. For example, senior management might view the network as a business tool to facilitate the goals of the company. Network technicians (at least some) might consider their networks to be the center of the universe. End users might consider the network to be just a tool for them to get their job done, or possibly as a source for recreation.
Not all users appreciate their role in keeping data safe, and unfortunately the users of the network represent a significant vulnerability, in that they have usernames and passwords (or other credentials, such as one-time password token generators) that allow them access to the network. If a user is compromised or an unauthorized individual gains access to data, applications, or devices for which they should not have access, the security of the network may still fail as a result, even after you apply all the concepts that you learn in this book. So, an important point to remember is that the users’ behaviors pose a security risk and that training users is a key part of a comprehensive security policy.
Confidentiality, Integrity, and Availability
Network security objectives usually involve three basic concepts:
■ Confidentiality: There are two types of data: data in motion as it moves across the network; and data at rest, when data is sitting on storage media (server, local workstation, in the cloud, and so forth). Confidentiality means that only the authorized individuals/ systems can view sensitive or classified information. This also implies that unauthorized individuals should not have any type of access to the data. Regarding data in motion, the primary way to protect that data is to encrypt it before sending it over the network. Another option you can use with encryption is to use separate networks for the transmission of confidential data. Several chapters in this book focus on these two concepts.
■ Integrity: Integrity for data means that changes made to data are done only by authorized individuals/systems. Corruption of data is a failure to maintain data integrity.
■ Availability: This applies to systems and to data. If the network or its data is not available to authorized users—perhaps because of a denial-of-service (DoS) attack or maybe because of a general network failure—the impact may be significant to companies and users who rely on that network as a business tool. The failure of a system, to include data, applications, devices, and networks, generally equates to loss of revenue.
Perhaps thinking of these security concepts as the CIA “triad” might help you remember them: confidentiality, integrity, and availability.
Unknown

Chapter 1: Networking Security Concepts 7

Cost-Benefit Analysis of Security

Network security engineers must understand not only what they protect, but also from

1

whom. Risk management is the key phrase that you will hear over and over, and although

not very glamorous, it is based on specific principles and concepts related to both asset pro-

tection and security management.

What is an asset? It is anything that is valuable to an organization. These could be tangible items (people, computers, and so on) or intangible items (intellectual property, database information, contact lists, accounting info). Knowing the assets that you are trying to protect and their value, location, and exposure can help you more effectively determine the time and money to spend securing those assets.

A vulnerability is an exploitable weakness in a system or its design. Vulnerabilities can be found in protocols, operating systems, applications, and system designs. Vulnerabilities abound, with more discovered every day.

A threat is any potential danger to an asset. If a vulnerability exists but has not yet been exploited or, more importantly, it is not yet publicly known, the threat is latent and not yet realized. If someone is actively launching an attack against your system and successfully accesses something or compromises your security against an asset, the threat is realized. The entity that takes advantage of the vulnerability is known as the malicious actor and the path used by this actor to perform the attack is known as the threat agent or threat vector.

A countermeasure is a safeguard that somehow mitigates a potential risk. It does so by either reducing or eliminating the vulnerability, or at least reduces the likelihood of the threat agent to actually exploit the risk. For example, you might have an unpatched machine on your network, making it highly vulnerable. If that machine is unplugged from the network and ceases to have any interaction with exchanging data with any other device, you have successfully mitigated all of those vulnerabilities. You have likely rendered that machine no longer an asset, though; but it is safer.

Note that thresholds apply to how we classify things. We do not spend more than the asset is worth to protect it because doing so makes no sense. For example, purchasing a used car for $200 and then spending $2000 on a secure garage facility so that nobody can harm the car or $1500 on an alarm system for that car seems to be a fairly silly proposition.

If you identify the data with the greatest value/worth, you usually automatically identify where the greatest effort to secure that information will be. Keep in mind, however, that beyond a company’s particular view about the value of any data, regulatory entities might also be involved (government regulations or laws, business partner agreements, contractual agreements, and so forth).

Just accepting the full risk (the all-or-nothing approach) is not really acceptable. After all, you can implement security measures to mitigate the risk. In addition, those same security devices, such as firewalls and intrusion prevention systems (IPS), can protect multiple devices simultaneously, thus providing a cost benefit. So, you can reduce risk by spending money on appropriate security measures, and usually do a good job of protecting an asset. You can never completely eliminate risk, so you must find the balance.

Table 1-2 describes a number of security terms and the appliances to which they relate.

Unknown

8 CCNA Security 210-260 Official Cert Guide

Table 1-2 Security Terms Vocabulary Term Explanation

Asset

An asset is an item that is to be protected and can include property, people, and information/data that have value to the company. This includes intangible items such as proprietary information or trade secrets and the reputation of the company. The data could include company records, client information, proprietary software, and so on.

Vulnerability

A vulnerability is an exploitable weakness of some type. That exploitation might result from a malicious attack, or it might be accidentally triggered because of a failure or weakness in the policy, implementation, or software running on the network.

Threat

This is what you are protecting against. A threat is anything that attempts to gain unauthorized access to, compromise, destroy, or damage an asset. Threats are often realized via an attack or exploit that takes advantage of an existing vulnerability.

Threats today come in many varieties and spread more rapidly than ever before. Threats can also morph and be modified over time, and so you must be ever diligent to keep up with them.

Risk

Risk is the potential for unauthorized access to, compromise,

destruction, or damage to an asset. If a threat exists, but proper

countermeasures and protections are in place (it is your goal to provide

this protection), the potential for the threat to be successful is reduced

(thus reducing the overall risk).

Countermeasure

A countermeasure is a device or process (a safeguard) that is implemented to counteract a potential threat, which thus reduces risk.

Classifying Assets
One reason to classify an asset is so that you can take specific action, based on policy, with regard to assets in a given class. Consider, for example, virtual private networks (VPN). We classify (that is, identify) the traffic that should be sent over a VPN tunnel. By classifying data and labeling it (such as labeling “top secret” data on a hard disk), we can then focus the appropriate amount of protection or security on that data: more security for top secret data than for unclassified data, for instance. The benefit is that when new data is put into the system, you can classify it as confidential or secret and so on and it will then receive the same level of protection that you set up for that type of data. Table 1-3 lists some common asset classification categories.

Unknown

Chapter 1: Networking Security Concepts 9

Table 1-3 Asset Classifications

Governmental classifications Unclassified

1

Sensitive but unclassified (SBU)

Confidential

Secret

Top secret

Private sector classifications

Public Sensitive Private Confidential

Classification criteria

Value Age Replacement cost Useful lifetime

Classification roles

Owner (the group ultimately responsible for the data, usually senior management of a company)
Custodian (the group responsible for implementing the policy as dictated by the owner)
User (those who access the data and abide by the rules of acceptable use for the data)

Table 1-4 describes the four classification levels used within the Traffic Light Protocol (TLP). The TLP is a set of designations developed by the US-CERT division to ensure that sensitive information is shared with the correct audience. It employs four colors to indicate different degrees of sensitivity and the corresponding sharing considerations to be applied by the recipients. The CERT division, part of the Software Engineering Institute and based at Carnegie Mellon University (Pittsburgh, Pennsylvania), is a worldwide respected authority in the field of network security and cyber security.

Table 1-4 TLP Classification Levels Color When Should It Be Used?

How May It Be Shared?

RED

Sources may use TLP: RED when information cannot be effectively acted upon by additional parties, and could lead to impacts on a party’s privacy, reputation, or operations if misused.

Recipients may not share TLP: RED information with any parties outside of the specific exchange, meeting, or conversation in which it is originally disclosed.

AMBER

Sources may use TLP: AMBER when information requires support to be effectively acted upon, but carries risks to privacy, reputation, or operations if shared outside of the organizations involved.

Recipients may only share TLP: AMBER information with members of their own organization who need to know, and only as widely as necessary to act on that information.

Unknown

10 CCNA Security 210-260 Official Cert Guide

GREEN WHITE

Sources may use TLP: GREEN when information is useful for the awareness of all participating organizations as well as with peers within the broader community or sector.
Sources may use TLP: WHITE when information carries minimal or no foreseeable risk of misuse, in accordance with applicable rules and procedures for public release.

Recipients may share TLP: GREEN information with peers and partner organizations within their sector or community, but not via publicly accessible channels.
TLP: WHITE information may be distributed without restriction, subject to copyright controls.

Source: https://www.us-cert.gov/tlp

Classifying Vulnerabilities
Understanding the weaknesses and vulnerabilities in a system or network is a huge step toward correcting the vulnerability or putting in appropriate countermeasures to mitigate threats against those vulnerabilities. Potential network vulnerabilities abound, with many resulting from one or more of the following:
■ Policy flaws ■ Design errors ■ Protocol weaknesses ■ Misconfiguration ■ Software vulnerabilities ■ Human factors ■ Malicious software ■ Hardware vulnerabilities ■ Physical access to network resources
Cisco and others have created databases that categorize threats in the public domain. The Common Vulnerabilities and Exposures (CVE) is a dictionary of publicly known security vulnerabilities and exposures. A quick search using your favorite search engine will lead you to the website. There is also a National Vulnerability Database (NVD), which is a repository of standards-based vulnerability information; you can do a quick search for it, too. (URLs change over time, so it is better to advise you to just do a quick search and click any links that interest you.)
Classifying Countermeasures
After a company has identified its assets and considered the risks involved to that asset from a threat against a vulnerability, the company can then decide to implement countermeasures

Unknown

Chapter 1: Networking Security Concepts 11

to reduce the risk of a successful attack. Common control methods used to implement coun-

termeasures include the following:

1

■ Administrative: These consist of written policies, procedures, guidelines, and standards.

An example would be a written acceptable use policy (AUP), agreed to by each user on

the network. Another example is a change control process that needs to be followed when

making changes to the network. Administrative controls could involve items such as back-

ground checks for users, as well.

■ Physical: Physical controls are exactly what they sound like, physical security for the network servers, equipment, and infrastructure. An example is providing a locked door between users and the wiring closet on any floor (where the switches and other gear exist). Another example of a physical control is a redundant system (for instance, an uninterruptible power supply).

■ Logical: Logical controls include passwords, firewalls, intrusion prevention systems, access lists, VPN tunnels, and so on. Logical controls are often referred to as technical controls.

Not all controls are created equal, and not all controls have the same purpose. Working together, however, the controls should enable you to prevent, detect, correct, and recover, all while acting as a deterrent to a threat.

What Do We Do with the Risk?
You can deal with risk in several ways, one of which is eliminate, or at least minimize, it. For example, by not placing a web server on the Internet, you eliminate any risk of that nonexistent web server being attacked. (This does not work very well for companies that do want the web server.)
An option for avoiding the web server altogether is to transfer the risk to someone else. For example, instead of hosting your own server on your own network, you could outsource that functionality to a service provider. The service provider could take full responsibility (the risk) for attacks that might be launched against its server and provide a service level agreement and guarantees to the customer. Keep in mind, however, the possibility of risk must be assumed if the outsourcing entity (for example, the service provider) does not adequately eliminate risk effectively.
So, the service provider now has the risk. How does it handle it? It does exactly what you’re learning in this book: It reduces risk by implementing appropriate countermeasures. By applying the correct patches and using the correct firewalls and Internet service providers (ISP) and other safeguards, they reduce their own risk. If risk is purely financial, insurance can be purchased that helps manage the risk. Attacks against networks today are primarily motivated by the desire for financial gain. As mentioned in the previous paragraph, the risk assumed by the service provider is not completely eliminated, which results in residual risk that your organization must understood and accept.
Another option is for a company to put up its own web server and just assume the risk. Unfortunately, if it takes no security precautions or countermeasures against potential threats, the risk could be high enough to damage the company and put it out of business. Most people would agree that this is not acceptable risk.

Unknown

12 CCNA Security 210-260 Official Cert Guide
Recognizing Current Network Threats
Threats today are constantly changing, with new ones emerging. Moving targets are often difficult to zero in on, but understanding the general nature of threats can prepare you to deal with new threats. This section covers the various network threat categories and identifies some strategies to stay ahead of those threats.
Potential Attackers
We could devote an entire book to attacks that have been launched in the past 15 minutes somewhere in the world against a network resource, a section of critical infrastructure, or a desired set of proprietary data. Instead of trying to list the thousands of attacks that could threaten vulnerable networks, let’s begin by looking at the types of adversaries that may be behind attacks: ■ Terrorists ■ Criminals ■ Government agencies ■ Nation states ■ Hackers ■ Disgruntled employees ■ Competitors ■ Anyone with access to a computing device (sad, but true)
Different terms are used to refer to these individuals, including hacker/cracker (criminal hacker), script-kiddie, hactivist, and the list goes on. As a security practitioner, you want to “understand your enemy.” This is not to say that everyone should learn to be a hacker or write malware, because that is really not going to help. Instead, the point is that it is good to understand the motivations and interests of the people involved in breaking all those things you seek to protect. You also need to have a good understanding of your network and data environment to know what is vulnerable and what can be targeted by the malicious actors. Some attackers seek financial gain (as mentioned previously). Others might want the notoriety that comes from attacking a well-known company or brand. Sometimes attackers throw their net wide and hurt companies both intended and unintended. Back in the “old days,” attacks were much simpler. We had basic intrusions, war dialing, and things like that. Viruses were fairly new. But it was all about notoriety. The Internet was in its infancy, and people sought to make names for themselves. In the late 1990s and early 2000s, we saw an increase in the number of viruses and malware, and it was about fame. More recently, many more attacks and threats revolve around actual theft of information and damage with financial repercussions. Perhaps that is a sign of the economy, or maybe it is just an evolution of who is computer literate or incentivized to be involved. Attackers may also be motivated by government or industrial espionage.
Unknown

Chapter 1: Networking Security Concepts 13

Attack Methods

Most attackers do not want to be discovered and so they use a variety of techniques to

1

remain in the shadows when attempting to compromise a network, as described in Table 1-5.

Table 1-5 Attack Methods

Action

Description

Reconnaissance This is the discovery process used to find information about the network. It could include scans of the network to find out which IP addresses respond, and further scans to see which ports on the devices at these IP addresses are open. This is usually the first step taken, to discover what is on the network and to determine potential vulnerabilities.

Social engineering

This is a tough one because it leverages our weakest (very likely) vulnerability in a secure system (data, applications, devices, networks): the user. If the attacker can get the user to reveal information, it is much easier for the attacker than using some other method of reconnaissance. This could be done through e-mail or misdirection of web pages, which results in the user clicking something that leads to the attacker gaining information. Social engineering can also be done in person or over the phone.

Phishing presents a link that looks like a valid trusted resource to a user. When the user clicks it, the user is prompted to disclose confidential information such as usernames/passwords.

Pharming is used to direct a customer’s URL from a valid resource to a malicious one that could be made to appear as the valid site to the user. From there, an attempt is made to extract confidential information from the user.

Privilege escalation

This is the process of taking some level of access (whether authorized or not) and achieving an even greater level of access. An example is an attacker who gains user mode access to a router and then uses a brute-force attack against the router, determining what the enable secret is for privilege level 15 access.

Back doors

When attackers gain access to a system, they usually want future access, as well, and they want it to be easy. A backdoor application can be installed to either allow future access or to collect information to use in further attacks.

Many back doors are installed by users clicking something without realizing the link they click or the file they open is a threat. Back doors can also be implemented as a result of a virus or a worm (often referred to as malware).

Code execution When attackers can gain access to a device, they might be able to take several actions. The type of action depends on the level of access the attacker has, or can achieve, and is based on permissions granted to the account compromised by the attacker. One of the most devastating actions available to an attacker is the ability to execute code within a device. Code execution could result in an adverse impact to the confidentiality (attacker can view information on the device), integrity (attacker can modify the configuration of the device), and availability (attacker can create a denial of service through the modification of code) of a device.

Unknown

14 CCNA Security 210-260 Official Cert Guide
Attack Vectors
Be aware that attacks are not launched only from individuals outside your company. They are also launched from people and devices inside your company who have current, legitimate user accounts. This vector is of particular concern these days with the proliferation of organizations allowing employees to bring your own device (BYOD) and allowing it seamless access to data, applications, and devices on the corporate networks. For more information on BYOD, see Chapter 4, “Bring Your Own Device (BYOD).” Perhaps the user is curious, or maybe a back door is installed on the computer on which the user is logged in. In either case, it is important to implement a security policy that takes nothing for granted and to be prepared to mitigate risk at several levels.
You can implement a security policy that takes nothing for granted by requiring authentication from users before their computer is allowed on the network (for which you could use 802.1X and Cisco Access Control Server [ACS]). This means that the workstation the user is on must go through a profiling before being allowed on the network. You could use Network Admission Control (NAC) or an Identity Service Engine (ISE) to enforce such a policy. In addition, you could use security measures at the switch port, such as port security and others. We cover many of these topics, in great detail, in later chapters.
Man-in-the-Middle Attacks
A man-in-the-middle attack results when attackers place themselves in line between two devices that are communicating, with the intent to perform reconnaissance or to manipulate the data as it moves between them. This can happen at Layer 2 or Layer 3. The main purpose is eavesdropping, so the attacker can see all the traffic.
If this happens at Layer 2, the attacker spoofs Layer 2 MAC addresses to make the devices on a LAN believe that the Layer 2 address of the attacker is the Layer 2 address of its default gateway. This is called ARP poisoning. Frames that are supposed to go to the default gateway are forwarded by the switch to the Layer 2 address of the attacker on the same network. As a courtesy, the attacker can forward the frames to the correct destination so that the client will have the connectivity needed and the attacker now sees all the data between the two devices. To mitigate this risk, you could use techniques such as dynamic Address Resolution Protocol (ARP) inspection (DAI) on switches to prevent spoofing of the Layer 2 addresses.
The attacker could also implement the attack by placing a switch into the network and manipulating the Spanning Tree Protocol (STP) to become the root switch (and thus gain the ability to see any traffic that needs to be sent through the root switch). You can mitigate this through techniques such as root guard and other spanning-tree controls discussed later in this book.
A man-in-the-middle attack can occur at Layer 3 by a rogue router being placed on the network and then tricking the other routers into believing that the new router has a better path. This could cause network traffic to flow through the rogue router and again allow the attacker to steal network data. You can mitigate attacks such as these in various ways, including routing authentication protocols and filtering information from being advertised or learned on specific interfaces.
To safeguard data in motion, one of the best things you can do is to use encryption for the confidentiality of the data in transit. If you use plaintext protocols for management, such
Unknown

Chapter 1: Networking Security Concepts 15

as Telnet or HTTP, an attacker who has implemented a man-in-the-middle attack can see the

contents of your cleartext data packets, and as a result will see everything that goes across the attacker’s device, including usernames and passwords that are used. Using management

1

protocols that have encryption built in, such as Secure Shell (SSH) and Hypertext Transfer

Protocol Secure (HTTPS), is considered a best practice, and using VPN protection for

cleartext sensitive data is also considered a best practice.

Other Miscellaneous Attack Methods
No standards groups for attackers exist, so not all the attacks fit neatly or clearly in one category. In fact, some attacks fit into two or more categories at the same time. Table 1-6 describes a few additional methods attackers might use.

Table 1-6 Additional Attack Methods Method Description

Covert channel

This method uses programs or communications in unintended ways. For example, if the security policy says that web traffic is allowed but peer-topeer messaging is not, users can attempt to tunnel their peer-to-peer traffic inside of HTTP traffic. An attacker may use a similar technique to hide traffic by tunneling it inside of some other allowed protocol to avoid detection. An example of this is a backdoor application collecting keystroke information from the workstation and then slowly sending it out disguised as Internet Control Message Protocol (ICMP). This is a covert channel.

A covert channel is the legitimate use of a protocol, such as a user with a web browser using HTTP to access a web server, for illegitimate purposes, including cloaking network traffic from inspection.

Trust

If the firewall has three interfaces, and the outside interface allows all traffic to

exploitation the demilitarized zone (DMZ) but not to the inside network, and the DMZ

allows access to the inside network from the DMZ, an attacker could leverage

that by gaining access to the DMZ and using that location to launch his attacks

from there to the inside network. Other trust models, if incorrectly configured,

may allow unintentional access to an attacker including active directory and

NFS (Network File System in UNIX).

Brute-force (passwordguessing) attacks

Brute-force (password-guessing) types of attacks are performed when an attacker’s system attempts thousands of possible passwords looking for the right match. This is best protected against by specifying limits on how many unsuccessful authentication attempts can occur within a specified time frame. Password-guessing attacks can also be done through malware, man-in-themiddle attacks using packet sniffers, or by using key loggers.

Botnet

A botnet is a collection of infected computers that are ready to take instructions from the attacker. For example, if the attacker has the malicious backdoor software installed on 10,000 computers, from his central location, he could instruct those computers to all send TCP SYN requests or ICMP echo requests repeatedly to the same destination. To add insult to injury, he could also spoof the source IP address of the request so that reply traffic is sent to yet another victim. The attacker generally uses a covert channel to manage the individual devices that make up the botnet.

Unknown

16 CCNA Security 210-260 Official Cert Guide

Method
DoS and DDoS

Description
Denial-of-service (DoS) attack and distributed denial-of-service (DDoS) attack. An example is using a botnet to attack a target system. If an attack is launched from a single device with the intent to cause damage to an asset, the attack could be considered a DoS attempt, as opposed to a DDoS. Both types of attacks want the same result, and whether it is called a DoS or DDoS attack just depends on how many source machines are used in the attack. A more advanced and increasingly popular type of DDoS attack is called a reflected DDoS (RDDoS) attack. An RDDoS takes place when the source of the initial (query) packets is actually spoofed by the attacker. The response packets are then “reflected” back from the unknowing participant to the victim of the attack; that is, the original (spoofed) source of the initial (query) packets.

Applying Fundamental Security Principles to Network Design
This section examines the holistic approach to improve the security posture of your network before, during, and after your network implementation.

Guidelines
You want some basic principles and guidelines in place in the early stages of designing and implementing a network. Table 1-7 describes such key guidelines.

Table 1-7 Guidelines for Secure Network Architecture Guideline Explanation

Rule of least privilege

This rule states that minimal access is only provided to the required network resources, and not any more than that. An example of this is an access list applied to an interface for filtering that says “deny all.” Before this, specific entries could be added allowing only the bare minimum of required protocols, and only then between the correct source and destination addresses.

Defense in This concept suggests that you have security implemented on nearly every point

depth

of your network. An example is filtering at a perimeter router, filtering again at a

firewall, using IPSs to analyze traffic before it reaches your servers, and using host-

based security precautions at the servers, as well. Additional methods that can be

used to implement a defense-in-depth approach include using authentication and

authorization mechanisms, web and e-mail security, content security, application

inspection monitoring, traffic monitoring, and malware protection.

The concept behind defense in depth is that if a single security technology fails, additional levels, or mechanisms, of security are still in place to protect the data, applications, and devices on the network.

Separation When you place specific individuals into specific roles, there can be checks and of duties balances in place regarding the implementation of the security policy. Rotating
individuals into different roles periodically will also assist in verifying that vulnerabilities are being addressed, because a person who moves into a new role will be required to review the policies in place.

Unknown

Chapter 1: Networking Security Concepts 17

Guideline Explanation

Auditing This refers to accounting and keeping records about what is occurring on the

1

network. Most of this can be automated through the features of authentication,

authorization, and accounting (AAA) (covered later in this book). When events

happen on the network, the records of those events can be sent to an accounting

server. When the separation-of-duties approach is used, those who are making

changes on the network should not have direct access to modify or delete the

accounting records that are kept on the accounting server.

Network Topologies
There exist a number of network topologies that depend on the size and type of each organization. Some organizations will have a presence of each of the following topologies while others may only utilize a subset of this list. Refer to the list that follows and Figure 1-1 through Figure 1-4 for a description and depiction of each of the different topologies that can make up an entire organization’s network.
■ Campus-Area Network (CAN): A campus-area network, as illustrated in Figure 1-1, is the network topology used to provide connectivity, data, applications, and services to users of an organization that are physically located at the corporate office (headquarters). The CAN includes a module for each building in the campus, for the data center, for WAN Aggregation, and for the Internet Edge. Security with the Campus Area Network.
BYOD Devices

ASA

MDM

RSA SecurID Active Certificate
Directory Authority

(AD)

(CA)

WLAN AP

WLAN Controller
Switching

Core

AAccessss SSwitchh Campus

Cisco ISE Data Center

Figure 1-1 Campus-Area Network Topology

Unknown

18 CCNA Security 210-260 Official Cert Guide
■ Cloud, Wide-Area Network (WAN): The cloud and WAN provide a logical and physical location for data and applications that an organization prefers to have moved off-site, as illustrated in Figure 1-2. This alleviates an organization from having to expend resources to operate, maintain, and manage the services that have been previously located within the organization’s purview.
Switching Core

WLAN AP
ISR

Branch Office

WAN

Wireless Router

QFFPP
Aggregation Services
Router (ASR)

Home Office

Data Center

Figure 1-2 Cloud/WAN Topology

■ Data Center: The Data Center network contains the Unified Computing System (UCS) servers, voice gateways, and CUCM servers supporting the VoIP environment, all of which is provided network connectivity by a series of Nexus switches, as illustrated in Figure 1-3. The entire Data Center network is protected by a set of firewalls at the edge that filters all traffic ingressing and egressing the Data Center.
■ Small office/Home office (SOHO): The remote SOHO site will provide connectivity to the SOHO users through the use of WAN routers that find their way back to the WAN Aggregation module in the CAN via MPLS WANs, as illustrated in Figure 1-4. Within the SOHO, users are provided network connectivity through the presence of access switches.

Unknown

Wired, Wireless, Mobile Access

Access Infrastructure

4G LTE Mobile Network
Www
CWS

Untrusted Network
Internet

Public WiFi

Chapter 1: Networking Security Concepts 19

Off-Premise

Security and Policy

Gateways

Infrastructure

1

ASA

MDM

RSA

SecurID Active Certificate

Directory Authority

(AD)

(CA)

Switching Core

Cisco ISE

WAN

QFFPP
Aggregation Services
Router (ASR)

Data Center

Figure 1-3 Data Center Topology

Switching Core

WLAN AP
ISR

Branch Office

WAN

Wireless Router

QFFPP
Aggregation Services
Router (ASR)

Home Office

Data Center

Figure 1-4 Branch Office/Home Office Topology

Unknown

20 CCNA Security 210-260 Official Cert Guide

Network Security for a Virtual Environment
Today’s data center environments must be designed to significantly reduce administrative overhead and improve flexibility and operational efficiency. Critical security functions must be able to dynamically scale to protect assets as business demands change. Cisco has created technologies and products such as the Application Centric Infrastructure (ACI) ecosystem and the Cisco ASAv (virtual ASA) to provide security solutions for today’s data center demands. For example, ACI provides a centralized application-level policy engine for physical, virtual, and cloud infrastructures. The Cisco ASAv provides detailed visibility and control of application and services within the virtual environment.
Figure 1-5 illustrates a high-level data center environment with multiple network connections, and it defines the concept of east-west versus north-south traffic.

Public Cloud
Mobile

Internet

Enterprise Network

Off-site DC

North - South Traffic

API
Orchestration/ Monitoring

DATA CENTER FABRIC

Storage

Server/Compute

Services

East - West Traffic
Figure 1-5 High-level Data Center Environment and Traffic Definitions
Figure 1-6 shows a virtualized data center where multiple software applications (such as VMWare, KVM, Xen) are used to divide one physical server into multiple isolated virtual environments. In this example physical firewalls are deployed to provide protection and segmentation to the data center from the rest of the corporate network.

Unknown

Physical DC Service Appliances (Firewalls, Load Balances, etc.)

Chapter 1: Networking Security Concepts 21

Rest of

1

Corporate

Network

CORE

Virtual DC Services in Software

VM VM VM VM VM VM

Virtualized Servers with Nexus 1000v and vPath
Figure 1-6 Virtualized Data Center Topology
The challenge of using physical firewalls and other security appliances in a virtualized environment is that sometimes the traffic does not leave the physical server (often referred to as bare metal). Subsequently, a virtual security solution is needed. Figure 1-7 demonstrates how a security administrator can provide detailed visibility and control of application and services within the virtual environment by deploying the Cisco ASAv.

Unknown

22 CCNA Security 210-260 Official Cert Guide

VSG VM VM VM

VSG Department 1 VM VM

Department 2 VSG VM VM

Nexus 1000V

ASAv CSR 1000V
Tenant A UCS

Cloud

Nexus 1000V
Tenant B
Top of Rack (ToR) Switch

ASAv
CSR 1000V

Customer A ISR

Internet

ASR 1000

MPLS ISR

Customer B

Branch Office

HQ/Data Center

Figure 1-7 Virtual Security Solution

How It All Fits Together
This book explains how to implement security products from Cisco to mitigate or reduce the amount of risk that our companies and customers face. If there were a single magic button that we could press that both allowed the functionality we need and provided adequate security at the same time, that button would be a hot seller. Unfortunately, no magic button exists. However, what we do have are solid principles and guidelines that we can use to implement security on our networks today.
As you work through the rest of this book, keep in mind the concepts of confidentiality, data integrity, and availability (remember, CIA) for every single concept discussed. For example, the section on VPNs focuses on the different types of VPNs and how to implement them. You even learn how configure one of them. It is easy to get wrapped up in the details of how to do this or how to do that, but what you want to look at is which aspects of CIA a specific technology implements. In the case of VPNs, they protect the data with encryption, and so the concept of confidentiality applies. VPNs can also hash, which implements data integrity. If you are reading this book in hard-copy format, you might want to take three highlighters, one for each of the letters in CIA, and mark the technologies that address these exact issues as you encounter them in your reading of this book.
By keeping your mind open to the reasons for each and every technology we discuss, you can more easily build an overall fortress of security that everybody wants for missioncritical networks.

Unknown

Chapter 1: Networking Security Concepts 23

Exam Preparation Tasks
1
Review All the Key Topics
Review the most important topics from this chapter, denoted with a Key Topic icon. Table 1-8 lists these key topics.

Table 1-8 Key Topics Key Topic Element Description

Section

Confidentiality, Integrity, and Availability

Table 1-2

Security Terms

Table 1-3

Asset Classifications

List

Classifying countermeasures

Section

Man-in-the-Middle Attacks

Table 1-6

Additional Attack Methods

Table 1-7

Guidelines for Secure Network Architecture

Section

Network Topologies

Page Number 6 8 9 11 14 15 16 17

Complete the Tables and Lists from Memory
Print a copy of Appendix C, “Memory Tables” (found on the CD), or at least the section for this chapter, and complete the tables and lists from memory. Appendix D, “Memory Tables Answer Key,” also on the CD, includes completed tables and lists so that you can check your work.
Define Key Terms
Define the following key terms from this chapter, and check your answers in the glossary:
asset, BYOD, brute-force (password-guessing) attacks, CERT, RDDoS, risk, threat, Traffic Light Protocol (TLP), vulnerability

Unknown

This chapter covers the current state of network security in terms of the types of threats organizations face on behalf of malicious actors. It covers the following topics:
Distributed denial-of-service (DDoS) attacks Social engineering Malware identification tools Data loss and exfiltration
Unknown

CHAPTER 2

Common Security Threats

“Do I Know This Already?” Quiz
The “Do I Know This Already?” quiz helps you determine your level of knowledge of this chapter’s topics before you begin. Table 2-1 details the major topics discussed in this chapter and their corresponding quiz questions.

Table 2-1 “Do I Know This Already?” Section-to-Question Mapping Foundation Topics Section Network Security Threat Landscape Distributed Denial-of-Service Attacks Social Engineering Methods Malware Identification Tools Data Loss and Exfiltration Methods

Questions 1 2–3 4–6 7–9 10

1. Which of the following is not a motivation of malicious actors? a. Disruption b. Bug bounty awards c. Financial d. Geopolitical
2. Which of the following is not considered a type of DDoS attack? a. Directed b. Cached c. Reflected d. Amplified
3. Why is UDP the “protocol of choice” for reflected DDoS attacks? a. There are more application choices when using UDP. b. UDP requires a three-way handshake to establish a connection. c. UDP is much more easily spoofed. d. TCP cannot be used in DDoS attacks.

Unknown

26 CCNA Security 210-260 Official Cert Guide
4. Which of the following is leveraged in social engineering? a. Software vulnerabilities b. Human nature c. Protocol violations d. Application issues
5. Which of the following is not a form of social engineering? a. Phone scams b. Phishing c. Denial of service (DoS) d. Malvertising
6. Which of the following is not a valid defense against social engineering? a. Two-factor authentication b. Information classification c. Infrastructure hardening d. Physical security
7. Which tool provides the most granular information to help in the identification of malware? a. NetFlow b. Syslog c. Packet capture d. Server logs
8. NetFlow provides which of the following? a. Detailed data about each packet on the network b. Troubleshooting messages about the network devices c. Information on the types of traffic traversing the network d. Network names of routers, end hosts, servers
9. Which of the following is not used for identification of malware on the network? a. NetFlow b. IPS events c. Routing Information Base (RIB) d. Packet captures
10. Which type of data is not often attractive to malicious actors? a. Personally identifiable information (PII) b. Training schedules c. Credit and debit card data d. Intellectual property (IP)
Unknown

Chapter 2: Common Security Threats 27

Foundation Topics

Network Security Threat Landscape

Today’s threat landscape is both complex and ever-changing. This makes working in network

2

security a challenging yet never boring experience! This section provides a look at the moti-

vations behind network attacks, who is being targeted, and how organizations can protect

themselves.

With so many organizations and, more importantly, devices connected to the Internet, it is no surprise that there is no lack of sources of network threats and an abundance of malicious threat actors looking to take advantage of these threats. So, what are the motivations behind all of these threat actors?

■ Financial: There are several different means in which attackers can make financial gains through their malicious actions. They can compromise a point-of-sale (PoS) system at a retail organization and siphon off millions of credit/debit cards, which can subsequently be sold on the online black market. Threat actors can also penetrate financial organizations for the sole purpose of compromising user accounts and transferring money to accounts of their choosing.
■ Disruption: Unfortunately, many individuals and groups exist solely to cause disruption to the core business of many organizations and institutions. This disruption is created for several reasons:
■ To protest the actions, decisions, or behaviors of an enterprise
■ To serve as a distraction while the malicious actors plant something within the network to be leveraged at a future point in time
■ To gain media attention for the actions of the malicious group or individual
■ Geopolitical: Not surprisingly, there are groups affiliated with certain nation states that leverage the Internet to engage in cyber warfare. In addition, there are groups of malicious actors, with no direct connection to any individual nation, who use the Internet to launch attacks against countries who they believe do not have their best interests at heart or whose ideals conflict with those of the malicious actors.

Distributed Denial-of-Service Attacks
Denial-of service (DoS) and distributed DoS (DDoS) attacks have been around for quite some time now, but there has been heightened awareness of them over the past few years. The reason for this increased attention is in large part due to the attacks that took place against the financial services sector in the fall of 2012 and spring of 2013.
DDoS attacks can generally be divided into the following three categories:
■ Direct: Direct DDoS attacks occur when the source of the attack generates the packets, regardless of protocol, application, and so on, that are sent directly to the victim of the attack.

Unknown

28 CCNA Security 210-260 Official Cert Guide
■ Reflected: Reflected DDoS attacks occur when the sources of the attack are sent spoofed packets that appear to be from the victim, and then the sources become unwitting participants in the DDoS attacks by sending the response traffic back to the intended victim. UDP is often used as the transport mechanism because it is more easily spoofed due to the lack of a three-way handshake. For example, if the attacker (A) decides he wants to attack a victim (V), he will send packets (for example, Network Time Protocol [NTP] requests) to a source (S) who thinks these packets are legitimate. The source (S) then responds to the NTP requests by sending the responses to the victim (V), who was never expecting these NTP packets from source (S) (see Figure 2-1).
■ Amplification: Amplification attacks are a form of reflected attacks in which the response traffic (sent by the unwitting participants) is made up of packets that are much larger than those that were initially sent by the attacker (spoofing the victim). An example of this is when DNS queries are sent and the DNS responses are much larger in packet size than the initial query packets. The end result is that the victim gets flooded by large packets for which it never actually issued queries.

Source (S)

Src (S), Dst (V)

Src (V), Dst (S)

Victim (V)
Attacker (A)
Figure 2-1 Reflected DDoS Attack
Social Engineering Methods
Malicious actors employ social engineering by relying on the human element of networking to find and create holes in the fortress known as cyber security. Social engineering is evolving so rapidly that technology solutions, security policies, and operational procedures alone cannot protect critical resources. Even with these safeguards, hackers commonly manipulate employees into compromising corporate security. Victims might unknowingly reveal the sensitive information needed to bypass network security, or even unlock workplace doors for strangers without identification. Although attacks on human judgment are immune to even the best network defense systems, companies can mitigate the risk of social engineering with an active security culture that evolves as the threat landscape changes.
Unknown

Chapter 2: Common Security Threats 29

Social Engineering Tactics
Common forms of social engineering include the following:

■ Phishing: Phishing elicits secure information through an e-mail message that appears

to come from a legitimate source such as a service provider or financial institution. The

e-mail message may ask the user to reply with the sensitive data, or to access a website to

2

update information such as a bank account number.

■ Malvertising: This is the act of incorporating malicious ads on trusted websites, which results in users’ browsers being inadvertently redirected to sites hosting malware.

■ Phone scams: It is not uncommon for someone to call up an employee and attempt to convince employees to divulge information about themselves or others within the organization. An example is a miscreant posing as a recruiter asking for names, e-mail addresses, and so on for members of the organization and then using that information to start building a database to leverage for a future attack, reconnaissance mission, and so forth.

Defenses Against Social Engineering
A security-aware culture must include ongoing training that consistently informs employees about the latest security threats, as well as policies and procedures that reflect the overall vision and mission of corporate information security. This emphasis on security helps employees understand the potential risk of social-engineering threats, how they can prevent successful attacks, and why their role within the security culture is vital to corporate health. Security-aware employees are better prepared to recognize and avoid rapidly changing and increasingly sophisticated social-engineering attacks, and are more willing to take ownership of security responsibilities.
Official security policies and procedures take the guesswork out of operations and help employees make the right security decisions. Such policies include the following:
■ Password management: Guidelines such as the number and type of characters that each password must include how often a password must be changed, and even a simple declaration that employees should not disclose passwords to anyone (even if they believe they are speaking with someone at the corporate help desk) will help secure information assets.
■ Two-factor authentication: Authentication for high-risk network services such as modem pools and VPNs should use two-factor authentication rather than fixed passwords.
■ Antivirus/antiphishing defenses: Multiple layers of antivirus defenses, such as at mail gateways and end-user desktops, can minimize the threat of phishing and other socialengineering attacks.
■ Change management: A documented change-management process is more secure than an ad hoc process, which is more easily exploited by an attacker who claims to be in a crisis.
■ Information classification: A classification policy should clearly describe what information is considered sensitive and how to label and handle it.
■ Document handling and destruction: Sensitive documents and media must be securely disposed of and not simply thrown out with the regular office trash.

Unknown

30 CCNA Security 210-260 Official Cert Guide
■ Physical security: The organization should have effective physical security controls such as visitor logs, escort requirements, and background checks.
Malware Identification Tools
One of the thorns in the side of every security conscious person today is having the ability to identify malware either as it attempts to get on the network or subsequent to the malware already being present. Several factors make this identification particularly difficult:
■ The sheer amount of malware that exists and is created on a daily basis is almost incomprehensible. The creation of new malware often results in the rendering useless of signature-based detection tools.
■ Malware is often embedded in otherwise-trusted applications and sent over protocols that are traditionally allowed through firewalls and access lists.
■ Organizations have limited resources (both human and technology) to keep up with the massive amounts of traffic that traverse the network. The volume of network traffic, both good and bad, has become so large that it is almost too much for any one organization to keep up.
■ The increasing use of encryption has, not surprisingly, added another layer of complexity for organizations trying to gain visibility into malicious traffic residing on the network.
Methods Available for Malware Identification
While by no means an exhaustive list, the following tools and technologies provide network administrators with the ability to identify the existence of malware on the network:
■ Packet captures: Collecting, storing, and analyzing the raw packets that are traversing the network is certainly one way of inspecting traffic for the presence of malware. Although packet captures provide the most granular look into the traffic that is on the network, one primary hurdle in the use of packet capture for malware identification is the fact that you are looking for the proverbial “needle in a haystack” due to the volume of data generated by packet captures.
■ Snort: Snort is an open source intrusion detection and prevention technology developed by the founder of Sourcefire (now a part of Cisco). The speed, power, and performance of Snort have made it the most popular intrusion detection/prevention system (IDS/IPS) technology in the world. The Snort engine consists of threat identification, detection, and prevention components that combine to reassemble traffic, prevent evasions, detect threats, and output information about advanced threats while minimizing false positives and missing legitimate threats (false negatives).
■ NetFlow: Packet capture is often referred to as micro-analytical in terms of the granularity of data being analyzed, but NetFlow data is considered more of a macro-analytical approach. The use of NetFlow data collection consists of the creation of buckets or flows of data that are based on a set of predefined parameters such as source IP address, source port, destination IP address, destination port, IP protocol, ingress interface, and type of service (ToS). Each time one of these parameters differs, a new flow is created. Flows are stored locally on the device for a configured time interval, after which time the flows are exported to external collectors. Although NetFlow data will not provide the same details
Unknown

Chapter 2: Common Security Threats 31

sometimes needed for the identification of malware on the network, it can serve as an excellent tool in the toolbox to help trace back evidence of a compromise once some of the details of the malware become known to network security administrators.

■ IPS events: When using IPS devices on your network, it is possible to leverage the alarms

triggered on the IPS device as an emergency flare that network traffic should be further

analyzed for the presence of malware. Often, IPS devices have signatures for specific

2

strains of malware, which, when triggered, can be an indication that malicious traffic

exists on the network.

■ Advanced Malware Protection: Cisco Advanced Malware Protection (AMP) is designed for Cisco FirePOWER network security appliances. It provides visibility and control to protect against highly sophisticated, targeted, zero-day, and persistent advanced malware threats. AMP helps to identify inconspicuous attacks by continuously analyzing and monitoring files after they’ve entered the network, utilizing retrospective security alerts to help administrators take action during and after an attack, and provides multi-source indications of compromise to aid in the correlation of discrete events for better detection.

■ NGIPS: The Cisco FirePOWER next-generation intrusion prevention system (NGIPS) solution provides multiple layers of advanced threat protection at high inspection throughput rates. The NGIPS threat protection solution is centrally managed through the Cisco FireSIGHT Management Center and can be expanded to include additional features such as AMP, application visibility and control, and URL filtering.

Data Loss and Exfiltration Methods
Major network attacks are now conducted by sophisticated, well-funded teams that can evade corporate security measures and steal millions of records from all types of organizations all over the world. Traditional security measures are good at identifying suspect traffic that is coming inbound, but many organizations lack the visibility into traffic that is leaving their internal networks. This outbound traffic, if being controlled by malicious actors with a foothold inside the corporate network, often includes company trade secrets, customer data, or other proprietary information that should not be seen by anyone outside of the organization. Having this type of traffic leave the corporation, unbeknownst to those who are responsible for it, places the organization at significant risk for compromised intellectual property, loss of sensitive customer and financial data, and high costs from disrupted operations and remediation efforts.
Several types of data are particularly attractive to the miscreants of the cyber (under) world:
■ Intellectual property (IP): This consists of any type of data or documentation that is the property of an organization and has been created or produced by employees of the organization. IP often refers to the designs, drawings, and documents that support the development, sale, and support of an organization’s products.
■ Personally identifiable information (PII): This is the type of information that has, unfortunately, been talked about in the press all too often lately when we hear about data breaches. This information includes names, dates of birth, addresses, and Social Security numbers (SSN).

Unknown

32 CCNA Security 210-260 Official Cert Guide ■ Credit/debit cards: In addition to PII, which is often stolen/compromised during data breaches, credit and debit card information (the information contained on the magnetic stripe or within the embedded chip in chip and pin cards) is extremely desired by the malicious actors. It is paramount for every organization, no matter what size, vertical or not, or whether they are publicly or privately held, to make every effort to protect their data assets. This involves a combination of clearly communicated and effective security policies, employee education, and the technologies to help ensure that the security policies put in place can be enforced.
Summary
This chapter discussed a number of topics that comprise the current state of network security. The chapter summarized reasons why malicious actors exist and what motivates them to attack our networks. The chapter then covered some of the methods used by these actors, including DDoS attacks and the use of social engineering. Next, the chapter provided an overview of some tools and techniques that can help network administrators identify the existence of malware used by malicious actors on their network. The chapter concluded with a brief look at the types of data that these malicious actors are looking to exfiltrate from your networks.
Unknown

Chapter 2: Common Security Threats 33

Exam Preparation Tasks

Review All the Key Topics

Review the most important topics from this chapter, denoted with a Key Topic icon. Table

2

2-2 lists these key topics.

Table 2-2 Key Topics
Key Topic Description Element

List

Description of DDoS attacks

Figure 2-1 Reflected DDoS Attack

List

A listing of some common forms of social engineering

Section Defenses Against Social Engineering

List

A list of tools and technologies that provide network administrators

with the ability to identify the existence of malware on the network

List

A description of several types of data that are particularly attractive

to the miscreants of the cyber (under) world

Page Number 27 28 29 29 30
31

Complete the Tables and Lists from Memory
Print a copy of Appendix C, “Memory Tables,” (found on the CD) or at least the section for this chapter, and complete the tables and lists from memory. Appendix D, “Memory Tables Answer Key,” also on the CD, includes completed tables and lists so that you can check your work. This chapter does not have any applicable tables.
Define Key Terms
Define the following key terms from this chapter, and check your answers in the glossary:
direct DDoS attacks, reflected DDoS attacks, amplification DDoS attacks, phishing, malvertising, Snort, NGIPS, Advanced Malware Protection (AMP), personally identifiable information (PII)

Unknown

This chapter covers the following topics: Cisco Secure ACS, RADIUS, and TACACS Configuring routers to interoperate with an ACS server Configuring the ACS server to interoperate with a router Verifying and troubleshooting router-to-ACS server interactions
Unknown

CHAPTER 3

Implementing AAA in Cisco IOS
As you learned in the preceding chapter, using authentication, authorization, and accounting (AAA) to verify the identity of a user, and what that user is authorized to do, is a great way to secure the management plane on a router or switch. The challenge, however, is that most companies have many network devices. If a single administrator needs access to ten different routers, and you are using the local database only for the username and password of that administrator (remember, the local database means the running configuration on that specific router), you must create that same user account ten different times, once on each router. If he ever needs to change the password, it also requires going back to all those ten devices and manually changing it on each one. This solution does not scale well in environments with multiple administrators and many devices.
A solution to this is to have a centralized database where all the usernames and passwords are kept for authentication and what the individual users are allowed to do (the authorization portion of AAA). This is primarily what the Access Control Server (ACS) can provide. It is a two-part process. The first part is to configure on the ACS server information about the users and their passwords and what those users are allowed to do. The second part is to tell the router that it should refer any of its decisions about authentication or authorization to the ACS server.
One other note about the word users. Often when we refer to the management plane, and we refer to users, those users are very likely administrators who need access to the commandline interface (CLI) or the web management console via HTTP/HTTPS. Also be aware that end users will not need CLI access, but will need access to network services and to have their packets allowed through the router. You can use the ACS server to authenticate either type of user, and you can call on it for authorization for these users. In addition, you can use the ACS server as a destination for logging (called accounting), noting which users access the system and what they do while there.

“Do I Know This Already?” Quiz
The “Do I Know This Already?” quiz helps you determine your level of knowledge of this chapter’s topics before you begin. Table 3-1 details the major topics discussed in this chapter and their corresponding quiz questions.

Table 3-1 “Do I Know This Already?” Section-to-Question Mapping Foundation Topics Section Cisco Secure ACS, RADIUS, and TACACS Configuring Routers to Interoperate with an ACS Server Configuring the ACS Server to Interoperate with a Router Verifying and Troubleshooting Router-to-ACS Server Interactions

Questions 1–3 4–6 7–8 9–10

Unknown

36 CCNA Security 210-260 Official Cert Guide
1. Which of the following are most likely to be used for authentication of a network administrator accessing the CLI of a Cisco router? (Choose all that apply.) a. TACACS+ b. Diameter c. RADIUS d. ACS
2. Which of the following allows for granular control related to authorization of specific Cisco IOS commands that are being attempted by an authenticated and authorized Cisco router administrator? a. RADIUS b. Diameter c. TACACS+ d. ISE
3. Which devices or users would be clients of an ACS server? (Choose all that apply.) a. Routers b. Switches c. VPN users d. Administrators
4. On the router, what should be created and applied to a vty line to enforce a specific set of methods for identifying who a user is? a. RADIUS server b. TACACS+ server c. Authorization method list d. Authentication method list
5. What is the minimum size for an effective TACACS+ group of servers? a. 1 b. 2 c. 5 d. 6
6. With what can you configure AAA on the router? (Choose all that apply.) a. ACS b. CCP c. CLI d. TACACS+
Unknown

Chapter 3: Implementing AAA in Cisco IOS 37 7. Which statement is true for ACS 5.x and later?
a. User groups are nested in network device groups. b. Authorization policies can be associated with user groups that are accessing spe-
cific network device groups. c. There must be at least one user in a user group. d. User groups can be used instead of device groups for simplicity. 8. Where in the ACS do you go to create a new group of administrators?
3 a. Users and Identity Stores > Identity Groups b. Identity Stores > Identity Groups c. Identity Stores and Groups > Identity Groups d. Users and Groups > Identity Groups 9. From the router, which method tests the most about the ACS configuration, without forcing you to log in again at the router? a. ping b. traceroute c. test aaa d. telnet 10. Which of the following could likely cause an ACS authentication failure, even when the user is using the correct credentials? (Choose all that apply.) a. Incorrect secret on the ACS b. Incorrect IP address of the ACS configured on the router c. Incorrect routing d. Incorrect filtering between the ACS and the router
Unknown

38 CCNA Security 210-260 Official Cert Guide
Foundation Topics
Cisco Secure ACS, RADIUS, and TACACS
This section discusses how you can use a centralized authentication server such as ACS and the protocols it uses to communicate with its clients, which are routers and switches. This information is relevant to both certification and for the implementation of AAA using ACS.
Why Use Cisco ACS?
Most midsize and large companies using Cisco equipment are also going to use ACS servers so that they can centrally manage the users and control what those users are authorized to do. By configuring users locally on the ACS server, and then having the dozens or hundreds of routers and switches act as clients to the ACS server, you can use the Cisco ACS server as a central clearinghouse for the authentication of users. This way, you can create a user account one time on the ACS server, and configure the routers and switches to use the ACS server for any type of user, whether an administrator trying to access the router for configuration or an end user who just needs access through a router for some network application or service such as browsing the web. If all your network devices use the ACS server, you can avoid having to create that same user account on each of the individual routers’ and switches’ local database (in their running config).
Most companies using ACS servers have many users, and it is time-consuming to create all the user accounts manually in ACS. One convenient feature of an ACS server is that all the users do not have to be locally configured on the ACS server, either; instead, the ACS server can use an external database that already exists that contains the usernames and passwords. An example is Microsoft Active Directory, where all the users and their credentials are already in place. The chain of events goes something like this: A user connects to a router, and the router prompts the user for authentication. In this example, assume it is an administrator who wants CLI access to the router. The router being configured to use the ACS server prompts the user for his username and password. After getting the username and password, the router sends those credentials to the AAA server (in this case, the ACS server) and waits for a reply. At the ACS server, if it is configured to use an external database such as Microsoft Active Directory, the ACS server makes an inquiry out to Active Directory to validate whether the username and password that the user provided are accurate. If they are, Active Directory can indicate that to the ACS server, and the ACS server in turn can indicate that the credentials are correct back to the router, and then the router can provide the access to the user. If there were no Active Directory, the ACS server would consult its own local configuration to verify the username and password instead of handing it off to Active Directory. That’s it in a nutshell. ACS could use multiple external databases for these lookups, and the basic concept is that if the users are already defined in some database, ACS can leverage that database and not have to re-create all users.
On What Platform Does ACS Run?
ACS has a few different flavors. They include older versions that can be installed on top of an existing Windows server, a dedicated physical appliance can be purchased from Cisco
Unknown

Chapter 3: Implementing AAA in Cisco IOS 39

that is installed in a rack at the customer site and has ACS software preinstalled, and the most popular option moving forward is to install the ACS server logically in a VMware environment such as an ESXi server with ACS running as a virtual machine. Regardless of which implementation you choose, the core functionality of having a centralized database of users, along with authorization rules about what users are allowed to do, is the basic premise of ACS.

What Is ISE?

A product called Identity Services Engine (ISE) is an identity and access control policy

3

platform that can validate that a computer meets the requirements of a company’s policy

related to virus definition files, service pack levels, and so on before allowing the device

on the network. This solution leverages many AAA-like (authentication, authorization, and

accounting) features, but is not a 100 percent replacement for ACS. For the near future, cus-

tomers who want the features of ISE will likely use ACS for the authentication and authori-

zation components and use ISE (in addition) for the posturing and policy-compliance check-

ing for hosts.

Protocols Used Between the ACS and the Router
The next couple of sections discuss how to configure the router to forward authentication questions to the ACS server and examine how to tell the ACS server to work with the router. But right now, you need to understand the “language of love” used to communicate between the ACS server and the router (with a router acting as a client to the ACS server).
Two main protocols may be used between the ACS server and its client (such as a router that is using the ACS server to verify authentication requests): TACACS+ (pronounced TACKAXE, you do not need to say the +) and RADIUS (pronounced RAY-D-US).
TACACS+ stands for Terminal Access Control Access Control Server, and that is why we just use the acronym. There have been earlier versions of TACACS+, which had slightly varying names, such as XTACACS and TACACS (without the plus). Because the only version now used is TACACS+, any time we refer to the term pronounced TACK-AXE, it is accepted and understood that we are referring to the currently implemented TACACS+ (even without saying the + at the end). TACACS+ is Cisco proprietary, which means its primary usage will likely be seen as a protocol used between a Cisco device and a Cisco ACS server. If you configure the router and the ACS server to use TACACS+, all the AAA packets that are sent between the router and the ACS server use the TACACS+ protocol, which encrypts each packet before it is sent on the network.
The other possible protocol that could be used between the router and the ACS server for the purpose of AAA services is RADIUS, which stands for Remote Authentication DialIn User Service. RADIUS is an open standard, which means that not only ACS supports it but also that other vendors’ implementations of AAA and their servers (such as Microsoft) can support communications with a client (such as a router) using this protocol. RADIUS encrypts only passwords, but not the whole packet being sent between the ACS server and the network device.

Unknown

40 CCNA Security 210-260 Official Cert Guide

Protocol Choices Between the ACS Server and the Client (the Router)
Traditionally, and in common practice, if you are authenticating and authorizing administrators for command-line access, it is likely that you will configure TACACS+ on both the ACS server and the router for their communication with each other. A large reason for this is because TACACS+ has clearly defined and separate techniques and configurations for each aspect of AAA. For example, if you want to tell the router to check authorization for each individual command before allowing an administrator to put that command in, and only give the administrator a subset or portion of commands, TACACS+ and its authorization component allows extremely granular control in communicating which commands would be allowed. RADIUS, however, does not have the same level of granular control as TACACS+ command-by-command authorization.
If you are authenticating and authorizing end users who just want their packets to go through a network device (when authentication and authorization are required), it is likely that you are using RADIUS as the communications method between the ACS server on the router. You may configure the router and ACS server to use both TACACS+ and RADIUS simultaneously between the ACS server and its client, the router.
Table 3-2 compares these two protocols.

Table 3-2 TACACS+ Versus RADIUS TACACS+

Functionality

Separates AAA functions into distinct elements. Authentication is separate from authorization, and both of those are separate from accounting.

Standard

Cisco proprietary, but very well known.

L4 protocol Confidentiality

TCP.
All packets are encrypted between the ACS server and the router (which is the client).

Granular command by command authorization

This is supported, and the rules are defined on the ACS server about which commands are allowed or disallowed.

Accounting

Provides accounting support.

RADIUS
Combines many of the functions of authentication and authorization together. Has detailed accounting capability when accounting is configured for use.
Open standard, and supported by nearly all vendors’ AAA implementation.
UDP.
Only the password is encrypted with regard to packets sent back and forth between the ACS server and the router.
No explicit command authorization checking rules can be implemented.
Provide accounting support, and generally acknowledged as providing more detailed or extensive accounting capability than TACACS+.

Unknown

Chapter 3: Implementing AAA in Cisco IOS 41

Configuring Routers to Interoperate with an ACS Server

This section covers the detailed commands required for a router to use a central authentication server such as ACS. From the earlier discussion, you know that both the ACS server, which will have the usernames and passwords available to it, and the router that will be communicating with the ACS server need to be configured for them to work together. This section examines the router component.

The good news is that most of what you learned in the preceding chapter about AAA on the

3

router still applies here. The biggest difference on the router is that in method lists, the router

can be told to use the local database (which you now know is the running config on the local

router) for verification of a username and password, or the router can be told to check with

an ACS server to ask that server whether or not the username and password are valid.

On the router, you could use the CLI or Cisco Configuration Professional (CCP) for the configuration. Because you should know both (and you might need both depending on the certification environment), both methods are covered here. You first learn about the CLI version, followed by CCP. In this section, the configuration is based on a router that has not yet been set up for any type of AAA. As done previously, comments about each of the commands and what their purpose is are included. A few of these may be a review, too, because of the preceding chapter, but a little repetition will help reinforce these concepts.

Another key factor in any implementation is to have a plan, before beginning to configure the router. So, here is the plan. We want the router to implement the following:

■ For administrators/users who are accessing the router via the vty lines, regardless of whether they are using Telnet or Secure Shell (SSH), the router should check with a TACACS+ server (the ACS server using TACACS+ to communicate with this router) for the authentication check (username/password).
■ Authenticated users need to be authorized to have access to a command-line interface (CLI) (EXEC) session, including the privilege level they should be placed into. The authorization check should be done by the router referring to the ACS server, using TACACS+.

Example 3-1 shows the configuration to implement these objectives.

Example 3-1 Using the CLI to Configure IOS for Use with ACS
! This command enables the configuration of the rest of the AAA ! If it is in the configuration, it doesn't need to be put in again. ! On most IOS systems, the default has aaa new-model disabled. R1(config)# aaa new-model

! This authentication method list, when applied to a line such as the VTY ! lines will tell the router to prompt the user who is accessing that line ! for a username and password in order for that user to login. ! When the user supplies the username and password at the login prompt ! the router will send the credentials to a configured TACACS+ server ! and then the server can reply with a pass or fail message.

Unknown

42 CCNA Security 210-260 Official Cert Guide
! This command indicates "group tacacs+" as the first method ! as there could be more than one server configured. If no ACS server ! responds ! after a short timeout the router will then try the second method in the ! method list which is "local" which means the router will then check the ! running ! config to see if there is a username and matching password R1(config)# aaa authentication login AUTHEN_via_TACACS group tacacs+ local
! This next authorization method list, when applied to a line, will cause ! the router ! to check with the AAA server to verify that the user is authorized ! to gain access to the CLI. The CLI represents an Exec Shell. ! Not only can the ACS indicate to the router whether or not the user is ! authorized ! but it can also indicate what privilege level the user is placed into. ! Both the username and password will need to be created on the ACS server ! for the previous authentication method, and the authorization ! for a CLI will also need to be configured on that same ACS server. ! This authorization list will use one or more configured ACS servers ! via TACACS+, and if there are no servers that respond, then the router ! will check locally regarding whether the command is authorized for this ! user based on privilege level of the user, and privilege level of the ! command being attempted. R1(config)# aaa authorization exec Author-Exec_via_TACACS group tacacs+ local
! It is important to note that before we apply either of these method lists ! to the VTY lines, we should create at least one local user as a backup ! in the event the ACS server is unreachable, or not yet configured. ! In the example below it will create a user on the local database of the ! router ! including a username, password as well as a privilege level for that user. It ! is highly recommended that you use strong passwords when configuring any user or ! device credentials. R1(config)# username admin privilege 15 secret cisco
! Next we need to create a least one ACS server that the router should try ! to use ! via TACACS+. This is the equivalent of creating a server group of one. ! The password is used as part of the encryption of the packets, and ! whatever ! password we configure here, we also need to configure on the ACS server. R1(config)# tacacs-server host 192.168.1.252 key cisco123
! Verifying that the IP addresses reachable is a test that can be done ! even before the full ACS configuration is complete on the AAA server
Unknown

R1(config)# do ping 192.168.1.252

Chapter 3: Implementing AAA in Cisco IOS 43

Type escape sequence to abort. Sending 5, 100-byte ICMP Echos to 192.168.1.252, timeout is 2 seconds: !!!!! Success rate is 100 percent (5/5), round-trip min/avg/max = 8/13/28 ms

! Next, for the authentication method list and authorization method list

! to be used we would need to apply them. In the example below

3

! we are applying both method lists to the first five VTY lines.

R1(config)# line vty 0 4

R1(config-line)# authorization exec Author-Exec_via_TACACS

R1(config-line)# login authentication AUTHEN_via_TACACS

! users connecting to these vty lines will now be subject to both authentication

! and authorization, based on the lists that are applied to these lines

With the authentication and authorization method lists created and applied, you could attempt to log in through one of the five vty lines, and here is what you would expect: You should be prompted for username and password, the router should not be able to successfully contact the ACS server (because you have not configured the ACS part of it yet on that server), and then after a short timeout, the router would use the second method in each of its lists, which indicates to use the local database for the authentication and the authorization. Because you do have a local user with a password and a privilege level assigned to that user, it should work. By enabling a debug, and attempting to log in, you can see exactly what is happening, as shown in Example 3-2. If you are not connected to the device via the serial console, use the terminal monitor command to be able to see the debug messages in your screen.
Example 3-2 Verifying AAA
R1# debug tacacs
TACACS access control debugging is on

! Telnet to an IP address on the local router. R1# telnet 10.0.0.1 Trying 10.0.0.1 ... Open
TPLUS: Queuing AAA Authentication request 102 for processing TPLUS: processing authentication start request id 102 TPLUS: Authentication start packet created for 102() TPLUS: Using server 192.168.1.252 TPLUS(00000066)/0/NB_WAIT/6812DC64: Started 5 sec timeout
User Access Verification

Unknown

44 CCNA Security 210-260 Official Cert Guide
! Timing out on TACACS+ regarding authentication because no server is responding TPLUS(00000066)/0/NB_WAIT/6812DC64: timed out TPLUS(00000066)/0/NB_WAIT/6812DC64: timed out, clean up TPLUS(00000066)/0/6812DC64: Processing the reply packet
! Now moving to the local database on the router Username: admin Password: cisco
! Timing out on TACACS+ regarding authorization due to no server responding. TPLUS: Queuing AAA Authorization request 102 for processing TPLUS: processing authorization request id 102 TPLUS: Protocol set to None .....Skipping TPLUS: Sending AV service=shell TPLUS: Sending AV cmd* TPLUS: Authorization request created for 102(admin) TPLUS: Using server 192.168.1.252 TPLUS(00000066)/0/NB_WAIT/6812DC64: Started 5 sec timeout TPLUS(00000066)/0/NB_WAIT/6812DC64: timed out TPLUS(00000066)/0/NB_WAIT/6812DC64: timed out, clean up TPLUS(00000066)/0/6812DC64: Processing the reply packet ! After timing out, the router again uses its local database for ! authorization and appropriate privilege level for the user.
! If we exit, and change the debugs slightly, and do it again, it will give ! us yet another perspective.
R1# debug aaa authentication AAA Authentication debugging is on R1# debug aaa authorization AAA Authorization debugging is on
Telnet R1# telnet 10.0.0.1 Trying 10.0.0.1 ... Open
AAA/BIND(00000067): Bind i/f
! Notice it shows using the authentication list we assigned to the VTY ! lines AAA/AUTHEN/LOGIN (00000067): Pick method list 'AUTHEN_via_TACACS' ! Not shown here, but indeed the ACS server is timing out, due to not yet ! being configured, which causes the second entry in the list "local" to be ! used.
Unknown

User Access Verification

Chapter 3: Implementing AAA in Cisco IOS 45

Username: admin Password: cisco

! Now the authorization begins, using the method list we configured for the ! lines AAA/AUTHOR (0x67): Pick method list 'Author-Exec_via_TACACS'
3
R1# AAA/AUTHOR/EXEC(00000067): processing AV cmd= AAA/AUTHOR/EXEC(00000067): processing AV priv-lvl=15 AAA/AUTHOR/EXEC(00000067): Authorization successful R1#

!

So, what has happened so far? Table 3-3 describes the steps to configure the router for ACS.

Table 3-3 Configuring the Router to Use ACS via TACACS+

Task

How to Do It

Decide what the policy should be (for

This step is done way before you ever begin

example, which vty lines should require configuring the router, and is based on your

authentication/authorization) and which security policy for your network. It is the

methods (ACS, local, none) should be used. concept of what you want to accomplish for

authentication and authorization.

Enable the ability to configure AAA.

aaa new-model is not enabled by default. If you want to use the services of ACS, you must enable the feature of AAA as the very first step of configuration on a new router.

Specify the address of an ACS server to use.

Use the tacacs-server host command, including the IP address of the ACS server and the password.

Create a named method list for authentication and another for authorization, based on your policy.

Each method list is created in global configuration mode, specifying which methods this list uses, in order, from left to right.

Apply the method lists to the location that In vty line configuration mode, specify the

should use those methods.

authentication and authorization method lists

that you created in the preceding step.

Now that we have implemented the policy using the CLI, let’s take a look at implementing a nearly identical policy but this time using CCP to implement it.
For this configuration, we have removed all AAA-related method lists and have left only the command aaa new-model as a starting point. The intent of this configuration using CCP is

Unknown

46 CCNA Security 210-260 Official Cert Guide to familiarize you with the locations inside the graphical user interface (GUI) for you to configure the method lists for authentication and authorization and how to apply those to the vty lines. In the configuration section of CCP, having selected the router that you want to configure, go to Configure > Router > AAA > AAA Servers and Groups > Servers, click the Add button, and provide the relevant information about your ACS server, as shown in Figure 3-1.
Figure 3-1 Adding an ACS Server to the IOS Router via CCP You then click OK and any other confirmation buttons that are presented to apply this configuration to the router. Now that the router knows the IP address of the ACS server, and which protocol to use and the secret key used to encrypt the packets it sends to the server, the next step is to create the method lists. Just like at the CLI, you create one method list for authentication of logins and a second method list for authorization of the EXEC session. Each method list specifies that the ACS server should be used first, and if for whatever reason the ACS server fails to respond, the second method the router should use is the local configuration (the running config). To create the method list for authentication, in CCP you go to Configure > Router > AAA > Authentication Policies > Login, click Add, and specify the details of the authentication method list, including its name and the methods from top to bottom that this method list will call on. The dialog looks similar to what Figure 3-2 shows. From within the pop-up window, the Add button enables you to add the individual methods to be used by this method list. There is also the option of moving the methods up or down based on the order you want this method list to call on. As before, you would click the OK button and any other confirmation buttons you are prompted with until the configuration is delivered to the router.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 47
3
Figure 3-2 Creating an Authentication Method List Now that your authentication method list is created, you can see this list and any other authentication lists that have been created on this same screen, as shown in Figure 3-3. This includes the methods, in order, from left to right.
Figure 3-3 Viewing the Configured Authentication Method Lists Unknown

48 CCNA Security 210-260 Official Cert Guide Now that you have created your authentication method list, you also need to create an authorization method list based on your policy. Again for this example, we are implementing the same exact policy we did earlier from the command line. To create the authorization method list, go to Configure > Router > AAA > Authorization Policies > EXEC Command Mode and click Add, as shown in Figure 3-4.
Figure 3-4 Creating a New Authorization Method List Using a similar process as you did with the first method list, you choose User Defined (meaning that you are not going to set this method as the global default, but instead are only creating a method list that will not be used until this method list is associated somewhere else in the configuration, such as configured on a vty line). In addition to naming the authorization method list, you also click the Add button from this pop-up to select the individual methods to be used. Just as before, you click the OK button and any other confirmation buttons presented until CCP finally delivers the configuration to the router, at which point you can see a summary of your authorization method list, as shown in Figure 3-5. At this point, with a method list configured for authentication and a second method list configured for authorization, it is time to put those method lists to work. Now what does that mean? Currently, those method lists are just wasting space in the configuration. If you want those method lists to be used, you need to specifically apply those methods lists. Based on the policy, you want the method list for authentication and the method list for authorization to both be applied to the vty lines of the router. To apply the method lists, we leave the AAA section and go to Configure > Router > Router Access > VTY. From there, click Edit and use the drop-down box to select the method lists that we want to use. The only method lists that exist for authentication and authorization are the ones that you create. In this case, we select the authentication and authorization method lists that we previously created, as shown in Figure 3-6.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 49 3
Figure 3-5 List of Authorization Method Lists Configured on the Router

Figure 3-6 Applying the Newly Created Method Lists

Unknown

50 CCNA Security 210-260 Official Cert Guide You click OK and then click any confirmation buttons presented until CCP deploys the configuration to the router. Once it deploys the configuration, it shows you a summary of how your vty lines are configured, as shown in Figure 3-7.
Figure 3-7 Summary of vty Configuration, Showing the Method Lists Applied At this point in the configuration, you might actually cause yourself some grief if you accidentally log out. If you are connected via the console port, you might be okay because you have not applied the method list to the console port. But if you are connected remotely using Telnet or Secure Shell (SSH), which both use the logical vty lines, you might not be able to reconnect if the ACS server is not reachable (because it is not configured yet) and the router falls back to the local configuration, and that is where the problem is. We have not yet created a local user in this demonstration. The secret is to make sure there is at least one locally configured user with administrative privileges (privilege level 15) so that you can always get back into the router. You saw earlier how to create a user account from the CLI. You should also do the equivalent here in CCP. To create a local user, go to Configure > Router > Router Access > User Accounts/View and click Add, as shown in Figure 3-8. This user account should have a difficult password, and you might want to consider not giving this username a name that might be recognized or guessed at by a would-be attacker. After you’ve added the information, including the privilege level 15 access, click OK and any other confirmation pop-up confirmation messages until CCP delivers the configuration to the router. So, now you have seen how to configure the router portion for AAA integration within ACS server using TACACS+. The second part of getting AAA working between an ACS server and a router is to configure the ACS portion. And that is what you do in the next section.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 51
3
Figure 3-8 Adding a Local User with Privilege Level 15
Configuring the ACS Server to Interoperate with a Router
This section covers the GUI on the ACS server, which enables it to communicate with a client, such as a router. Before examining the configuration of the ACS server itself, let’s first review a few things. The ACS server has literally thousands of bells and whistles and options that may be configured and tuned. The goal in this section is to make sure that you are comfortable with the basic concept that the ACS server can be a centralized clearinghouse for user authentication/ authorization and a repository for accounting records of what those users actually did. From an administrator’s perspective, this includes which administrator issued which commands on which devices. One challenge that large organizations face is having several administrators with different areas of responsibility. For example, one administrator may be responsible for the perimeter routers that are running zone-based firewall services. A different administrator might be responsible for the routers that are providing virtual private network (VPN) services, and the list goes on. In situations such as these, it is unwise to give every administrator full administrative rights to every single router. Instead, it makes sense to provide access only to those individuals who need it. For example, administrators who manage the perimeter routers should not have access, or at least full access, to the VPN devices that they do not manage. In this light, ACS can group the routers together into logical organizations called device groups. This way, you put specific routers into a group, and then on the ACS put the administrators who are currently responsible for those routers into a user group and assign that
Unknown

52 CCNA Security 210-260 Official Cert Guide

group an authorization role that includes administrative rights of full access for that specific group of routers. This scenario does require a bit more effort for the initial configuration of ACS, but after it is set up, you can just add new administrators and put them into specific groups within ACS, and they automatically receive the rights and access levels they need.
Table 3-4 describes the key components for this type of configuration.

Table 3-4 Key Components for Configuring ACS

Component of ACS

How It Is Used

Network device groups

Groups of network devices, normally based on routers or switches with similar functions/devices managed by the same administrators.

Network devices (ACS clients/ routers/switches)

The individual network devices that go into the device groups.

Identity groups (user/admin groups) Groups of administrators, normally based on users who will need similar rights and access to specific groups of network devices.

User accounts

Individual administrator/user accounts that are placed in identity groups.

Authorization profiles

These profiles control what rights are permitted. The profile is associated with a network device group and a user/administrator identity group.

For the demonstration here, we create the following:
■ Device group for border routers
■ A single router that belongs to the device group
■ Two groups, an Admin group and a Monitor group
■ Two users (an administrator belonging to the Admin group and a help desk account belonging to the Monitor group)
■ Two authorization policies (the first stating that members of the Admin group who are accessing devices in the device group should get full privilege level 15 access, the second policy stating that users who are members of the Monitor group will only have privilege level 1 access to the devices in the device group)
So, with this policy in mind, the first thing is to open a browser window from your local computer to the IP address that is running the ACS server. The URL is https://a.b.c.d/ acsadmin, where a.b.c.d is the actual IP address of your server. On a new installation of ACS, the default password is default. Initially, the ACS server is using an SSL self-signed certificate, and you may get a pop-up asking you whether you want to confirm your session to this device, even though your browser does not trust the certificate. You need to agree and continue if you want to manage the ACS server.

Unknown

Chapter 3: Implementing AAA in Cisco IOS 53 A newly installed ACS also requires proper licensing. The licensing information is provided along with the purchased product. Evaluation licenses are also available for individuals interested in evaluating the product. Contacting your Cisco representative to obtain the software is probably the easiest way to get it, and with your Cisco.com account you can register online for an evaluation license. The first step is to create a device group. You do so by navigating to Network Resources > Network Device Groups > Device Type and clicking Create, as shown in Figure 3-9.
3
Figure 3-9 Creating a Network Device Group After adding information about this group, click Submit to implement the new network device group. The problem with this device group is that by default there are no network devices in it. To fix that, we add as an example a single router (the router we configured earlier) to be included in this network device group on the ACS server. This is done by navigating to Network Resources > Network Devices and AAA Clients and clicking Create, as shown in Figure 3-10.
Unknown

54 CCNA Security 210-260 Official Cert Guide
Figure 3-10 Adding a Network Device to the Device Group In this dialog box, you click the Select button to the right of the device type and select the device group created from the previous step. In addition to that, you configure the name that the ACS server will know the router by. This name does not have to match the real name of the router, but it is a good idea for it to match so that someone looking at the ACS would know which client (the router) is being referred to in the configuration of the ACS. The IP address of this client (the router) is the reachable address of the router from the perspective of the ACS server. Clicking the box next to TACACS+ lets the ACS server know which protocol to expect from this client, and having the correct password (the one that matches the password configured earlier on the router) is also required for successful communication. After reviewing the information to confirm it is accurate, click Submit. So, we have created a network device group, and added router R1 as the first network device (ACS client) in this group. The next step is to create a user group, and then create some users in those groups. The two groups we are going to create are an Admin group and a Monitor group. To create these groups, navigate to Users and Identity Stores > Identity Groups and click Create, as shown in Figure 3-11. Complete the dialog box by providing the name of the group you are going to create, and then click Submit. You could repeat this process for any additional groups. For this discussion, we create two groups: one named Admin and the other named Monitor. After you click Submit, a summary of your existing groups displays, as shown in Figure 3-12.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 55 3
Figure 3-11 Creating User Groups

Figure 3-12 Summary of Identity Groups

Unknown

56 CCNA Security 210-260 Official Cert Guide These new groups have no users in them by default and have no special permissions by default. The first step to fixing that is to create a couple user accounts and place at least one user account into each group. To create individual users, navigate to Users and Identity Stores > Internal Identity Stores > Users and click Create, as shown in Figure 3-13.
Figure 3-13 Creating New User Accounts in ACS After entering in the name of this user, and a description (if desired), click the Select button from this pop-up window to select which user group you want this user to be a member of. It also specifies the password for this administrator. After verifying the details are correct, click Submit. In this scenario, we are creating one user named admin that belongs to the Admin group, and a second user named help-desk that belongs to the Monitor group. After you click Submit, a summary of your configured users configured on the ACS server displays, as shown in Figure 3-14. The next step is to configure authorization policies that give full access to users in the Admin group who are trying to access routers in the network device group we created. We also want to give limited access to users in the Monitor group who are trying to access the same devices. We can do this with authorization policies. To create and assign the reservation policies, first navigate to Access Policies > Access Services > Default Device Admin > Authorization and click Create, as shown in Figure 3-15.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 57
3
Figure 3-14 Users Created on the ACS Server
Figure 3-15 Creating an Authorization Policy In the dialog box, indicate the name of this policy, called in this example AdminRole, and check the box next to the conditions next to identity group, and click the Select button to choose the Admin group created earlier. Use the same process, checking that box next to NDG Device Type (NDG stands for network device group) and then using the Select button, to indicate the device belongs to the group of routers device group that was created earlier. Unknown

58 CCNA Security 210-260 Official Cert Guide This is setting up a condition so that if a user who is a member of the Admin group is attempting to access a device that is a member of the specific router group, then as a result we can provide specific access based on a custom shell profile that we can create. To do that, click the Select button next to the Shell Profile option, and you are presented with the screen shown in Figure 3-16. Shell profiles are used for authorization purposes and associated with an authorization policy (AdminRole in this example).
Figure 3-16 Selecting the Profile to Assign You could assign one of the preconfigured profiles, or you could create your own profile and assign it to this group of users. To create a custom profile, click the Create button, and from the new window that is brought up, name the profile in the dialog box provided, and then display the Common Tasks tab and change the default privilege level to Static, and assign the privilege level of 15, as shown in Figure 3-17.
NOTE The higher the privilege level, the more privileges a user has to configure and access information in the device.
Click Submit, and then confirm any dialog boxes presented to you from ACS until the configuration is applied. By using these steps, any users in the Admin group accessing any of the devices in the specified device group will not only be able to authenticate but also be automatically authorized for and placed into privilege level 15 after successfully authenticating on those routers. We repeat this process for the Monitor group, assigning a static privilege level of 1.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 59
3
Figure 3-17 Creating a Custom Authorization Profile After saving the changes, you can view a summary of the authorization profiles in this same location. Figure 3-18 shows two custom authorization profiles. One applies to admin users in the Admin group accessing devices in the router group, and the other applies to help desk users who are members of the Monitor group accessing the same devices.

Figure 3-18 Custom Authorization Policies

Unknown

60 CCNA Security 210-260 Official Cert Guide
In this section, we created device groups and added individual routers, or a least one in this case, to that device group. We also created user groups and put users (in this case, at least one per group) into those groups. We then created custom authorization profiles that indicate which profiles to be applied based on which users in which groups are accessing which devices. The final piece to the puzzle is to verify that it actually works. Let’s do that right now in the next section.
Verifying and Troubleshooting Router-to-ACS Server Interactions
This section discusses the commands that enable you to verify/troubleshoot AAA when the router is using the ACS server to authenticate or authorize the users who are trying to connect to the router. The chances that everything is configured perfectly the very first time on both the router and the ACS server to allow the router to call upon the ACS server for authentication of users and authorization of users are not very good. The good news is that after some practice and good documentation skills implementing ACS and Cisco router configurations, your ability will improve. Whether you are experienced or brand new to ACS, the tools covered right now will prove helpful in troubleshooting and verifying the configuration. Back at the router, one of the first things you might want to do if you have not done so already is verify that you have reachability between the router and the ACS server. You might want to consider using ping to verify the connectivity, as shown in Example 3-3.
Example 3-3 Verifying Basic Connectivity
R1# ping 192.168.1.252
Type escape sequence to abort. Sending 5, 100-byte ICMP Echos to 192.168.1.252, timeout is 2 seconds: !!!!! Success rate is 100 percent (5/5), round-trip min/avg/max = 16/21/32 ms R1#
If the ping was not successful, it could be due to access control filtering that is denying Internet Control Message Protocol (ICMP) between the router and the ACS server, the ACS server may physically be powered off or its network cable may be disconnected, the ACS server may be connected to a switch port that is misconfigured and is in the wrong VLAN, or it may be a general routing issue or the network is not fully converged or able to route correctly. Verifying the basic routing and connectivity is a fantastic start, and after that is in place, here is the very next tool you should use, called test (see Example 3-4).
Example 3-4 Testing AAA Between the Router and the ACS
R1# test aaa group tacacs+ admin cisco123 legacy Attempting authentication test to server-group tacacs+ using tacacs+ User was successfully authenticated.
Unknown

Chapter 3: Implementing AAA in Cisco IOS 61 In the syntax for the AAA test, we include the group (in this case, a group of one TACACS+ server and a username and the password for that user). The keyword legacy is also used as part of the syntax for the test. This is a cool tool because it enables you to verify that the ACS to router authentication component is working, before testing your authentication method list with Telnet. Another great thing to do when troubleshooting is to look at the reports on the ACS server that may indicate a reason as to why a problem occurred. You can find these reports by navigating to Monitoring & Reports > Reports > Favorites. Figure 3-19 shows an example.
3
Figure 3-19 Reporting Options from Within ACS From here, click the Authentications – TACACS – Today link for information and indications as to why errors may be occurring, as shown in Figure 3-20. One common occurrence is that after the reports are looked at, there are no error messages about the ACS client (the router) that we believe is trying to use the ACS, yet the authentication test still fails. In cases such as these, you want to verify no filters are blocking the traffic from the router to the ACS and vice versa, and verify that in the router config it has the correct IP address of the ACS server. If the router does not have the correct IP address of the ACS server, there will never be any records on the ACS server about that misconfigured router.
Unknown

62 CCNA Security 210-260 Official Cert Guide
Figure 3-20 Detailed Error Messages from ACS Now that we know we have functional AAA connectivity between the router and the server, let’s test the method lists for authentication and authorization that we placed on the vty lines. A simple Telnet to that router can do the job. It is often easier to start on the router, perhaps from a console port, and telnet back to that same router. A Telnet session, regardless of its source, should trigger the authentication, and with some debug commands in place, we can verify that ACS is working correctly. In this example, we use a login from a remote workstation and look at the debug messages on the console of the router, as shown in Example 3-5.
Example 3-5 Using debug Commands to Verify Functionality
! Verifying what debugging is currently in place on the router R1# show debug General OS:
TACACS access control debugging is on AAA Authentication debugging is on AAA Authorization debugging is on ! on a remote machine, we telnet and authenticate as the user admin, and ! simply view the debug output on the console of the router receiving the ! telnet session R1# AAA/BIND(00000083): Bind i/f
Unknown

Chapter 3: Implementing AAA in Cisco IOS 63
! the session came in on a VTY line, which triggered the authentication ! method list associated with that line AAA/AUTHEN/LOGIN (00000083): Pick method list 'Login_Authen_via_TACACS' TPLUS: Queuing AAA Authentication request 131 for processing TPLUS: processing authentication start request id 131 TPLUS: Authentication start packet created for 131() TPLUS: Using server 192.168.1.252

! Sending a TACACS+ request to contact the server

3

TPLUS(00000083)/0/NB_WAIT/68BD742C: Started 5 sec timeout

TPLUS(00000083)/0/NB_WAIT: socket event 2

TPLUS(00000083)/0/NB_WAIT: wrote entire 33 bytes request

TPLUS(00000083)/0/READ: socket event 1

TPLUS(00000083)/0/READ: Would block while reading

TPLUS(00000083)/0/READ: socket event 1

TPLUS(00000083)/0/READ: read entire 12 header bytes (expect 16 bytes data)

R1#

TPLUS(00000083)/0/READ: socket event 1

TPLUS(00000083)/0/READ: read entire 28 bytes response

! Router got a message back from ACS ! Router will now prompt the user for their username TPLUS(00000083)/0/68BD742C: Processing the reply packet TPLUS: Received authen response status GET_USER (7) R1# TPLUS: Queuing AAA Authentication request 131 for processing TPLUS: processing authentication continue request id 131 TPLUS: Authentication continue packet generated for 131 TPLUS(00000083)/0/WRITE/68BD742C: Started 5 sec timeout TPLUS(00000083)/0/WRITE: wrote entire 22 bytes request TPLUS(00000083)/0/READ: socket event 1 TPLUS(00000083)/0/READ: read entire 12 header bytes (expect 16 bytes data) TPLUS(00000083)/0/READ: socket event 1 TPLUS(00000083)/0/READ: read entire 28 bytes response TPLUS(00000083)/0/68BD742C: Processing the reply packet

! Router will now prompt user for the user password TPLUS: Received authen response status GET_PASSWORD (8) R1# TPLUS: Queuing AAA Authentication request 131 for processing TPLUS: processing authentication continue request id 131 TPLUS: Authentication continue packet generated for 131 TPLUS(00000083)/0/WRITE/68BD742C: Started 5 sec timeout TPLUS(00000083)/0/WRITE: wrote entire 25 bytes request TPLUS(00000083)/0/READ: socket event 1 TPLUS(00000083)/0/READ: read entire 12 header bytes (expect 6 bytes data)

Unknown

