A Sequential Auction Game for QoS-aware User Association in Heterogeneous Cellular Networks

Gongchao Su
Shenzhen Key Lab of Advanced Communications and Information Processing Shenzhen University Shenzhen, P.R.China gcsu@szu.edu.cn

Bin Chen, Xiaohui Lin and Hui Wang
College of Information Engineering Shenzhen University Shenzhen, P.R.China
{bchen,xhlin,wanghsz}@szu.edu.cn

Abstract— This paper investigates the user association problem in downlink heterogeneous cellular networks. To better utilize available radio resources and simultaneously maintain user QoS requirements, we propose a user association scheme that aims to strike a tradeoff between load balancing and user QoS constraints. We introduce a sequential second-price auction game that allocates users to base stations in repeated iterations. We propose a valuation function formulation for participating buyers to respect user QoS requirements, and we introduce a game mechanism with unit demand buyers and myopic bidding strategies that encourages traffic offloading. Furthermore, we investigate the ordering of distinct users that provides an approximation to socially efficient outcomes. Numerical results validate the effectiveness of our proposed scheme and show significant rate gains for cell edge users.
Keywords—heterogeneous netwoks; user association; sequential auction; Quality of Service
I. INTRODUCTION
Heterogeneous networks (HetNets) have emerged as a promising solution to cope with the exponential growth in mobile devices and data traffic[1]. By overlaying low cost low power small cell base stations (SBSs) with the traditional macro cell base stations(MBSs), HetNets offer more radio resources closer to users and reduce traffic congestions at MBSs.
In order to utilize the available radio resources at the SBSs, more users should be proactively offloaded to SBSs. However, due to the massive power difference between MBSs and SBSs, traditional user association schemes that assign users to the BSs with the highest received signal power does not work well in densely deployed HetNets. Therefore, it is important to devise a user association scheme that can proactively offload users to less congested SBSs. Moreover, as users are offloaded to SBSs, they suffer from severe degradations in signal-to-interferenceplus-noise-ratio (SINR) due to the strong interference from MBSs. This degradation in user Quality of Service(QoS) in turn partly negates the benefits of SBS deployments. Hence how to devise a user association scheme that can both take into account of network load and user QoS requirements becomes crucial.

There have been a number of researches on the user association problem in the context of HetNets. One popular approach is to solve a network utility maximization problem that encourage load balancing[2][3]. However, the optimization problem is usually solved in a centralized fashion and requires perfect information on network conditions, resulting in massive computation and communication overhead. Moreover it is difficult to incorporate QoS constraints as the problem is becoming increasing complex.
Another popular of approach is to leverage game theory tools to solve the user association problem in a distributed manner. In [4] a RAT selection game is proposed. However it is not directly applicable to HetNets. In [5] the user association problem is modeled as a Stackelberg game. In [6] a noncooperative game that maximize sum rates under macrocell SINR balancing is proposed. In [7] a noncooperative game with users and BSs as the players is proposed and a mixed strategy Nash equilibrium solution is analyzed. However, these game formulations are essentially games of perfect information and require huge communication overhead.
In this paper we propose a sequential auction based user association scheme to strike a tradeoff between load balancing and user QoS requirements in HetNets. Compared with other game formats, auctions allow private information for players and can depict selfish behavior of individual players and simultaneously achieve socially efficient outcomes. Specifically, we propose a sequential second price auction format which requires relatively little computation and information exchange. The objective is to encourage traffic offloading while maintaining the QoS requirement. By formulating the auction game as a sequential auction with unit demand buyers, we investigate the game mechanism, utility formulation as well as optimal ordering of users in this sequential auction.
The remainder of this paper is organized as follows. In Section II we present the network model and investigate the design objectives. In Section III we describe the sequential game formulation and present the user association algorithm. Section IV is dedicated to numerical results the validate the performance of the proposed user association scheme.

The research was supported by research grants from Natural Science Foundation of China(61575126), Guangdong Natural Science Foundation (2017A030310462), the Key Project of Department of Education of Guangdong Province(2015KTSCX121), and Foundation of Shenzhen City(20140509172609163,20170818091801577).

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

464

ICUFN 2018

II. NETWORK MODEL AND PROBLEM FORMULATION
We consider a two-tier heterogeneous cellular network where multiple small cells are overlaid with a macro cell within a bounded coverage area in the Euclidean plane. The set of BSs, denoted as  , consists of M 1 SBSs and one MBS with the indices of M . The set of N users in the coverage area is denoted as  . Universal frequency reuse is assumed so that SBSs and MBS share the same frequency band with a total bandwidth of B . Each user must be associated with one of the
BSs. BS j   has a fixed transmission power Pj .

The achievable rate of user i   depends on its downlink

spectral efficiency and fractions of radio resources allocated at

the designated BS. We consider a flat fading channel for

downlink transmission and the received signal power from a

given BS

j

is expressed as

P h d  j ij ij

,

where

d ij

is the

Euclidean distance between user i and BS j ,

hij ~ exp(1) denotes the random channel gain and   2 is the
path loss factor. Correspondingly the signal to noise plus interference ratio(SINR) for user i associated with BS j is given by

SINRij 

P h d  j ij ij

  P h d  

2

k ik ik

(1)

k j

where  2 is the thermal noise power. We assume that BS j   allocates its resources in a round-robin fashion so that the bandwidth allocated to user i is inversely proportional to the number of users assigned to BS j . We use a matrix of
binary variables x {xij {0,1}, i  , j  } to denote user-
BS associations and set xij  1 if and only if user i is associated with BS j . Then the number of users associated
 with BS j is denoted as n j  xij . Hence the achievable
i
rate rij for user i associated with BS j is given by

B

rij nj log2 (1  SINRij )

(2)

The design objective of the user association policy is to find an optimal association x that maximizes the downlink system
sum rate. Intuitively, such objective requires that when a candidate BS is selected for a user, a tradeoff between the BS with strongest power and the least congested BS should be resolved.

If a user is offloaded to small cells, it is vulnerable to the effect of the strong interference from the macro cell, resulting in severe SINR degradation due to the massive power difference between the macro cell and small cells. To ensure successful signal detection and decoding, we require that user i is associated with BS j if and only if the perceived SINR

from BS j is above a given threshold  . In conjunction with
the requirement that each user is exactly associated with one BS, the optimization problem is formulated as

max
x

   i j

xij xkj

B

log 2

(1



SINRij

)

k 

s.t. xij {0,1}

(3)

 xij  1

j

 xij SINRij  
j

The above optimization problem is a nonlinear integer optimization problem with equality and inequality constraints that reflect the QoS requirement and single BS association for the association policy. The constraints do not guarantee feasible solution sets and the integer optimization problem is difficult to solve. Even if the integer constraint is relaxed, the relaxed optimization problem is not necessarily convex and the constraints do not guarantee feasible solutions either. Hence we aim at providing a less complex distributed solution to the user association problem under QoS constraints.

III. GAME FORMULATION
To cope with the QoS requirement, we propose a general guideline for the association policy: User i is associated with a small cell if and only if the corresponding SINR meets the QoS requirement, otherwise it is assigned to the macro cell. The underlying assumption is that when there is no adjacent small cells that provide satisfactory QoS, a user is always associated with the macro cell to ensure he is in coverage.

Let S j denote the set of users adjacent to SBS j such that

the

corresponding

SINR ij

between user i  S j

and BS

j

satisfies the QoS constraint. Note that it is possible that S   j
  for some SBS j . Let S  S1 S2 ... SM 1 denote all the
users that can be possibly offloaded to small cells. User i   \ S is associated with the macro cell. User i  S can

also be possibly associated with the macro cell, hence SM  S . The user association problem is then casted as an auction. An auctioneer sells S items to M buyers. Users i  S are the

items for sale and BSs j   are the potential buyers. Each

buyer submits his bid for the auctioned items to the auctioneer who then decide the allocations of items and subsequently charges buyers for the allocated items. The output of the auction mechanism is a partition of users, denoted as

   S 

S* 1

S

* 2

...

S* M

,

S* i

S* j



,

where

S* j

 Sj

since

each

BS j can only associate with a subset s of its potential user set

S j .Bidder j ‘s valuation function v j : 2Sj   is defined as

465

  1
 vj (s)   s

rij , s  S j , s  
is

(4)

 0, otherwise

Define a binary variable  (s, j) and set  (s, j)  1 if and
only if user set s is assigned to BS j . The downlink sum rate
maximization problem (3) is then formulated as

  max

v j (s) (s, j)

(5)

j s  S j

Unfortunately, the reformulated problem is a set packing problem and is known to be NP complete[8]. The underlying implication is that if we run the combinatorial auction and allow bidders to bid for bundles of items, it is difficult to obtain the optimal partition due to the complexity of bidding valuations. Instead, we resort to a sequential auction approach where different users are auctioned separately in multiple rounds of auctions and propose a method to approximate the bundle evaluation and optimal allocation.

A. Sequential Auction Game We model the user association problem as a sequential
auction game with S distinct items(users) for sale. To simply the auction process and provide a tractable analysis, we define the set of buyers as a set of virtual BSs with unit demand instead of the actual BSs. To do so we note that BS j can only
serve a maximum number of S j adjacent users. Thus we
define for BS j a set of K j  S j virtual BSs, each of which can only serve at most one user. We consider a sequential second-price sealed-bid auction format. In this sequential auction, users are allocated sequentially in N rounds. In
round m  N , each buyer submits its bid for the auctioned user. The auctioneer allocates the user to the buyer with the highest bid and subsequently charges that buyer the highest losing bid. The winner then leaves the auction and the auction proceeds to the next round. The auction terminates when all users are allocated.
Virtual BS k {1, ..., K j } has its own private value about a
candidate user i  S j , denoted as.

v (k) j

(i)



 rij  k    k 

,k
rij 

 [1, K ,k
/S

j ], i  S j , j    [1, K j ], i  S j

M 
, j  M

(6)

The private value each virtual BS has on a given user is independent of other virtual BS’s valuation. Therefore BS j ’s
 total valuation for serving K j user is vj(k ) (i) . The
iS j
valuation function also implies that virtual BSs have decreasing

valuations on a particular user as their indexes increase. Since the virtual BS has unit demand, the virtual BS that wins an auction will leave. If the allocation is done efficiently so that a user is always assigned to a virtual BS with the highest valuation, then when a user is auctioned, the virtual BS (designated to BS j) that are still in the auction and has the lowest index should enter the auction and those virtual BSs with higher indexes should not submit bids. Hence in each round of the auction there is at most one virtual BS designated to any given BS that enters the auction and there are at most
 potential buyers for each auctioned user.
We consider a myopic bidding strategy for buyers such that every buyer attempts to maximize his immediate payoff in each round. With the second-price sealed-auction format, this bidding strategy ensures truthful bidding and individual rationality. Each buyer bids his true valuation and the auctioned user is allocated to the bidder with the highest valuation in each round of the auction. However, with unit demand buyers and myopic bidding strategy, the ordering of items has a profound effect on the bidding behaviors of a bidder and the social welfare of the auction game[8].

B. Ordering of Users
We proceed to analyze the optimal ordering of users in this sequential auction game. In the set-packing problem (5) the valuation of the allocated user set to BS j depends on the size
of the user set. This implies that if the valuation of a particular user set to BS j is the sum of the values of distinct users
assigned to different virtual BSs, there exist externalities between users’ values. For instance, if a particular user i has
been assigned to BS j , its valuation v j (i), i  S j will
decrease as more users are assigned to BS j .

Proposition 1: The valuation function (4) is a submodular set function.

Proof: Let s  t  S j , then for i  S j \ t ,

  vj (s

{i})  v j (s) 

rij s

 rij t



vj (t

{i})  v j (t)

and

the

valuation function has diminishing marginal gains. Hence it is a submodular set function.

Proposition

2:

The

valuation

function

v

( j

k

)

(i

)

is

an

upper

bound on the marginal gain to the social welfare when user i is

admitted as the kth user of BS j .

Proof: Without loss of generality, consider a virtual BS designated for SBS j . Since in each round the virtual BS with

the lowest index enters the auction, it must be the case that if

v

( j

k

)

(i

)

is the submitted bid in the current round, all the virtual

BSs with lower indexes must have won the auction in previous rounds, otherwise they will be in the auction and submit bids

466

instead. The marginal gain when adding user i as the kth user

  is

1 k

(
ns

rnj



rij )



k

1(
 1 ns

rnj )



rij k

 v( k ) j

(i

)

.

Therefore,

we

use

the

valuation

function

v

( j

k

)

(i

)

as

an

approximation to the possible incremental gain to the social welfare and propose an ordering of users in the sequential auction that results in diminishing incremental gains to the social welfare as this auction continues to the next round. Since in the auction the virtual BSs designed for a given BS j enter

the auction in an ascending order with their indexes, we define

the type of user i as ti  max rij and sort users in a j

descending order according to their types. As the sequential auction continues, the type of users is decreasing and virtual BSs with larger indexes enter the auction, resulting in a diminishing possible incremental gain to the social welfare. Intuitively, we can view the types of users as the qualities of goods and each buyer has a decreasing valuation of goods as he bids for more goods. The proposed ordering is then similar to putting up goods of highest quality first for sale and such ordering is proven to given the unique welfare-maximizing sequential auction[8].

C. Sequential Auction-Based User Association We now present our sequential auction-based user
association algorithm as Algorithm 1.
Algorithm 1 Sequential Auction-Based User Association

1. Initialization: SBS j reports its potential user set S and {r i  S } to the

j

ij ,

j

 auctione er. Set S  S , S S. Set k  1, j   . Assign user

j

M

j

jB\{M }

i   \ S to the macrocell.

2. Sorting users: S et t max r , i  S. Sort user set S in descending

i

ij

j

order according to user type {t } . i

3. Sequential Auction:

For each i  S

for each j  

if i  S j

(k )

BS j submits its bid b as the private value of k th virtual BS v j (i)

j

j

j

End if

End for

Auctioneer decides the winning BS j  arg max{b } . j

User i is assigned to BS j and BS j is charged a price

p  max {b } . k k  1

l j

l

j

j

End for

4. Output the user-BS association.

It can be seen from Algorithm 1 that in this sequential auction, users with higher types are auctioned first and BSs with fewer loads have a higher chance of winning the auction. This algorithm has a low computational complexity and is simple to implement.
IV. NUMERICAL RESULTS
In this section, we evaluate the performance of our user association algorithm in a two-tier HetNet with a coverage area of 1km2. The HetNet consists of one MBS, 20 SBS and 100 users. The MBS is located at the center. SBSs and users are uniformly and independently distributed across the coverage area. The transmission powers of MBS and SBSs are set to {46, 30} dBm respectively. We assume a universal path loss
factor of 4 and the Rayleigh fading with unit variance to model the channel gains. SINR threshold is set to -6dB.
Fig.1 depicts snapshots of the HetNet prior to and after user associations. It can be seen from Fig.1(a) that due to the dense deployment of SBSs, for more than half of the users the received SINR from a nearby SBS satisfies the SINR threshold. Hence they are possible candidates to be offloaded to SBSs. However, we can see from Fig.1(b) that in a max-SINR association scheme, a significant portion of these users are still assigned to the MBS, because the MBS is still the strongest BS in received signal power for these users. Nevertheless, we show in Fig.1(c) that using the proposed sequential auction based user association scheme, the majority of these users that satisfy the QoS constraints can be offloaded to SBSs. The interpretation is that, prior to the start of the auction, those users that cannot receive satisfactory SINRs are already assigned to the MBS, resulting in a lower valuation for the MBS in subsequent auctions. Then SBSs have a higher chance of winning the auctions than the MBS.
Fig.2 depicts the percentage of users associated with the MBS versus the number of SBSs under max-SINR association and auction-based association schemes. As the number of SBSs increases, the probability that a user can find a nearby SBS increases, resulting in higher SINR for users. It can be seen from Fig.2 that auction-based associate scheme outperforms the max-SINR scheme in traffic offloading. The reason is that as the number of SBSs increases, the number of users that satisfy the QoS constraint also increases, resulting in more users for sale and more buyers in the market as well as a higher valuation of buyers on those users. We also note that when the HetNet is becoming extremely dense, this increment in user SINRs is increasingly limited because the interference from nearby SBSs is growing stronger. Thus the number of users in the auction is approaching some limit and the effect of traffic offloading is limited.
Fig.3 depicts the 5th percentile of user achievable rates in different user association schemes. It can be seen from Fig.3 that the auction-based user association scheme achieves up to 100% gains in 5th percentile of user rates compared with the max-SINR scheme. This shows that by offloading more users to SBSs, especially those cell edge users of the MBS, the subsequent increments in user SINR and available radio resources significantly increase user rates at low rate region. We also note that in an extremely deployment of SBSs, due to

467

y coordinate(km) y coordinate(km) y coordinate(km)

1

1

0.8

UE

0.8

SBS

0.6

MBS

0.6

0.4

0.4

0.2

0.2

0

0

0.2

0.4

0.6

0.8

1

x coordinate(km)

0

0

0.2

0.4

0.6

0.8

1

x coordinate(km)

1

0.8

0.6

0.4

0.2

0

0

0.2

0.4

0.6

0.8

1

x coordinate(km)

(a)

(b)

(c)

Fig.1 Snapshots of the HetNet prior to and after user associations. The larger circle represents the MBS, smaller circles represent SBSs, green asteroids represent users who receive satisfactory SINRs from SBSs and black asteroids represents users who receive low SINRs from SBSs. (a) HetNet prior to user association. (b) HetNet in a max-SINR user association scheme. (c) HetNet in the auction based user association scheme

the limited effect of traffic offloading and increasing strong interference from nearby SBSs, user rates may actually decrease from its peak value. This shows that network performance may not monotonely improve with denser deployment of SBSs and it solicits the support of interference mitigation and BS on/off control mechanisms.

Percentage of users associated with MBS(%)

80

70

max-SINR association

60

auction based association

50

40

Extremely dense

30

deployment of SBSs

20

10

10

20

30

40

50

number of SBSs

Fig.2 Percentage of users associated with the MBS vs. number of SBSs

5th Percentile of user rates(bit/s/Hz)

0.1 0.09 0.08 0.07 0.06 0.05 0.04 0.03 0.02 0.01

max-SINR association auction based association
Extremely dense deployment of SBSs

10

20

30

40

50

number of SBSs

Fig.3 5th percentile of user achievable rates vs. number of SBSs

V. CONCLUSIONS
In this paper, we propose a sequential second-price auction game framework for user associations in downlink heterogeneous networks. To encourage traffic offloading and combat SINR degradation for offloaded users, we introduce a game mechanism with unit demand bidders and myopic bidding strategies. We propose rules of selecting appropriate users and formulate bidders’ valuation function to maintain user QoS requirements, and we analyze the ordering of distinct users to provide an approximation to socially efficient outcomes. As a game of imperfect information, the proposed user association scheme has a low computational complexity and requires little information exchange. As our future work we will investigate equilibrium bidding strategies for forwardlooking buyers that achieves a more socially efficient outcome.
REFERENCES
[1]J. G. Andrews, S. Buzzi, W. Choi, S. V. Hanly, A. Lozano, A. C. Soong, et al., "What will 5G be?," IEEE Journal on Selected Areas in Communications,, vol. 32, pp. 1065-1082, 2014. [2]Q. Ye, B. Rong, Y. Chen, M. Al-Shalash, C. Caramanis, and J. G. Andrews, "User association for load balancing in heterogeneous cellular networks," IEEE Transactions on Wireless Communications, vol. 12, pp. 2706-2716, 2013. [3]J. Wildman, Y. Osmanlioglu, S. Weber, and A. Shokoufandeh, "Delay Minimizing User Association in Cellular Networks via Hierarchically WellSeparated Trees," in Proceedings of IEEE International Conference on Communications (ICC), pp. 4005-4011, London, UK, June 2015. [4]E. Aryafar, A. Keshavarz-Haddad, M. Wang, and M. Chiang, "RAT selection games in HetNets," in Proceedings of IEEE INFOCOM, pp. 9981006, Turin, Italy, April 2013. [5]M. Haddad, P. Wiecek, E. Altman, and H. Sidi, "A game theoretic approach for the association problem in two-tier HetNets," in Proceedings of 25th International Teletraffic Congress (ITC), pp. 1-9, Shanghai, China, Sep. 2013. [6]I. S. Cho and S. J. Baek, "Distributed Power Allocation for Femtocell Networks Subject to Macrocell SINR Balancing," IEEE Communications Letters, vol. 20, pp. 2296-2299, 2016. [7]K. Dhifallah, Y. Gourhant, and S.-M. Senouci, "Cell selection game in heterogeneous macro-small cell networks," in Proceedings of IEEE International Conference on Communications (ICC), pp. 1-6. Paris, France, May 2017. [8]V. Krishna, Auction theory. New York: Elsevier, 2010.

468

