An Adaptive Channel Hopping Scheme in IEEE 802.15.6-Based Wireless Body Area Networks
Hsueh-Wen Tseng§, Yu-Bin Wang§, Yi Yang§, and Ruei-Yu Wu† §Department of Computer Science and Information Engineering,
National Chung Hsing University, Taiwan, R.O.C. †Department of Management Information Systems, Hwa Hsia University of Technology, Taiwan, R.O.C.
Email: hwtseng@nchu.edu.tw

Abstract—In modern days, as medical technology advances and the world’s population grows, healthcare has been undergoing crucial changes. The common practice of clinical treatment is gradually being overhauled by ubiquitous healthcare systems. The wireless body area networks (WBANs) are becoming increasingly important for future healthcare applications. According to the human physiological information, WBAN not only sends the real-time notiﬁcation to the user but also decreases the transmission delay of patient information to the physician for medical decision. When medical emergency information must be transmitted after a disaster occurrence, the number of WBANs and emergency trafﬁc increase in the particular area. In the situations, a large number of WBANs may be close to each other, thus causing inter-WBAN interference and increasing the transmission delay. Therefore, in this paper, we propose a dynamic channel selection scheme (DCSS) in IEEE 802.15.6 WBANs. DCSS records the channel interference degree which is used to adaptively select the best transmission channel and to effectively transmit data. It mitigates the inter-WBAN interference to improve the QoS violation and reduce power consumption when there are WBANs coexisting.
Index Terms—Wireless Body Area Network, Coexisting, Interference, QoS
I. INTRODUCTION
With the rapid growth of the world’s population and the
rapid advance of medical technology, the average life ex-
pectancy increases. Based on the simple life table provided
on the website of the Ministry of the Interior Department of
Statistics [1], the average life expectancy of our national is
80.20 years old in 2015 (the male is 77.01 years old, and the
female is 83.62 years old). Compared with 2014, the average
life expectancy increases 0.36 years old (the males increases
0.29 years old, and the female increases 0.42 years old).
The increase of life expectancy will lead to the population
aging. According to the National Development Council’s pop-
ulation estimation [2], our country was an ”age society” in
2018 and will be a ”hyper-aged society” in 2026. As a result
of population growth and aging, a better healthcare system
is needed. Accordingly, wireless body area network (WBAN)
is a key technology in electronic healthcare services that use
existing wearable devices or invasive human micro-sensing
devices to detect and collect human-related physiological data.
It not only sends real-time messages or warnings to users, but

Fig. 1: A star topology architecture in WBANs
also descreases the delayed medical treatment and transmits the data to hospitals or healthcare centers remotely so as to achieve the telemedicine effect. Doctors or healthcare centers can observe the data to determine the cause of the disease and achieve effective treatment.
WBAN is a short-distance transmission, and sensors are deployed on the human body or in the human body to collect physiological information in the long term. For example, it strategically deploys sensors on the body such as electrocardiogram sensor (ECG), glucose monitor sensor, blood pressure sensor, and temperature sensor. Figure 1 shows a star topology architecture in WBANs. These sensors collect human physiological information and transmit the data to a coordinator. Then, the coordinator collects data from all sensors to transmit the data to hospitals or healthcare centers.
In general, the coordinator may be a smartphone or the most powerful equipment because it can equip a larger battery capacity and be replaced easily. On the other hand, the sensor nodes need long-term deployment in the body and even some invasive sensors need to be placed in the body during months or years. In addition, they usually have to directly communicate with the coordinator using lower energy to save power consumption. When nearby devices with using the same frequency transmit data at the same time, they interfere with each other and then the data transmission fails. In a hospital or an elevator such as a crowded environment, when a medical emergency occurs, the data transmission of sensor nodes may

978-1-7281-1340-1/19/$31.00 ©2019 IEEE

402

ICUFN 2019

be interfered with each other. Thus, the important information cannot be successfully transmitted. As a result, the healthcare center cannot immediately obtain the current status of the patient to delay medical treatment.
In [3], it is mentioned that when a disaster occurs or a medical emergency occurs, a large number of patients generate a lot of emergency information and it causes a serious coexisting problem. Currently, IEEE 802.15.6 standard considers low-power consumption, transmission data rate, the number of channels, and quality of service assurance (QoS) so that it is suitable to be used in WBAN [4]. Therefore, in this paper, we focus on the issue that when a medical emergency occurs in the coexistence environment, the emergency data can be effectively transmitted to the coordinators and meet QoS requirements in IEEE 802.15.6. After the coordinators collect the data, the coordinators transmit the data to hospitals or healthcare centers remotely.
Therefore, in this paper, we propose a dynamic channel selection scheme (DCSS) in IEEE 802.15.6 WBANs. Our DCSS records the historical usage information of each channel, calculates the channel interference, and uses channel hopping scheme at ﬁxed time. For choosing a suitable channel, a better channel can be predicted based on the recorded channel information. In addition to effectively reducing the coexisting interference, the energy consumption of the sensor nodes for transmitting emergency data can be saved, and the data can be successfully transmitted under the QoS requirement.
The rest of the paper is organized as follows. Section II is the background study, and we introduce IEEE 802.15.6 protocol. Section III explains in detail the proposed DCSS in this paper. Section IV is the simulation results, and we discuss the simulation results. Finally, conclusions are remarked in Section V.
II. BACKGROUND STUDY
Currently, WBAN is widely used in the self-care of chronic patients and is usually formed a network of several to tens of sensor nodes and a coordinator. These sensor nodes are deployed on the human body or in the human body to sense the physiological information. In addition, WBAN is used in different applications such as medical monitoring, sports science, and military use. Currently, the most suitable protocol for such short-range transmission and low-power consumption is IEEE 802.15.6 [4].
IEEE 802.15.6 standard deﬁnes the details of the MAC and PHY layers, and the ﬁnal version is released in 2012. IEEE 802.15.6 standard uses the existing Industrial Scientiﬁc Medical (ISM) band and the frequency bands approved by the national medical or regulatory authorities. It supports QoS, low-power consumption, and the data rate up to 10 Mbps. WBAN requires the packet transmission deadline. On the other hand, emergency data need to be sent timely when unexpected emergencies occur.
Although several papers improved the coexistence issue in IEEE 802.15.6, they rarely consider to transmit emergent data in the serious channel interference and meet the QoS

requirement. Therefore, in this paper, we propose a dynamic channel selection scheme (DCSS) in IEEE 802.15.6 WBANs. We record the channel interference degree for each channel in the past. Thus, we understand the channel interference degree of each channel and then select the most suitable channel to transmit data.
III. DYNAMIC CHANNEL SELECTION SCHEME (DCSS)
Compared with wired networks, wireless networks have more interference factors during transmitting data, such as environmental noise, signal strength, body shadowing and so on. Especially for WBAN, intra-interference in WBAN and inter-interference in different WBANs are always discussed. In a single WBAN, there is a coordinator to use multiple access techniques (e.g., TDMA) to avoid the intra-interference problem. In addition, the inter-interference problem arises when there are multiple WBANs in the vicinity and they use the same channel to transmit data. Each WBAN is an independent distributed system and the human body has a high mobility feature. Thus, it is not possible to use a global coordinator to allocate resources for different WBANs. In addition, sensor nodes cannot increase the transmission power to obtain better signal strength because of the low-power limit.
In this paper, we propose a dynamic channel selection scheme (DCSS) in IEEE 802.15.6. DCSS uses the frequency hopping mechanism to dynamically select a suitable channel. Channel scanning will be performed before frequency hopping. Channel scanning interval is a ﬁxed number of beacon intervals. DCSS creates a history channel state table to record the historical state of each channel and estimates the channel interference degree for each channel to calculate the X value. The X value represents the channel interference degree and is used to select the next transmission channel.
IEEE 802.15.6 speciﬁcation clearly deﬁned that if the channel has been occupied for a while, it has to hop to another channel. It uses a ﬁxed number of beacon intervals to represent the hop interval. In other words, it also represents a ﬁxed number of superframes. The longest occupied time of the channel cannot exceed more than 5 seconds. In this paper, channel scanning is performed before frequency hopping, and energy detection (ED) is applied to each channel. By this way, it detects the energy value of the received interference and noise where γI represents the power sum of receiving interference and noise, shown in Equation (1).

γI = γother + γnoise.

(1)

γother represents that the sensor node of W BANi receives power value from sensor nodes of W BANj. γnoise represents that the sensor node of W BANi receives the power value of the channel noise. γi,min represents the minimum power value of the sensor node in W BANi.
DCSS records the channel interference degree represented by ID. γi,min ≥ γI means that the received power from the sensor node is greater than or equal to the channel interference

403

and noise. The channel interference is low so that the channel is suitable to transmit data. Thus, the channel interference degree is zero (i.e., ID = 0). γi,min < γI means that the channel interference and noise will affect the data transmission of the sensor node. The extent of the impact depends on the power gap. γi,min − γI = -15 dBm, -13 dBm, -11 dBm, -9 dBm, -7 dBm , -5 dBm, or -3 dBm, where they correspond to ID = 1, 2, 3, 4, 5, 6, 7 or 8. The greater ID value is, the greater the channel interference impact will be. Whereas the smaller ID value, the more suitable for transmitting data in the situation will be.

For E(IDk), the larger the value is, the larger the average channel interference from the past to the current will be. On the contrary, the smaller the value is, the lower the average channel interference will be. However, channel is difﬁcult to predict. Thus, only to calculate the average channel interference degree is not enough. The standard deviation SD(IDk) is derived by E(IDk) as shown in Equation (3).

SD(IDk) =

HWmax (IDkHW − E(IDk))2 .

HW =1

H Wmax

(3)

TABLE I: History channel state table

X

History Channel State(IDk) 1 2 3 ... HWmax

Channel 1 x1 4 6 4

6

Channel 2 x2 3 4 4

3

Channel 3 x3 1 1 3

2

...

...

Channel K xk 3 2 5

3

In this paper, we establish a history channel state table (HCST) as shown in Table I. After a ﬁxed number of superframes, channel scanning is conducted, ID value and X value of each channel are calculated, and then HCST is updated. The kth channel interference degree is denoted by IDk, where 1 ≤ k ≤ K. K is the total number of channels. History window size is denoted by HW , 1 ≤ HW ≤ HWmax. HWmax is the maximum length of the window.
The historical status of the recorded channel in this table may be referred, and we calculate X value as the basis for frequency hopping selection. Therefore, the greater HWmax value represents the reference time is longer from the past history in the table. However, the previous channel status may not be worth. Contrarily, if the HWmax value is set to too small and the channel may show an unstable state.
However, channel is difﬁcult to predict. Thus, if the channel record is referred during short time, it cannot determine the channel interference state. It easy misjudges the channel state and then transmits data in the dirty channel. Therefore, based on the channel state at different time intervals, we give different weight X values to calculate the basis for frequency hopping selection.
Frequency hopping is based on the X value. The calculation of the X value considers the magnitude of channel change and the channel interference degree. Firstly, the average channel interference degree records weighted moving average (WMA) of ID value in kth channel [5] denoted by E(IDk), shown in Equation (2), where IDKHW denotes the ID value of kth channel is recorded in HW . The ID values of different time intervals are given different weight values, where W = . (1+H Wmax )∗H Wmax
2

E (I Dk )

=

H Wmax HW =1

(HW/W ) ∗ IDkHW H Wmax

.

(2)

If this value is larger, the channel state will be more unstable and channel interference variation will be greater. On the contrary, the channel may be a high stable or low interference environment. Thus, we use E(IDk) and SD(IDk) as a basis to select the suitable channel. For data transmission, the ideal channel is low interference and the channel state is stable. Thus, the channel of lower E(IDk) and SD(IDk) values has to be selected. Two values are used to calculate the X value. For ease of calculation, ﬁrst, E(IDk) and SD(IDk) are normalized as shown in Equation (4) and (5).

E (I Dk )

=

E(IDk) − E(IDk)min , E(IDk)max − E(IDk)min

0 ≤ E(IDk)

≤ 1,

(4)

where 0 ≤ E(IDk) ≤ 8.

S D(I Dk )

=

SD(IDk) − SD(IDk)min , SD(IDk)max − SD(IDk)min

(5)

0 ≤ SD(IDk) ≤ 1,

where 0 ≤ SD(IDk) ≤ 4.
As a result, we use X as the basis for frequency hopping selection. The xk denotes the X value of kth channel, xi ∈ X and is equal to E(IDk) value plus SD(IDk) value as shown in Equation (6).

xk = E(IDk) + SD(IDk) , 0 ≤ xk ≤ 2.

(6)

The smaller xk is, the lower the interference degree of kth channel will be. The channel interference variation is more stable. Thus, the channel with the smallest xk will be the destination channel for the frequency hopping. IEEE 802.15.6 frequency hopping mechanism clearly deﬁned that channel separation must be followed when the next channel is selected to transmit data. The frequency is divided into several channels, and adjacent channels cause frequency overlap. In other words, the interference may be caused by adjacent channels. Thus, we use frequency hopping selection to select the destination channel, which has interval of two channels for the current channel at least. When the gap of channels is larger or equals the interval of two channels, the channel is interfered by adjacent channels is relatively small.

404

IV. SIMULATION RESULTS

We use OMNeT++ to conduct the simulation, and Table II [6] [7] [8] [9] and Table III [9] are used to set the simulation parameters. The delay time has to be less than 250 milliseconds. The simulation time is set to 5000 superframe duration (i.e., 600,000 slots), and each simulation result is obtained from averaging the results of ten independent simulations.

TABLE II: Sensor nodes parameters

Data rate Latency Accuracy(bits) Priority

ECG
2.4 Kbps <250 ms
12 7

Glucose Monitor 1 Kbps <250 ms
16 7

Blood Pressure 1.2 Kbps <250 ms
8 5

Temperature
1.2 Kbps <250 ms
8 5

Fig. 2: Channel separation

For instance, the total number of channels is assumed as 10 and the channel number is from 1 to 10 as shown in Fig. 2. Cc denotes channels are used currently. Cnext denotes channels are used to transmit data in the next time. However, in order to select the suitable channel, we have to consider channel separation and avoid the interference from adjacent channels. When a channel C4 is selected to perform frequency hopping, adjacent channels C3 and C5 are not allowed to be selected as the destination channel. The other channels can be selected for frequency hopping. Under this rule, a DCSS is proposed in this paper, and it can reduce the number of transmission failures due to the channel interference and approach the QoS requirement in a high interference and noisy environment. The frequency hopping scheme is shown in Algorithm 1.

Algorithm 1 Frequency hopping scheme

Input: channel index k, c, number of channels K, current

channel Cc

Output: next channel Cnext

1: Initial: Cc is random generating

2: xmin = 0

3: for k = 1 to K do

4: Estimates the received interference signal power γI

5: Calculates the value of xk

6: Updates history channel state table

7: if |c − k| ≥ 2 then

8:

if xmin = 0 then

9:

xmin = xk

10:

Cnext = Ck

11:

else if xmin > xk then

12:

xmin = xk

13:

Cnext = Ck

14:

end if

15: end if

16: end for

TABLE III: Simulated environmental parameters

Number of WBANs Number of sensors Superframe length CSMA slot length pCCATime pCSMAMACPHYTime SIFS TX Power RX sensitivity Bandwidth Data rate Number of channels

Parameter 10 4 200 ms pCCATime + pCSMAMACPHYTime 63 / Symbol Rate 40 µs 75 µs -15 dbm -87 dbm 2400 - 2483 MHz 971.4 Kbps 10 - 79

The goals of the proposed DCSS improve the QoS violation ratio in a high channel interference and meet the QoS requirement. The QoS violation ratio, which is how many frames violate the QoS requirement for each sensor node under the channel interference. Thus, we use two main metrics in this paper in terms of the QoS violation ratio and the energy consumption.

0.6

0.56961

0.5

QoS Violation Ratio

0.4

0.3

0.28053

0.2

0.1

0 Dynamic channel hopping Random channel hopping

Fig. 3: Comparison of the QoS violation ratio of dynamic and random channel selection

405

Energy Consumption (mWatt)

20

16.4149

16.4147

15

10

5

0 Dynamic channel hopping Random channel hopping
Fig. 4: Comparison of the energy consumption of dynamic and random channel selection
To highlight the dynamic channel selection, we show the compared results for the dynamic channel selection and the random channel selection, as shown in Fig. 3. In the QoS violation ratio, using the dynamic channel selection is better than using the the random channel selection scheme 28.908%. In addition, the energy consumption of the dynamic channel selection is higher than that of the random channel selection 0.00083%, as shown in Fig. 4. Because WBAN is low-power transmission protocol, it has to listen to all channels to obtain the channel interference degree. The interference information, which is used to calculate X value for frequency hopping selection, is recorded in the history channel state table. In brief, DCSS shows the lowest QoS violation ratio but pays 0.00083% the energy consumption higher than the random channel selection. Therefore, DCSS can effectively transmit the frame to meet the QoS requirement under the high channel interference. In other words, DCSS transmits emergency data in time and reliably.
V. CONCLUSION
This paper focuses on patients having chronic diseases to wear monitoring equipment and collect physiological information under medical emergency or post-disaster conditions. As a result, the number of WBANs and the trafﬁc of emergency data will increase signiﬁcantly. Thus, a large number of WBANs coexistence cause the problem of the high channel interference. In this case, it results longer the transmission delay for transmitting emergency data. DCSS refers to the change of the historical state of the channels to assess the best transmission channel and to reduce the channel interference because of a large number of WBANs coexistence. From the simulation results, DCSS effectively improves the QoS violation ratio.
ACKNOWLEDGMENT
The authors would like to thank the Ministry of Science and Technology, Republic of China (Taiwan), for ﬁnancially supporting this research under Contract MOST 107-2221-E005-024, 107-2218-E-005-021, and 107-2221-E-146-003.

REFERENCES
[1] D. of the Interior Statistics website, “summary analysis of simple life table in 2015,” https://www.moi.gov.tw/chi/chi site/stat/chart.aspx, 2015, [Online; accessed 2018-07].
[2] N. D. Committee, “status and trends of global population aging,” https://www.ndc.gov.tw, [Online; accessed 2018-07].
[3] A. Samanta, S. Misra, and M. S. Obaidat, “Wireless body area networks with varying trafﬁc in epidemic medical emergency situation,” in Proceedings of IEEE International Conference on Communications, Jun. 2015, pp. 6929–6934.
[4] “IEEE Standard for Local and Metropolitan Area Networks—Part 15.6: Wireless Body Area Networks,” IEEE Standard 802.15.6-2012, pp. 1– 271, Feb. 2012.
[5] “Moving average,” https://en.wikipedia.org/wiki/Moving average, [Online; accessed 2018-07].
[6] B. Latre´, B. Braem, I. Moerman, C. Blondia, and P. Demeester, “A survey on wireless body area networks,” WIRELESS NETWORKS, vol. 17, no. 1, pp. 1–18, Jan. 2011.
[7] S. Misra and S. Sarkar, “Priority-based time-slot allocation in wireless body area networks during medical emergency situations: An evolutionary game-theoretic perspective,” IEEE Journal of Biomedical and Health Informatics, vol. 19, no. 2, pp. 541–548, Mar. 2015.
[8] H. W. Tseng, R. Y. Wu, and Y. Z. Wu, “An efﬁcient cross-layer reliable retransmission scheme for the human body shadowing in IEEE 802.15. 6-based wireless body area networks,” IEEE Sensors Journal, vol. 16, no. 9, pp. 3282–3292, May. 2016.
[9] G. T. Chen, W. T. Chen, and S. H. Shen, “2L-MAC: A MAC protocol with two-layer interference mitigation in wireless body area networks for medical applications,” in Proceedings of IEEE International Conference on Communications, Jun. 2014, pp. 3523–3528.

406

