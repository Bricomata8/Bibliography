An Improved Mobility Support Mechanism for Downward Traffic in RPL

Soon-Woong Min
Department of Electrical, Electronic and Computer Engineering Pusan National University Busan, South Korea soonwoongmin@pusan.ac.kr

Sang-Hwa Chung
Department of Electrical, Electronic and Computer Engineering Pusan National University Busan, South Korea shchung@pusan.ac.kr

Yu-Vin Ha
Department of Electrical, Electronic and Computer Engineering Pusan National University Busan, South Korea yoobin1013@naver.com

Abstract—With the diversification of industrial IoT applications, there is a growing demand for mobility support in industrial wireless network environments such as smart grid and smart factory. However, the RPL (Routing Protocol for Lowpower and Lossy Network), an IETF standard for LLN (Lowpower and Lossy Network), which is mainly used in industrial applications, is designed based on static environments. In this paper, we discuss the problems caused by mobile nodes in RPL, and propose a mechanism to support mobility for downward traffic in RPL. Based on the simulation results, the proposed mechanism shows higher reliability and lower transmission delay compared with the original RPL.
Keywords—WSN, RPL, Mobility, Downward Traffic, IoT, IEEE802.15.4
I. INTRODUCTION
Along with Industry 4.0, a lot of technologies are getting attention for upgrading manufacturing plants such as industrial IoT, CPS (Cyber-Physical System), and Digital Twin. These techniques are commonly based on data collected from a large number of sensors installed in industrial sites. Industrial wireless communication technology is a key technology for connecting a large number of sensors in a new plant paradigm
(e.g. mobile sensing and smart devices for workers, mobile robots, diversified small-quantity production, etc.)[1].
WSN (Wireless Sensor Network) is one of the most used wireless network technologies, and efforts to apply them to the industry have been going on for about 10 years. RPL has been standardized by the Internet Engineering Task Force (IETF) for the LLN environment. RPL is a routing protocol for IPv6 that provides multi-hop connectivity for many battery-powered embedded wireless devices for data transmission and communication.
The demand for connectivity and mobility between operators and devices, devices and devices in industrial environments such as smart grid and smart factory, in addition in health care and military fields has been continuously increasing[2]. Routing protocols for mobile ad hoc networks such as AODV and DSR are efficient for mobility support but are not suitable for industrial LLN environments because of frequent route discovery and high maintenance overhead.
RPL is suitable for LLN environment, but it is designed based on static environment. Therefore, it requires a mechanism to deal with mobility. Also, RPL is a tree topology protocol that has the main purpose of data collection, but there

are also downward traffic such as P2P communication, AMI configuration, and actuating. Upward traffic can reach the sink node with the optimal path through sending the packet to their parent, but in case of downward traffic, because routing path is constructed from DAO message, it is less reliable than upward traffic. Furthermore, the reliability of downward traffic in an environment where mobility exists is remarkably low. Most recent RPL mobility studies have focused on parental selection when moving[3], and there is lack of research on downward pathway recovery.
In this paper, we propose a mechanism for mobility support with improved downward traffic reliability and transmission delay in RPL and perform performance evaluation by simulation.
II. BACKGROUND
RPL forms a tree-based DODAG (Destination Oriented Directed Acyclic Graphs) and aims to establish a seamless network through routing. DODAG is composed of OF (Objective Function) which calculates the relative distance from the root, and a separate OF can be used to meet the QoS required for each network situation. The DODAG consists of control messages; DIO, DAO, and DIS[4].
 DIO(DODAG Information Object): Nodes in the DODAG periodically transmit DIO messages to inform their network information. Each node obtains the upward traffic information from DIO message, chooses i t s parent based on t h e DIO information, and participates in the network. And then, the node reconstructs a DIO message based on the modified information and send it to neighboring nodes.
 DAO(Destination Advertisements Object): By storing the location information of each node in the DAO and transferring it to the root, the root node knows the downward routing information. In non-storing mode, all nodes send a DAO message to the root node, and the root node has responsibility for all downward traffic routing like centralized routing protocol. In storing mode, on the other hand, DAO is sent only to each parent to handle the routing path to the child.
 DIS(DODAG Information Solicitation): A DIS message is a control message requesting a DIO message. Use when a node wants to join the network or needs to update the route.

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

311

XXX-X-XXXX-XXXX-X/XX/$XX.00 ©20XX IEEE

ICUFN 2018

Fig. 1. RPL DODAG Construction in non-storing mode: (a) Routing path from node C to node D. (b) After node D moves, the DODAG path recovery process. (c) Routing path from node C to node D after complete DODAG recovery process. (d) Routing path from node C to node D in proposed mechanism.

III. MOTIVATION
RPL is designed for a static environment and does not focus on the characteristics of mobility. Also, a mobile node cannot act as a parent node but acts as a child. The upward traffic of a mobile leaf node is only forwarded to its parent. On the other hand, in the case of the downward traffic toward the mobile leaf node, when the mobile node moves, the original routing information for the mobile node becomes invalid. Therefore, packet loss occurs until the routing information is updated through the DAO message.
Fig. 1.(a) shows the DODAG configuration and the routing path when downward traffic exists toward a node that has mobility in the non-storing mode. If node C sends a packet to node D, it forwards the packet to the root node for source routing. The root node checks the destination information about the packet in its routing table and sets the entire path. That is, the packet of node C arrives at D via A-B node. In a stationary environment, there is no loss for downward traffic, but a problem occurs when a node moves like node D.
When the node D is out of the TX range of the node B as shown in Fig. 1.(b), the routing information for the node D recorded in the network is invalid, and a packet loss occurs. In the case of node D, due to a communication failure to node B, a DIS message is broadcasted to surrounding nodes to select a new parent. The mobile node D can select a new preferred parent from DIO messages responded with the DIS message. After selecting the parent, the mobile node sends a DAO message to the root node to update the route.
Fig. 1. (c) shows the routing path from node C to node D after node D selects the new parent and updates the route path by transmitting the DAO message to the root. Packet loss occurs until a new parent is selected due to the movement of node D and the routing path to node D is updated via DAO.
IV. IMPROVED MOBILITY SUPPORT MECHANISM
In this paper, we propose a mechanism to enhance the reliability and reduce transmission delay of downward traffic under a mobility environment by using the fact that a mobile node with continuous motion shows locality, and a newly selected parent node and the previous parent node are most likely to be neighbors[5].

Fig. 2. Packet structure of DAO messages with mobility flag.
When a mobile node joins network, it informs its parent that it is a mobile node by setting the mobility_flag in the DAO message as shown in Fig. 2. Then the parent node can provide a different downward routing service to the mobile node and react more sensitively than the case of a normal node. The parent n o d e identifies the mobility of the node from the DAO message and stores information about the mobile node in the mobility table for post-management.

When the downward packet loss occurs through the node's movement, the new parent is highly likely to be the old parent's neighbor. So the old parent broadcasts the packet to neighbor nodes. Then the new parent can receive the broadcasted message, and sends the packet to the mobile node. Algorithm1 represents the retransmission mechanism when downward packet loss occurs. If ACK is not received for the downward packet destined for the mobile node, it is checked the destined node's mobility from the mobility table. If it is the mobile node and it is greater than the defined transmission trial number, old parent broadcasts the packet so that all neighboring nodes can receive it. Fig. 1.(d) shows routing path from node C to node D in proposed mechanism.

Algorithm 1. Transmission phase

1 : Packet_sent_noack()

2 : If(check_mobility_table(packet→destination_IP)

==TRUE) then

3:

If(packet→NumOfTransmission

> Mobile_Max_Transmission) then

4:

Packet→next_hop_mac_addr = Broadcast addr

5:

Send(packet)

6

Else if(packet→NumOfTransmission

≤ Mobile_Max_Transmission) then

7:

Packet→NumOfTransmission++

8:

Retransmission(packet)

9:

End if

10: End if

12: …

312

The new parent node recognizes the needed information to transfer from the DIS of the mobile node to the mobile node. The persistent DIS transmission of the mobile node leads to an overhead’s increase. But it is required under mobility environment because the DIS message must be periodically transmitted to choose the new parent. Based on this information, the new parent node can forward the broadcasted downward packet from the old parent to the mobile node. Although a mobile node apart from old parent, this mechanism allows the mobile node to receive packets while searching new parent and reconstructing downward traffic path.
V. SIMULATION
Table 1 Simulation parameters.

Parameter Simulator Mac Protocol Mote Type Traffic Periodicity Mobile Node speed Pause Time

Value COOJA and ContikiOS[6]
CSMA Sky Mote
1s 3km/h 5 to 15 seconds (random)

Table 1 summarizes the simulation parameters. The nodes used in this experiment consist of one sink node, one sender node (downward traffic generator), one mobile node, and ‘n’ common nodes in the linear topology. Sender node transmits data to the mobile node every 1 second to generate downward traffic. The mobility of the mobile node is specified based on the speed of the worker. Deployment of nodes and mobile node's mobility operate randomly. The experiment was simulated for 5 minutes and the average value of the 10 experiments was measured.
Fig. 3. shows the packet reception ratio between the RPL and the proposed technique, IM-RPL (Improved MobilityRPL). Since the RPL isn’t designed to take the mobility into account, the PRR for the environment in which mobility exists is low and the result has remarkably decreased as the number of nodes increases. In the case of IM-RPL, on the other hand, it is more reliable than the RPL since the packet is transmitted through the neighboring node. Even though the number of nodes has increased, it was confirmed that the PRR is over 60%.
Fig. 4 shows the measured transmission delays in RPL and IM-RPL as the mobile node moves. The RPL measures the time from when the packet loss occurs from the old parent

Fig. 3. End-to End packet reception ratio to mobile node for RPL and IM-RPL.

Fig. 4. Transmission delay to mobile node for RPL, IM-RPL.
node to the mobile node until the mobile node receives the downward packet after recovering the path through the new parent. As the number of nodes increases in RPL, the time for path recovery through control messages also increase rapidly as well. On the other hand, in the case of IM-RPL, since the packet is transmitted through the broadcast to the neighboring node, it has low transmission delay than RPL because the data can be continuously received even though the number of nodes has increased. As the number of nodes that are neighbor with the old parent of the mobile node and received the DIS message from the mobile node increases, the number of packets transmitted to the mobile node increases. It may cause network congestion.
VI. CONCLUSION
In this paper, we propose a mechanism to improve the reliability of downward traffic under mobility environment and the experiment result shows higher reliability and lower transmission delay compared to RPL. IM-RPL can work independently from other mechanisms in the RPL mobility field, which has been actively researched recently, and it is also possible to combine with other technologies. In future experiments, we plan to evaluate the performance of the proposed algorithm combined with the recently studied mobility technique.
ACKNOWLEDGMENT
This research was supported by the MSIP(Ministry of Science, ICT and Future Planning), Korea, under the Grand Information Technology Research Center support program (IITP-2017-2016-0-00318) supervised by the IITP(Institute for Information & communications Technology Promotion).
REFERENCES
[1] Li, Xiaomin, et al. "A review of industrial wireless networks in the context of industry 4.0." Wireless networks 23.1 (2017): 23-41.
[2] D. Zuehlke, "Smartfactory–towards a factory-of-things", - Annual Reviews in Control, Elsevier (2010): 129-138.
[3] Kamataka, Surathkal "Enhanced mobility aware routing protocol for Low Power and Lossy Networks",Springer (2017): 1-15.
[4] T. Winter et al., "RPL: Routing Protocol for Low Power and Lossy Networks" RFC 6550, (2012): [Online]. Available: http://tools.Ietf.org/ html/rfc6550.
[5] Robert castaneda, "Query localization techniques for on-demand routing protocols in ad hoc networks" ACM/IEEE MOBICOM ’99, (1999): 186194.
[6] ContikiOS. [Online]. Available: http://www.contiki-os.org/start.html.

313

