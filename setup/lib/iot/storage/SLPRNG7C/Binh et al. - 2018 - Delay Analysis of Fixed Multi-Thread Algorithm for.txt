Delay Analysis of Fixed Multi-Thread Algorithm for DBA in Long Reach PON

Nguyen Khac Binh, Byeong-ho Kang, and Su-il Choi
School of Electronics and Computer Engineering Chonnam National University
300 Yongbong-dong, Buk-gu, Gwangju, 500-757 Korea nkbinh007@naver.com, 888pp@naver.com, sichoi@chonnam.ac.kr

Abstract—Long-Reach PON (LR-PON) is a broadband access network using passive optical network (PON) technology which the reach is extended to 100 km or higher. A major challenge in LR-PON is that the propagation delay between OLT and ONUs is increased by a very significant amount. We analyze the delay performance of fixed multi-thread algorithm, which is simple and efficient, for dynamic bandwidth allocation in long reach PON. Especially, the average packet delay of the expedited forwarding (EF) traffic class is analyzed. This performance analysis reveals that fixed multi-thread algorithm for DBA in long reach PON provides predictable packet delay and improved jitter performance for the EF traffic class without the influence of load variations.
Keywords— Broadband access network; long reach PON (LRPON); multh-thread algorithm; dynamic bandwidth allocation
I. INTRODUCTION
Passive optical network (PON) has become the vital technology for the next generation access network. Ethernet based PONs are cost effective broadband access networks, whose span is 10 ~ 20 km. With the extensive deployment of the short range PONs, current research attentions have shifted to increase the fiber distance that is longer reaches and higher split ratios. Nowadays, the distances between OLT and ONUs are extended from 20 km up to 100 km by deploying advanced components, e.g., optical amplifiers. These extended solutions are referred as Long-Reach PON (LR-PON) [1]. The LR-PON is comprised of an optical line terminal (OLT) residing in the central office (CO) and multiple optical network units (ONUs) near the subscribers’ location.
Transmissions in a LR-PON are performed between the OLT to the ONUs. In the downstream direction, the Ethernet frames are broadcast by the OLT and are selectively received by each ONU. In the upstream direction, all of the ONUs must contend for a shared capacity link. Therefore, it operates as point-to-multipoint network in the downstream direction, and multipoint-to-point network in the upstream direction, as in a traditional PON. In order to achieve statistical multiplexing in the EPON architecture, the IEEE 802.3ah standard has developed a multipoint control protocol (MPCP). The MPCP specifies that the control mechanism between the OLT and ONUs in order to allow the efficient transmission of data.
One of the main challenges is dynamic bandwidth allocation (DBA) algorithm between the OLT and ONUs. The

traditional DBA algorithms designed for short range PONs cannot be applied for the LR-PON because of the much longer round trip time (RTT) delays between the CO and ONUs [2][5]. Several multi-thread polling based DBA algorithms for LR-PON are proposed to achieve better performance in packet delay [6]-[7]. We proposed fixed multi-thread polling algorithm for DBA in long reach PON [8].
In this paper, we analyze the delay performance of fixed multi-thread algorithm, which is simple and efficient, for dynamic bandwidth allocation in long reach PON. The rest of this paper is organized as follows: Section II shows the fixed multi-thread algorithm and a DBA scheme that has improved performance in packet delay. Section III shows the delay analysis of fixed multi thread algorithm for DBA in long reach PON. Final conclusions are covered in Section IV.

II. FIXED MULTH-THREAD ALGORITHM

To allocate bandwidth to each ONU, two control messages, GATE and REPORT, are used. Fig. 1 shows fixed multi-thread polling algorithm, which has fixed polling cycle time, for DBA in long reach PON. Let the black “polling process” be that of the traditional (single-thread) PON. When a packet arrives at ONU, the packet delay dm in multi-thread polling is

dm = dm_poll + dm_grant + dm_queue

(1)

where dm_poll is the time between packet arrival and the next REPORT sent by that ONU, dm_grant is the time interval between ONU’s request for a time slot till the grant from OLT is received, and dm_queue is the queuing delay after appropriate grant from OLT arrives.
To support class of service (CoS), we classify services into three priority categories: Expedited forwarding (EF), Assured

Fig. 1. Fixed Multi-thread polling scheme

978-1-5386-4646-5/18/$31.00 ©2018 IEEE

580

ICUFN 2018

forwarding (AF), and best effort (BE). Let us define:
Ri,n: requested bandwidth for ONUi in thread n, 1 ≤ i ≤ N, 1 ≤ n ≤ J;
Bi,n: granted bandwidth for ONUi in thread n;
Tcycle: cycle time of a thread.
The total available upstream bandwidth Btot is determined as

Btot  (Tcycle  N Tg )C

(1)

where C is the link capacity of the OLT and Tg is the guard time. The granted bandwidth for EF and AF traffic classes is determined as

  Bi,n



min

REF i,n



R AF i,n

,

Bi,min

(2)

where Bi,min is the minimum guaranteed bandwidth of ONUi for

EF and AF traffic classes. The unassigned bandwidth of

heavily loaded ONU is added to the requested bandwidth of

best

effort

for

ONUi,

R BE i,n

.

The

aggregation

of

space

capacity

after assignment of bandwidth for EF and AF traffic classes

forms a total excess bandwidth

 Bexcess  Btot 

B N
i1 i,n

(3)

This excess capacity can be distributed for BE traffic classes of every ONUs, and we exploit the excess bandwidth as follows:

 Bi,n





Bexcess 

R BE i,n

/

R N BE
i1 i,n

(4)

III. DELAY ANALYSIS OF FIXED MULTI-THREAD ALGORITHM
To show the delay performance of the fixed multi-thread based DBA scheme, we conducted a simulation with an LRPON access network model, which consists of one OLT and 16 ONUs. The distance from the OLT to any ONU is equal to 100 km. The link rate between the OLT and the ONU is 1 Gb/s, with the rate from the end user to the ONU at 100 Mb/s. The scheduling cycle time of single-thread CPBA is 2 ms, and the
guard time is set to 1 μs. The default simulation parameters are

Table. 1. Simulation parameters for LR-PON
Parameters Number of ONUs, N Number of Classes of Service Line rate of the ONU link
EPON line rate Distrance between the OLT and
ONUs Guard time
Network traffic
Maximum polling cycle time, Tcycle Number of threads

Value 16 3
100 Mbit/s 1 Gbit/s
100 km
1 us Pareto distribution
2 ms 2

100 BE AF EF
10-1

LR-PON (100km)

Delays

10-2

10-3

10-4

0

0.2

0.4

0.6

0.8

1

Offered Load

Fig. 2. Average packet delay of traffic classes for fixed multi-thread based DBA for LR-PON

summarized in table 1.

Fig. 2 shows the average packet delay of each traffic class when the fixed multi-thread based DBA algorithm in LR-PON with 100 km span. Two threads are used for multi-thread DBA schemes. The simulation results show that multi-thread DBA schemes have better performance than single-thread DBA schemes. Also, the average packet delay of the EF traffic class is constant with various offered ONU loads.

The packet delay is defined as the time between packet arrival and packet departure in the queue of an ONU. The advantage of fixed multi-thread based DBA scheme is the constant and predictable average EF packet delay as shown by dm_poll/2 without the effect of the ONU load variation. When the scheduling frame size is set to 2 ms, the proposed scheme provides an average EF packet delay of 1 ms.

The packet delay variation, known as jitter, can be divided into two categories, intrawindow jitter and interwindow jitter [9]. Since EF traffic is non-bursty, it is reasonable to assume that the inter-arrival time of two successive EF packets is greater than the transmission time of the first EF packet as seen by the ONU. Hence the intrawindow jitter is defined as the packet delay variation of two consecutively departed EF packets from the same ONU in the same transmission window. The interwindow jitter is the variation of the first packet delay between two consecutive transmission windows. The interwindow jitter between the i-th window and (i-1)-th window, , is formulated by:

Ji = di1 – d(i-1)1

(5)

where di1 is the first packet delay within the i-th window. The interwindow jitter consequently maps the distribution property of the total EF delay sequence for the ONU. EF packets with more fluctuation in their interwindow jitter tend to be continuously overdelayed or underdelayed, in respect to their mean value, and thus the total EF delay sequence appears to be more dispersed. Conversely, less fluctuation in the interwindow jitter tends to keep the EF packet delay distributed evenly around their mean value and the total EF delay sequence more centralized.

581

PDF of EF packet delay 0.4
load=0.1 load=0.5 load=0.95
0.3

Probability

0.2

0.1

0

0

1

2

3

4

5

Packet delay (ms)

x 10-3

Fig. 3. The PDF of the firstAverage packet delay of traffic classes for fixed multi-thread based DBA for LR-PON

When a fixed multi-thread based DBA algorithm is applied for simulation, Figure 3 shows the PDF of the first departed EF service packet delay of all the ONUs at light (10%), medium (50%), and heavy loading (95%) scenarios. The EF packet delay sequence centers at 0.9 ms for the proposed DBA with 2ms cycle time scheme. Note that the load variation has no effect on the EF packet delay. The fixed multi-thread based DBA scheme provides a predictable EF packet delay and an improved jitter performance as compared to the conventional DBA scheme.

IV. CONCLUSION
In this paper we analyzed the delay performance of the EF service packet using fixed multi-thread based DBA scheme for differentiated classes of service in long-reach PON, which has increased round-trip time (RTT) between the OLT and ONUs. The variable multi-thread based DBA scheme shows good delay performance at light load scenario, but has dispersed and deteriorated jitter performance at medium load and load

variation scenarios. However, fixed multi-thread based DBA scheme provides a constant and predictable EF packet delay and shows more centralized distributions.
ACKNOWLEDGMENT
This research was supported by the MSIT(Ministry of Science and ICT), Korea, under the ITRC(Information Technology Research Center) support program(IITP-20182016-0-00314) supervised by the IITP(Institute for Information & communications Technology Promotion).
REFERENCES
[1] I. Van de Voorde, et al., “Network topologies for SuperPON,” in Proc. OFC, 1997.
[2] G. Kramer, B. Mukherjee, and G. Pesavento, “IPACT: A dynamic protocol for an ethernet PON (EPON),” IEEE Commun. Mag., vol. 40, no. 2, pp. 74-80, Feb. 2002.
[3] C. Assi, Y. Ye, S. Dixit, and M. Ali, “Dynamic bandwidth allocation for quality-of-service over Ethernet PONs,” IEEE J. Select. Areas Commun., vol. 21, no. 9, pp. 1467-1477, Nov. 2003.
[4] S.I. Choi, “Cyclic polling-based dynamic bandwidth allocation scheme for differentiated services in Ethernet passive optical networks,” Photonic Network Commun., vol. 7, no. 1, pp. 87-96, Jan. 2004.
[5] S.I. Choi, “An analysis of the delay and jitter performance of DBA schemes for differentiated services in EPONs,” J. Opt. Soc. Korea, vol. 13, no. 3, pp. 373-378, Sep. 2009.
[6] H. Song, B.-W. Kim, and B. Mukherjee, “Multi-thread polling: a dynamic bandwidth distribution scheme in long-reach PON,” IEEE J. Select. Areas Commun., vol. 27, no. 2, pp. 134-142, Feb. 2009.
[7] J. Ahmed, J. Chen, and L. Wosinska, “Efficient inter-thread scheduling scheme for long-reach passive optical networks,” IEEE Commun. Mag., vol. 51, no. 2, pp. S35-S43, Feb. 2013.
[8] S.I. Choi and J. Kim, “Fixed multi-thread polling based dynamic bandwidth allocation in long-reach PON,” Journal of Digital Contents Society, vol. 18, no. 6, pp. 1207-1211, 2017.
[9] A. Shami, X. Bai, C. Assi, and N. Ghani, “Jitter performance in Ethernet passive optical networks,” Journal of Lightwave Technology, vol. 23, no. 4, pp. 1745-1753, 2005.

582

