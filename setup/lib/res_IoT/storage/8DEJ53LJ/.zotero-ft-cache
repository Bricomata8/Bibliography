2015 IEEE 18th International Conference on Intelligent Transportation Systems

Vulnerable Road Users Detection using V2X Communications
José J. Anaya, Edgar Talavera, David Giménez, Nuria Gómez, Felipe Jiménez and José E. Naranjo, IEEE Member

Abstract—Vehicle to vehicle (V2V) communications allow to sharing real-time information among the vehicles that circulate on the nearby road areas. These communications systems are today in an early stage of development and the effort are focused into two directions; on one hand, the development of the communications infrastructure to support the information exchange. On the other hand, the development of Advanced Driver Assistance Systems (ADAS) as well as safety systems that takes advantages of these communications. Additionally, the V2V communications systems are mainly focused to cars and trucks, showing less concern for Vulnerable Road Users, pedestrians, motorcyclists and cyclists. In this paper a novel ADAS is presented, focused to avoid accidents that involve motorcyclist and cyclists using V2V communications, incorporating them to the vehicular networking taking into account the intrinsic features of each collective and adapting to increase their safety.
I. INTRODUCTION
SAFETY systems in cars have changed a great in recent years with the development of Information and Communications Technologies. These systems applied to the transport sector, open up numerous application possibilities for improving road mobility. One of the key aspects that have been identified as maximum priority from the point of view of road safety is the reduction of accidents that involves Vulnerable Road Users (VRU), pedestrians, motorcyclist and cyclists. The accident rate of this collective is one of the few that are on the rise nowadays, with the social impact that entails. Thus, an average of 75 people die every day on Europe's roads and 750 seriously injured [1]. Vulnerable road users, pedestrians, cyclists and motorcycles represent an especially serious safety problem because they represent a disproportionately high percentage of the total number of fatalities and serious injuries. At the same time,

Manuscript received March 15, 2011. This work was supported by the

following projects: CICYT MESH-ITS (TRA2009-07505), CICYT

SAMPLER (TRA2010-0225-C03-03) and CICYT iVANET (TRA2010-

15645). The authors are part of the SEGVAUTO (Automotive Safety with

Special Attention to Reduced Mobility Users) Excellence Research

Network and members of the Technical university of Madrid’s research

group Intelligent Systems for Accessible Mobility and Communication

(SIMCA).

J.J. Anaya, E. Talavera, F. Jiménez, D. Giménez, N. Gómez and J. E.

Naranjo, are with the University Institute for Automobile Research

(INSIA), Campus Sur UPM, Carretera de. Valencia km. 7, 28031, Madrid

(e-mail:,

jjanaya.c@gmail.com,

c_freeman@hotmail.com,

felipe.jimenez@upm.es,

david.gimenez@alumnos.upm.es,

nuria.gomez@upm.es, joseeugenio.naranjo@upm.es)

policies and regulatory measures to improve the safety of these groups often involve a significant cost, and tend to be slow implementation. Therefore, in the field of transport research, there is the challenge of improving the safety of vulnerable road users through the development of technological tools that can be applied to reduce the number of accidents. In fact, in 2012 occurred in Spain 25,651 accidents involving motorcycles and 5,150 accidents involving cyclists, figures, far from diminishing, are increasing year after year [2]. Motorcycle drivers are guilty in only 5% of accidents are involved with other vehicles [3]. Among the causes of accidents not caused by motorists stand out those occurring in circulation in parallel with other vehicles, where motorcycles are not usually seen due to so-called "blind spot" rear view mirror, rear cashes to motorbikes by other vehicles and distraction of drivers of other vehicles. Similarly, the number of bicycle accidents in Spain in town is relatively low compared with neighboring countries and yet, road deaths of Spanish cyclists are at the head of Europe, being cars the cause many of these accidents, since neither moderate speed in overtaking or respect the lateral clearance, often due to the lack of visibility or distractions [4]. Nowadays there is a clear lack of technological solutions focused to reduce the accident number of this collective, and the only ones are expensive, intrusive and complex, requiring external power sources or devices, computers or interfaces. In fact, VRUs are not included in the current safety use cases of ITS [5]. In [6], Volvo presents a system to improve the safety in bikes, based on smartphones connected to a Bluetooth helmet, being necessary internet connection to include the GPS of the cyclist position in the cloud. Similarly, in [7] is presented a design of intelligent bike that includes batteries, actuators, communication modules, control units and displays. As mentioned in Tal et al. [8], is assumed that the only kind of bicycles suitable to equip V2X technologies are electric ones, due to energy requirements. On the European level, the project WATCH-OVER [9] focus on the development of ITS solutions for VRUs, including vehicular communications but mainly onboard sensors. These onboard sensors are mainly computer vision [10] or laser scanner [11] [12] and are limited to the visual horizon of the ego-vehicle. English OEM Jaguar recently published in press the developing of a detection system for

978-1-4673-6596-3/15 $31.00 © 2015 IEEE

107

DOI 10.1109/ITSC.2015.26

bicycles and pedestrians [13], which is able to detect this type of users using onboard sensors and to warn the driver via acoustic signals and vibration. In this paper we present a vulnerable road users detection system using V2X communications, focused to motorbikes and cyclists, and takes into account the specific characteristics of each kind of transport mean, including them in a soft way in the vehicular ad-hoc networks. A warning system has been implemented, supported by the detection system, able to inform the driver of the presence of a VRU in the proximities. This warning system has been tested in real situations including highway and rural roads. As additional feature, the presented system is compatible with INRIA pedestrian detection system using smartphones [14], what covers the full scope of VRUs. This work has been carried out in the University Institute of Automobile Research (INSIA) of the Technical University of Madrid (UPM)
II. THE V2X BASED VRU DETECTION SYSTEM
A. The Vehicular Ad-Hoc Network: devices and protocols
A Vehicular Ad-Hoc Network can be defined as a particular kind of mobile network where the nodes are vehicles or roadside access points, with no existing preestablished infrastructure, decentralized, self-organizing and that allows multihop data exchange. The communications made through a VANET, where the vehicle is the main information receiver and emitter, are commonly known as vehicle-to-X communications (V2X) [15].
V2X communications includes vehicle-to-vehicle, vehicle-to-infrastructure communications that are based on Dedicated Short Range Communications technology (DSRC) that manages the data exchange among the vehicles and the roadside, nodes of the VANET.
Each onboard or roadside communications unit is considered as an ITS station that must follow the same protocols and communication standards in order to guarantee the interoperability among nodes. Five standardization poles are active nowadays in order to define the different elements of the ITS communications architecture: the International Standardization Organization (ISO), the European Committee for Standardization (CEN), the European Telecommunications Standardization Institute (ETSI), SAE International, and the Institute of Electrical and Electronics Engineers (IEEE). In some cases, these institutions are linked to a determined geographical area, providing equivalent standards related to vehicular communications that are not harmonized in general.
Thus, each VANET node must contain a DSRC ITS station to provide vehicular network access. In our case, a DSRC ITS station has been developed at INSIA in order to provide this access, including the hardware, protocols and

software for applications. This INSIA ITS station follows present communications standards and provide V2X connectivity. In addition, a wide set of interfaces has been added to the platform to increase the connectivity functionalities: GPS, CAN bus, Bluetooth and WiFi.
In figure 1 is shown INSIA ITS station architecture following the OSI reference model adapted to support ITS communications, supporting various ETSI EN 302 363 standards. In our case we have selected the European family of standards (ETSI) at high level and IEEE family standards at low level in order to provide communication services.
Figure 1. INSIA ITS station communication stack model.
The different protocols used in the INSIA ITS station reference model are described next:
• ETSI EN 302 636-5-1: Intelligent Transport Systems (ITS); Vehicular Communications; GeoNetworking; Part 5: Transport Protocols; Sub-part 1: Basic Transport Protocol. Includes the basic network protocols for the ITS station architecture, including TCP.
• ETSI EN 302 636-4-1: Intelligent Transport Systems (ITS); Vehicular Communications; GeoNetworking; Part 4: Geographical addressing and forwarding for point-to-point and point-to-multipoint communications; Sub-part 1: MediaIndependent Functionality. Includes the definition of the Network level, including geographic addressing, for the ITS station architecture.
• IEEE 802.2 is the standard defining Logical Link Control (LLC), which is the upper portion of the data link layer for local area networks. The LLC sublayer presents a uniform interface to the user of the data link service, usually the network layer.
• IEEE 802.11 is the Standard for Information Technology - Telecommunications and information exchange between systems - Local and metropolitan area

108

networks – Specific requirements - Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY).
• IEEE 802.11p is an approved amendment to the IEEE 802.11 standard that defines enhancements to 802.11 required to support Intelligent Transportation Systems (ITS) applications.
This protocol stack has been implemented and installed into the INSIA ITS stations to guarantee the connectivity in the VANET.

B. VRU Detection System
1) Description Bikers and motorcyclists are two of the vulnerable road user collectives with less access to technological aids to improve their safety. In part, this fact is caused by the specific features of their vehicles, where the human body is the main part of the chassis and the possibilities to include additional equipment and user interfaces are very limited due the lack of space and power source as well as the small extra weight that can be carried by them. In this case, we have developed a VRU detection system specifically adapted to this collective and considering its limitations in order to be able to be used in real situations. Thus, the main priority of the detection system is to avoid the running over of the vulnerable. In consequence, the system is designed to maintain a unidirectional information flow between the vulnerable vehicle and the conventional vehicle, maintaining the non-vulnerable driver informed in real-time about the presence and location of the vulnerable users and warning it in the event of a possible accident. The basis of the system is the vehicular communications that allows maintaining an electronic horizon among road users, wider than visual horizon, much more limited, which is the cause of the most part of the accidents involving these collectives. This feature makes that the system is especially appropriate to run in rural or mountain roads that is where the accidents involving vulnerable are more usual [4]. 2) Architecture
As mentioned previously, the system architecture has been defined in order to adapt the equipment and resources in function of the kind of vehicle and the interaction capabilities of the driver. Thus, in figure 2 is shown the functional architecture of the VRU detection system.

Figure 2. Architecture of the VRU detection system
In this architecture, the vehicles that have own power source have installed a V2X communications unit that includes wide connectivity capabilities in order to supply of information the VANET. In this case, these vehicles are the car and the motorcycle. The warning system uses a smartphone as human machine interface using the app “MotoWarn”. This app connects to the V2X unit of the vehicle through WiFi and a TCP socket, and is able to retrieve the information about VRUs that are circulating on the VANET. With this information, the smartphone calculates the distance to the VRUs and the possibility of interaction, and warns the driver if necessary with a sound message as well as a representation in the screen of the position of the VRU referred to the car. The position information of the VRUs is supplied to the VANET in two ways; the motorcycle equips its own V2X unit and transmits the position and trajectory to the VANET using standard messages Single Hop Broadcast (SHB) at 1 Hz. These messages are received by the near cars and stored in the database of their V2X modules, identifying them as motorcycles. On the other hand, the bicycles are not able to equip complex equipment, being their communication capabilities reduced. In this case, we have decided to install an iBeacon as only onboard sensor. A iBeacon is a new class of low-powered, low-cost transmitters that can notify nearby Bluetooth LE devices of their presence. This device has a small size and has its own battery so is very appropriate to install it into a bicycle without affecting its usage. The iBeacon sends Bluetooth signals that can be received by the Bluetoth interface of the V2X units at a range of 50 meters. This means that a unit can detect bicycles at this distance and, once detected, include its information in the VANET to be used by any high level app that requires this data; in this case, the “MotoWarn” app.

109

Thus, the driver can be warned about the presence of VRUs in the proximities of his vehicle using a smartphone app that takes advantage of the available information of these users in the VANET, that also include data of bicycles that are not formerly part of the vehicular network.
3) Configuration Each of the operational functionalities is within a specific
range in order to avoid unnecessary warnings, on one hand, and take the maximum range of communications, on the other. Thus, the communication unit ITS INSIA has a range of over 300 meters, so that motorcycles moving in the vicinity will be connected to the vehicular network at that distance at least but which nevertheless is too far for start generating warnings to the driver because of the risk of saturation of information. Thus, for the motorcycle in the vicinity warning system has been established that the warnings to the driver through the application MotoWarn will be generated when the distance is less than 50 meters around the vehicle that equips the system. In addition to the longitudinal distance, the system will check the lateral distance from the vehicle, this is, checks the lane through which circulates the motorcycle in relation to the vehicle equipped, at an update rate of 1 Hz. Thus, in MotoWarn, is set a grid that has as its center the ego-vehicle and where the motorbike is located in one of its quadrants, to inform the driver. Specifically, we selected a grid of 5x5 with a size of 3x6 meters for the row where the vehicle is located and the 3x13.5 meters the others. This means that the system will warn the driver that there is a motorcyle in the vicinity when it is at least 30 meters from the vehicle and one of the two adjacent lanes or own. This grid is depicted in Figure 3.

Obviously, the goal is to warn about motorcycles

circulating in the blind spots or areas with bad visibility in

the same direction of travel, so the bikes oncoming or in a

different way are filtered by the system.

Furthermore, the motorcycle detection system is

combined with a bicycle detection system. In this case, the

operation and objectives are different because the equipment

added to the bicycles must be reduced avoiding to interfere

with the normal biking. Thus, bicycles are equipped with

iBeacons that continuously generate information which can

be read by any Bluetooth LE device, as INSIA ITS stations.

From this information we can obtain the ID of iBeacon, the

reception power (Tx_Power) and the indicator of received

signal strength (RSSI). With these data is possible, firstly, to

detect the presence of a bicycle within the range of iBeacon,

set at 50 meters (Figure 4). Second, by equation 1 [16], the

distance at which the cyclist is circulating is obtained.

RSSI = Tx _ Power +10 ⋅Y ⋅ log (distance)

(1)

Where Y is a constant related to the error multipath signal propagation, and that in the case of open space takes the value Y = 2.
With this configuration, the system will alert MotoWarn if when a cyclist is less than 50 meters from the vehicle, indicating also the distance with the messages: "In the Neighborhood", "Near" and "Danger".

3m

3m

3m

3m

3m

13.5 m 13.5 m
6m 13.5 m 13.5 m
Figure 3. Motorcycle detection grid of MotoWarn.

+2 lane left

+1 lane left

Ego-vehicle lane

+1 lane right

+2 lane right

Danger
Near Neighborhood
Figure 4. Bicycle warning system operative schema.
This mode of presentation of the information is necessary because the distance calculation fluctuates depending on many parameters and this prevents distracting the driver with confusing or misleading messages.
III. RELATED EXPERIMENTS Two trials have been performed in order to demonstrate the operation of the VRU detection system. Both tests were conducted on the UPM facilities of South Campus, under free traffic flow conditions, with a speed limit of 40 km/h. Also, we have used three INSIA’s instrumented vehicles. A

110

Mitsubishi iMiEV car equipped with a ITS communication module, a Kimco SuperDynk motorcycle equipped with a second ITS communication module and a bicycle equipped with an iBeacon. The MotoWarn application runs in the car and has been implemented on a smartphone Android.
The first test shows the performance of the detection system of a motorcycle when circulating in the neighborhood of the vehicle (figure 5).

120

CAR Route

MOTORCYCLE Route

70

Car Waypoints

Motorcycle Waypoints

Y (m)

20 t=11s
-30

t=11s

t=25s

t=30s t=33s t=25s t=30s t=33s

t=40s t=40s

t=56s t=56s

-80

-130 0

50

100

150

200

250

300

350

400

X (m)

Distance (m)

80 60 40 20 0 -20 -40
0

Warning

Distance No Warning

50

100

150

200

250

300

350

400

X (m)

Speed (km/h)

45

40

35

30

25

20

15

Car Speed (km/h)

10

5

Motorcycle Speed (km/h)

0

0

50

100

150

200

250

300

350

400

X (m)

Figure 5. Route car and motorcycle in the VRU detection system test.

In this figure, the trajectories of a car and a motorcycle equipped with communication modules and the MotoWarn application running in the car are represented (figure 5, top). These paths represent a maneuver where the motorcycle is traveling at speeds near 30 km/h and approaches to a vehicle traveling in the same lane and direction at speeds about 24 km/h (figure 5, bottom). When the distance between both vehicles is 30 meters, the motorcycle driver decides to overtake the car, executing this maneuver. In the graph are shown the positions of both vehicles in the same time points, detailing the approach and overtaking maneuvers. The MotoWarn application begins to alert the driver when the distance between the two vehicles is less than 30 meters (figure 5, center), about 25 seconds from the beginning of the test. From that moment, the application shows to the driver of the car the exact location of the motorcycle, even if this is in a blind spot, thus avoiding a possible accident. Figure 6 shows the sequence of warnings generated by the application screen is displayed.

Figure 6. Sequence of the screens shown by the MotoWarn app during the first test.

The second test shows the performance of the system when there is a bicycle in the vicinity of the vehicle, which is on the same path of the car in the same direction (Figure 7). Thus, in this test we find a vehicle traveling at 30 km/h and a bicycle that circulates in the same direction at a speed at 14 km/h.

50

Car Route

40 Bicycle Route

30

Init Detection

20

End Detection

Y (m)

10

0

-10

d = 57 m

d = 50 m

-20

-50

0

50

100

150

200

250

300

350

400

X (m)

Figure 7. Route and connection of vehicle with node 14.

In this case, in Figure 7 is shown the route of both vehicles, where the car receives the signal from iBeacon of the bicycle when it is at a distance of 57 meters, throwing then a warning to the driver (figure 8) through the MotoWarn app, which is maintained while overtaking maneuver is under execution. In total duration of detection is 58.6 seconds, the distance of the car is about 410 meters and the distance of the bicycle is 230 meters. Once the car have overtaked the bike, the iBeacon continues warning until the distance between both vehicles is 50 meters. Then, this distance is father than the iBeacon coverage and MotoWarn disables the bicycle warning.

Figure 8. Detail of the MotoWarn user interface in the bicycle detection event.

IV. CONCLUSION A vulnerable road user detection system based on

111

standardized V2X communications have been developed and tested, using INSIA ITS communication modules. This detection system takes advantage in terms of connectivity of these communication modules, as well as the advantages in terms of functionality of iBeacon and smartphones. The system has been designed, implemented and tested on real vehicles y the free flow traffic facilities of the UPM South Campus, achieving the expected results in terms of safety and efficiency, becoming a first step to improve the safety of cyclists and motorists.

[13] https://www.tno.nl/en/about-tno/news/2014/12/elderly-safer-on-theroad-with-first-intelligent-bike/
[14] http://newsroom.jaguarlandrover.com/en-in/jlrcorp/news/2015/01/jlr_bike_sense_200115/
[15] S. Zeadally, R. Hunt, Y. Chen, A. Irwin, A. Hassan, “Vehicular ad hoc networks (VANETS): status, results, and challenges”, Telecommunication Systems, August 2012, Volume 50, Issue 4, pp 217-241
[16] Rodas, J., Fernández-Caramés, T.M., Iglesia, D.I., Escudero, C.J., “Sistema de Posicionamiento Basado en Bluetooth con Calibrado Dinámico”, Proc. URSI, Santa Cruz de Tenerife, Spain, 2007.

ACKNOWLEDGMENT
This work has received the support of the Spanish Ministerio de Economía y Competitividad (TRA2010-0225C03-03, TRA2010-15645 and TRA2013-48314-C3-2-R), Spanish Traffic Agency (DGT) SPIP20141452 and the Region of Madrid Excellence Network SEGVAUTOTRIES.

REFERENCES
[1] HORIZON 2020 WORK PROGRAMME 2014 – 2015. Smart, green and integrated transport. European Commission 2013.
[2] Las principales cifras de la siniestralidad vial. DGT, 2012. In Spanish. [3] I Estudio de siniestralidad vial en motocicletas. Fundación Mutua
Madrileña. 2011. In Spanish. [4] Ciclistas: Cascos y lesiones en la cabeza. Fundación Mapfre, 2013. In
Spanish. [5] Thielen, D., Lorenz, T., Hannibal, M., Koster, F., Plattner, J., "A
feasibility study on a cooperative safety application for cyclists crossing intersections," Intelligent Transportation Systems (ITSC), 2012 15th International IEEE Conference on, vol., no., pp.1197-1204, 16-19 Sept. 2012. [6] Tal, I., Tianhua Zhu, Muntean, G.-M., "Short paper: On the potential of V2X communications in helping electric bicycles saving energy," Vehicular Networking Conference (VNC), 2013 IEEE , vol., no., pp.218-221, 16-18 Dec. 2013. [7] L. Andreone, F. Visintainer, and G. Wanielik, "Vulnerable road users thoroughly addressed in accident prevention: the WATCH-OVER European project," 2007. [8] Cheng-En Wu, Yi-Ming Chan, Li-Chen Fu, Pei-Yung Hsiao, ShinShinh Huang, Han-Hsuan Chen, Pang-Ting Huang, Shao-Chung Hu, "Combining multiple complementary features for pedestrian and motorbike detection," Intelligent Transportation Systems - (ITSC), 2013 16th International IEEE Conference on , vol., no., pp.1358,1363, 6-9 Oct. 2013. [9] Niknejad, H.T., Takahashi, K., Mita, S.; McAllester, D., "Embedded multi-sensors objects detection and tracking for urban autonomous driving," Intelligent Vehicles Symposium (IV), 2011 IEEE , vol., no., pp.1128,1135, 5-9 June 2011. [10] Prabhakar, Y., Subirats, P., Lecomte, C., "A new method for the detection of motorbikes by laser ragefinder," Communications and Signal Processing (ICCSP), 2011 International Conference on , vol., no., pp.246,249, 10-12 Feb. 2011 [11] JJ Anaya, P Merdrignac, O Shagdar, F Nashashibi, JE Naranjo, “Vehicle to pedestrian communications for protection of vulnerable road users”, Intelligent Vehicles Symposium Proceedings, 2014 IEEE, 1037-1042. [12] https://www.media.volvocars.com/global/engb/media/pressreleases/155565/volvo-cars-and-poc-to-demonstratelife-saving-wearable-cycling-tech-concept-at-international-ces-201

112

