Système coopératif de perception et de communication
pour la protection des usagers vulnérables
Pierre Merdrignac

To cite this version:
Pierre Merdrignac. Système coopératif de perception et de communication pour la protection
des usagers vulnérables. Automatique / Robotique. Ecole Nationale Supérieure des Mines de
Paris, 2015. Français. <NNT : 2015ENMP0037>. <tel-01242774>

HAL Id: tel-01242774
https://pastel.archives-ouvertes.fr/tel-01242774
Submitted on 5 Apr 2016

HAL is a multi-disciplinary open access
archive for the deposit and dissemination of scientific research documents, whether they are published or not. The documents may come from
teaching and research institutions in France or
abroad, or from public or private research centers.

L’archive ouverte pluridisciplinaire HAL, est
destinée au dépôt et à la diffusion de documents
scientifiques de niveau recherche, publiés ou non,
émanant des établissements d’enseignement et de
recherche français ou étrangers, des laboratoires
publics ou privés.

INSTITUT DES SCIENCES ET TECHNOLOGIES

École doctorale nO 432 : Sciences des Métiers de l’Ingénieur

Doctorat ParisTech
THÈSE
pour obtenir le grade de docteur délivré par

l’École nationale supérieure des mines de Paris
Spécialité « Informatique Temps Réel, Robotique et Automatique »
présentée et soutenue publiquement par

Pierre MERDRIGNAC
le 16 octobre 2015

Système coopératif de perception et de communication
pour la protection des usagers vulnérables

Directeur de thèse : Fawzi NASHASHIBI
Co-encadrement de la thèse : Oyunchimeg SHAGDAR, Évangeline POLLARD

Jury
M. Abdelaziz BENSRHAIR, Professeur, LITIS, INSA
Président
M. Dominique GRUYER, Directeur de Recherche, LIVIC, IFSTTAR
Rapporteur
M. Jérôme HÄRRI, Maître de Conférences, Communications Mobiles, Eurecom
Rapporteur
M. Samir TOHMÉ, Professeur, Délégation de conduite & connectivité, VEDECOM
Examinateur
M. Mohamed C. RAHAL, Chercheur, Délégation de conduite & connectivité, VEDECOM Examinateur
M. Fawzi NASHASHIBI, Directeur de Recherche, RITS, INRIA
Examinateur
Mme. Oyunchimeg SHAGDAR, Chercheur, RITS, INRIA
Examinateur
Mlle. Évangeline POLLARD, Chercheur, RITS, INRIA
Invité
MINES ParisTech
Unité Mathématiques et Systèmes
60, boulevard Saint-Michel, 75272, Paris

T
H
È
S
E

À mes parents, mes grands-parents,. . .

iii

Remerciements
Après ces trois années, le manuscrit de thèse met en avant les réflexions et le travail que j’ai eu
la chance de mener. Tout cela ne pourrait être possible sans un bon nombre de personnes que
je tiens à remercier dans ces quelques lignes.
Tout d’abord, je remercie Abdelaziz Benshrair, Dominique Gruyer, Jérôme Härri, Samir Thomé,
Mohamed-Chérif Rahal d’avoir participé à mon jury de thèse et particulièrement MM. Dominique
Gruyer et Jérôme Härri pour avoir accepter d’être les rapporteurs de ce travail.
Je tiens à remercier Fawzi Nashashibi, mon directeur de thèse, pour m’avoir offert l’opportunité
d’effectuer ma thèse au sein de l’équipe RITS et pour ses conseils ainsi que son aide généreuse
tout au long de ces années.
Je souhaite également remercier mes deux encadrantes de thèse, Oyunchimeg Shagdar et Évangeline Pollard, pour leur soutien continu. Lorsque nous avons démarré cette aventure, vous avez
choisi de me confier un sujet très ambitieux grâce auquel nous avons tous pu explorer de nouveaux horizons. Une thèse est ponctuée de moments de réussite comme de moments de doutes,
je vous remercie particulièrement pour m’avoir aider à me dépasser dans les moments difficiles
comme pour tous nos échanges fructueux et pour votre enthousiasme quotidien.
Durant cette thèse, j’ai eu la chance de voir grandir l’institut VEDECOM. Je tiens à remercier
Jérôme Perrin de m’avoir ouvert les portes de l’institut et de m’avoir fait participer à cette aventure. Je souhaite ensuite remercier mes collègues au sein de VEDECOM, Mohamed, Sébastien,
Guillaume, Marc, Xuanpeng... car ce fut toujours un plaisir de venir travailler et échanger avec
vous. Je vous souhaite tout le meilleur pour la suite de l’institut.
Que serait la thèse sans le quotidien au sein du laboratoire ? Je remercie vivement tous les
membres de l’équipe RITS pour m’avoir accompagné tous les jours autant techniquement que
humainement. Cela fut un réel plaisir de vous retrouver tous les jours à INRIA. Je tiens particulièrement à remercier Armand pour son aide technique sur les véhicules, mais aussi pour
m’avoir fait découvrir la forêt durant nos sorties sportives et pour nos séances de tennis de
table. Je remercie sincèrement ma collègue de bureau et amie Ines pour nos échanges, sa patience quant à mes questions et aussi pour avoir partager mes pauses cafés... Finalement, je
v

vi
remercie mes partenaires du bâtiment 7, Guillaume, Zayed, David... pour leur convivialité et
tous les autres collègues de l’équipe, Chantal, Yacine, Muhammad, Younes, Fernando, Joshué,
Vicente, Jean-Marc, Anne, Itheri, Thierry, Marios, Aiko, Sakti, Raoul, Benjamin...
Ensuite, je tiens à remercier tous mes amis pour leur soutien et pour tous les bons moments
que l’on a passés ensemble toutes ces années. Je remercie mes amis d’enfance Alexandre, Anne,
Charlène, Christophe, FX, Marion L., Marion C., Morgane, Pauline, Pierre avec lesquels il fait
bon revenir en Bretagne régulièrement. Je remercie également tous mes amis de l’école et de
prépa, il m’est impossible de tous vous citer, mais quel plaisir de se revoir à chaque fois au
cœur de notre capitale. Finalement, je tiens à remercier le club du SQY Rubgy et tous mes
copains là-bas, je sais que votre assiduité par tous les temps aux entrainement et le dimanche
m’a fortement aider durant ces trois années.
Enfin, je tiens particulièrement à remercier ma famille, mes parents, tout d’abord, pour avoir
toujours été présents près de moi et m’avoir soutenu dans ce choix, et mes frères, Simon et
Clément, pour toutes ces belles années passées et à venir.
Cette liste ne peut être exhaustive et je souhaite donc remercier tous les personnes que j’ai eu
la chance de rencontrer et qui on pu m’aider à un moment ou à un autre.
Je vous souhaite une bonne lecture !
Pierre Merdrignac

Table des matières

Remerciements

v

Table des Matières

vi

Table des Figures

xiii

Table des Tableaux

xvii

Abreviations

xix

Symboles

xxiii

1 Introduction
1.1 Contexte . . . . . . . . . . . . . . . . . . .
1.1.1 Systèmes de transports intelligents
1.1.2 Sécurité des usagers vulnérables .
1.1.3 Partenaires de la thèse . . . . . . .
1.2 Buts poursuivis . . . . . . . . . . . . . . .
1.3 Contributions de la thèse . . . . . . . . .
1.4 Structure du document . . . . . . . . . . .

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

2 Motivation et Préliminaires
2.1 Application de protection des usagers vulnérables . . . . . . . . . . . . . . . .
2.1.1 Étude des accidents de la route impliquant des usagers vulnérables . .
2.1.2 Scénarios pour l’évaluation des systèmes de protection des vulnérables
2.1.3 Exigences relatives à un système de sécurité des vulnérables . . . . . .
2.1.3.1 Exigence pour la protection des vulnérables . . . . . . . . . .
2.1.3.2 Exigences pour les caractéristiques du système . . . . . . . .
2.1.3.3 Métriques d’évaluation de performances . . . . . . . . . . . .
2.2 Définition de notions pour les ITS . . . . . . . . . . . . . . . . . . . . . . . .
2.2.1 Perception pour les véhicules intelligents . . . . . . . . . . . . . . . . .
vii

.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.

1
1
1
3
5
7
8
9

.
.
.
.
.
.
.
.
.

11
12
12
14
15
15
16
17
18
18

viii

TABLE DES MATIÈRES

2.2.2 Communication véhiculaire . . . . . . . . . . . . . . . . . . . . . . . . . .
2.2.3 Système coopératif . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
État de l’art des systèmes de protection des vulnérables . . . . . . . . . . . . . .
2.3.1 Des projets européens : PROTECTOR et SAVE-U . . . . . . . . . . . . .
2.3.2 Le projet LOVe : Logiciels d’observation des usagers vulnérables . . . . .
2.3.3 Un premier projet combinant moyens de perception et de communication :
WATCH-OVER . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.3.4 La sécurité coopérative à travers le projet Ko-TAG . . . . . . . . . . . . .
Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

31
33
35

3 Approche multi-capteurs pour la perception des vulnérables
3.1 État de l’art . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.1.1 Architecture générale des systèmes de protection des usagers vulnérables .
3.1.2 Acquisition de données . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.1.2.1 Description des capteurs existants . . . . . . . . . . . . . . . . .
3.1.2.2 Choix d’une configuration pour la perception des vulnérables . .
3.1.3 Formulation théorique du problème . . . . . . . . . . . . . . . . . . . . . .
3.1.4 Détection des vulnérables à partir de différents capteurs . . . . . . . . . .
3.1.4.1 Formulaltion de la détection statistique . . . . . . . . . . . . . .
3.1.4.2 Détection à partir de laser . . . . . . . . . . . . . . . . . . . . .
3.1.4.3 Détection à partir de radar . . . . . . . . . . . . . . . . . . . . .
3.1.4.4 Détection à partir de caméra . . . . . . . . . . . . . . . . . . . .
3.1.5 Classification des usagers vulnérables . . . . . . . . . . . . . . . . . . . . .
3.1.5.1 Formulation de la classification par apprentissage statistique . .
3.1.5.2 Classification à partir d’images caméra . . . . . . . . . . . . . .
3.1.5.3 Classification à partir de données laser . . . . . . . . . . . . . .
3.1.6 Fusion multi-obstacles/multi-capteurs . . . . . . . . . . . . . . . . . . . .
3.1.6.1 Formulation du filtrage dynamique . . . . . . . . . . . . . . . . .
3.1.6.2 Fusion multi-capteurs pour la protection des vulnérables . . . .
3.1.6.3 Pistage multi-obstacles . . . . . . . . . . . . . . . . . . . . . . .
3.1.7 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2 Solution proposée pour la perception des usagers vulnérables . . . . . . . . . . .
3.2.1 Description générale . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2.2 Détection d’obstacles . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2.3 Génération de régions d’intérêt pour la détection de piétons par vision . .
3.2.4 Classification des vulnérables . . . . . . . . . . . . . . . . . . . . . . . . .
3.2.5 Pistage multi-obstacles . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2.6 Fusion multi-capteurs . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2.7 Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

37
38
38
40
40
43
44
48
48
50
50
51
52
52
57
57
59
59
62
63
64
65
65
66
67
68
69
72
73

2.3

2.4

22
26
28
28
30

TABLE DES MATIÈRES
3.3

.
.
.
.
.
.
.

.
.
.
.
.
.
.

74
74
75
79
80
82
83

4 Communication véhicules-piétons
4.1 État de l’art des standards de communication véhiculaire . . . . . . . . . . . .
4.1.1 Présentation de l’architecture générale . . . . . . . . . . . . . . . . . . .
4.1.2 Description de la couche « Facilities » . . . . . . . . . . . . . . . . . . .
4.1.2.1 Message d’Annonce Coopératif (CAM) . . . . . . . . . . . . .
4.1.2.2 Message de Notification Environnementale Distribuée (DENM)
4.1.2.3 Carte Locale Dynamique (LDM) . . . . . . . . . . . . . . . . .
4.1.3 Description de la couche Réseau et Transport . . . . . . . . . . . . . . .
4.1.3.1 Internet Protocol (IP) . . . . . . . . . . . . . . . . . . . . . . .
4.1.3.2 Réseau véhiculaire (VANET) . . . . . . . . . . . . . . . . . . .
4.1.3.3 GeoNetworking . . . . . . . . . . . . . . . . . . . . . . . . . . .
4.1.4 Description de la couche Accès . . . . . . . . . . . . . . . . . . . . . . .
4.1.4.1 Réseaux Cellulaires . . . . . . . . . . . . . . . . . . . . . . . .
4.1.4.2 Wi-Fi . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
4.1.5 La communication pour les usagers vulnérables . . . . . . . . . . . . . .
4.1.5.1 Description des moyens de communication . . . . . . . . . . .
4.1.5.2 Protocoles d’échange de messages . . . . . . . . . . . . . . . .
4.1.5.3 Méthodes pour la localisation des usagers vulnérables . . . . .
4.1.5.4 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
4.1.6 Applicabilité des protocoles ITS pour la communication V2P . . . . . .
4.1.6.1 Protocoles de la couche « facilities » . . . . . . . . . . . . . . .
4.1.6.2 Protocoles de la couche réseau et transport . . . . . . . . . . .
4.1.6.3 Protocoles de la couche accès . . . . . . . . . . . . . . . . . . .
4.1.6.4 Bilan . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
4.2 Communication véhicules-piétons pour la protection des vulnérables . . . . . .
4.2.1 Description Générale . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
4.2.2 Algorithme d’alerte conjointe des véhicules et des usagers vulnérables .
4.2.3 Messages émis par les véhicules . . . . . . . . . . . . . . . . . . . . . . .
4.2.3.1 Description des données nécessaires . . . . . . . . . . . . . . .
4.2.3.2 Algorithme d’émission des messages par les véhicules . . . . .
4.2.4 Messages émis par les usagers vulnérables . . . . . . . . . . . . . . . . .

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

85
86
86
88
88
89
89
90
90
91
93
94
95
95
96
96
97
98
98
100
100
100
101
102
103
103
104
105
105
107
109

3.4

Classification multi-classes d’obstacles à partir de données laser
3.3.1 Description du problème . . . . . . . . . . . . . . . . . .
3.3.2 Définition de primitives géométriques . . . . . . . . . .
3.3.3 Apprentissage multi-classes . . . . . . . . . . . . . . . .
3.3.4 Estimation bayésienne de la classe . . . . . . . . . . . .
3.3.5 Exemples de classification d’obstacles routiers . . . . . .
Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

ix
.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

x

4.3

4.4

TABLE DES MATIÈRES

4.2.4.1 Description des données nécessaires . . . . . . . . . . . . . . . . 109
4.2.4.2 Algorithme d’émission de messages par les vulnérables . . . . . . 110
4.2.5 Messages à portée géographique . . . . . . . . . . . . . . . . . . . . . . . 111
Dissémination géographique des messages V2P . . . . . . . . . . . . . . . . . . . 111
4.3.1 Présentation des zones géographiques . . . . . . . . . . . . . . . . . . . . 111
4.3.2 Définition des aires géographiques de destination . . . . . . . . . . . . . . 113
4.3.3 Définition dynamique des zones géographiques à partir d’obstacles occultant115
4.3.4 Routage géographique des messages V2P . . . . . . . . . . . . . . . . . . 119
4.3.5 Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121
Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122

5 Système coopératif perception/communication
5.1 État de l’art des systèmes coopératifs pour les ITS . . . . . . . . . . . . . . . . .
5.1.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.1.2 Approche de localisation par positionnement global . . . . . . . . . . . . .
5.1.3 Fusion d’information coopérative pour la protection des vulnérables . . .
5.1.4 Applications pour smartphone à destination de la sécurité usagers vulnérables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.1.4.1 Applications destinées à alerter les usagers vulnérables . . . . .
5.1.4.2 Description des techniques de localisation par smartphone . . . .
5.1.5 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.2 Modélisation des systèmes de perception et de communication . . . . . . . . . . .
5.2.1 Probabilité de détection . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.2.2 Classification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.2.3 Positionnement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.2.4 Métrique destinée à l’évaluation des solutions proposées . . . . . . . . . .
5.2.5 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.3 Méthode d’association d’information de perception et de communication . . . . .
5.3.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.3.2 Formulation du problème . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.3.3 Exemple d’association entre perception et communication . . . . . . . . .
5.3.4 Calcul de la probabilité d’hypothèse pour la fusion perception/communication . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.3.4.1 Définition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
5.3.4.2 Vraisemblance des pistes de communication et de perception . .
5.3.4.3 Vraisemblance des branches de l’arbre . . . . . . . . . . . . . . .
5.3.4.4 Formule finale de la probabilité a posteriori . . . . . . . . . . . .
5.3.5 Sélection des hypothèses et estimation de l’état des vulnérables . . . . . .
5.3.6 Exemple de fusion perception/communication : application numérique . .

123
124
124
126
128
129
129
130
131
132
132
134
134
135
138
138
138
141
142
147
147
147
150
152
152
153

TABLE DES MATIÈRES

5.4

5.5

xi

5.3.6.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 153
5.3.6.2 Fusion à l’instant k . . . . . . . . . . . . . . . . . . . . . . . . . 154
5.3.6.3 Fusion à l’instant k+1 . . . . . . . . . . . . . . . . . . . . . . . . 157
5.3.6.4 Estimation des pistes fusionnées à l’instant k+1 . . . . . . . . . 159
5.3.7 Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 160
Présentation d’une application d’avertissement pour les vulnérables . . . . . . . . 161
5.4.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161
5.4.2 Application V2ProVu pour la protection des vulnérables . . . . . . . . . . 161
5.4.2.1 Service V2ProVu . . . . . . . . . . . . . . . . . . . . . . . . . . . 162
5.4.2.2 IHM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163
5.4.3 Prise en compte de l’incertitude dans la définition des zones de dissémination164
5.4.4 Alerte conjointe des usagers de la route . . . . . . . . . . . . . . . . . . . 164
Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167

6 Évaluation des solutions proposées
6.1 Mise en œuvre des expérimentations . . . . . . . . . . . . . . . . . . . . .
6.1.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
6.1.2 Base de données Kitti pour la conduite automatisée . . . . . . . .
6.1.3 Présentation des plateformes expérimentales INRIA . . . . . . . .
6.2 Classification d’obstacles routiers à partir de données laser . . . . . . . . .
6.2.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
6.2.2 Sélection des meilleures primitives . . . . . . . . . . . . . . . . . .
6.2.3 Évaluation de la classification des objets détectés . . . . . . . . . .
6.2.4 Évaluation de la classification des pistes . . . . . . . . . . . . . . .
6.2.5 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
6.3 Communication véhicules-piétons . . . . . . . . . . . . . . . . . . . . . . .
6.3.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
6.3.2 Performance du Wi-Fi pour la communication V2P . . . . . . . . .
6.3.2.1 Taux de Réception Correcte des Paquets (PDR) . . . . .
6.3.2.2 Temps d’Inter-Réception des Paquets (PIR) . . . . . . .
6.3.3 Précision du positionnement par GPS . . . . . . . . . . . . . . . .
6.3.4 Applicabilité du Wi-Fi pour la protection de vulnérables . . . . . .
6.4 Coopération perception/communication pour la protection des vulnérables
6.4.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
6.4.2 Résultats qualitatifs . . . . . . . . . . . . . . . . . . . . . . . . . .
6.4.3 Évaluation des capacités de détection . . . . . . . . . . . . . . . .
6.4.4 Capacité à évaluer la position relative d’un usager vulnérable . . .
6.4.5 Évaluation d’un système de protection des usagers vulnérables . .
6.5 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

169
170
170
171
173
175
175
177
178
181
182
182
182
183
183
184
185
187
189
189
190
192
194
195
196

xii

TABLE DES MATIÈRES

7 Conclusion et Perspectives
199
7.1 Conclusion générale . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 199
7.2 Perspectives . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 201
A Intersection des trajectoires piéton et véhicule

205

Bibliographie

207

Publications

223

Table des figures

1.1
1.2
1.3

Exemples de systèmes de transport intelligents . . . . . . . . . . . . . . . . . . .
Organisation de l’Institut VEDECOM . . . . . . . . . . . . . . . . . . . . . . . .
Schéma des contributions et de leurs interactions . . . . . . . . . . . . . . . . . .

2.1
2.2
2.3
2.4
2.5
2.6
2.7
2.8
2.9
2.10

Répartition des accidents impliquant des usagers vulnérables. . . . . . . . . . .
Cas d’usage évalués durant la thèse. . . . . . . . . . . . . . . . . . . . . . . . .
Représentation multi-échelle d’un scénario routier par le système de perception
Perception de l’environnement par la voiture rouge . . . . . . . . . . . . . . . .
Scénario de communication véhiculaire . . . . . . . . . . . . . . . . . . . . . . .
Modèle en couches pour la communication véhiculaire . . . . . . . . . . . . . .
Architecture générale du projet PROTECTOR . . . . . . . . . . . . . . . . . .
Architecture générale du projet SAVE-U . . . . . . . . . . . . . . . . . . . . . .
Architecture générale du projet WATCH-OVER . . . . . . . . . . . . . . . . .
Architecture générale du projet Ko-TAG . . . . . . . . . . . . . . . . . . . . . .

.
.
.
.
.
.
.
.
.
.

12
14
19
21
23
25
28
29
31
34

3.1
3.2
3.3
3.4
3.5
3.6
3.7
3.8
3.9
3.10
3.11
3.12
3.13
3.14

Système de protection des usagers vulnérables basé sur la perception
Représentation du problème de la perception d’un piéton . . . . . .
Fonction de génération de mesures bruitées . . . . . . . . . . . . . .
Schéma de classification statistique . . . . . . . . . . . . . . . . . . .
Modèle d’évolution du système dynamique . . . . . . . . . . . . . . .
Architecture du système de perception des usagers vulnérables . . .
Détection d’obstacles par capteur laser . . . . . . . . . . . . . . . . .
Génération de ROIs pour la classification de piétons . . . . . . . . .
Classification d’usagers vulnérables . . . . . . . . . . . . . . . . . . .
Pistage multi-cibles d’obstacles routiers . . . . . . . . . . . . . . . .
Fusion multi-capteurs . . . . . . . . . . . . . . . . . . . . . . . . . .
Classification multi-classes d’obstacles routiers par capteur laser . .
Illustration des caractéristiques des objets détectés par laser . . . . .
Exemples de classification de pistes . . . . . . . . . . . . . . . . . . .

.
.
.
.
.
.
.
.
.
.
.
.
.
.

39
45
46
52
59
65
66
68
69
70
72
74
75
82

xiii

.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.

2
6
8

xiv

TABLE DES FIGURES

4.1
4.2
4.3
4.4
4.5
4.6
4.7
4.8

Architecture du système de communication vehiculaire . . . . .
Description de la mise en place de la communication V2P . . .
Architecture de la communication V2P . . . . . . . . . . . . . .
Modèle bicyclette . . . . . . . . . . . . . . . . . . . . . . . . . .
Schémas décrivant les zones de danger pour le véhicule . . . . .
Définition de la GDA . . . . . . . . . . . . . . . . . . . . . . . .
Définition de la Geo-Area . . . . . . . . . . . . . . . . . . . . .
Illustration du calcul du minuteur pour le routage géographique

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

87
103
104
106
112
113
116
120

5.1
5.2
5.3
5.4
5.5
5.6
5.7
5.8
5.9
5.10
5.11

Système géodésique mondial . . . . . . . . . . . . . . . . . . . . . . . . .
Incertitude relative au positionnement par GPS . . . . . . . . . . . . . .
Présentation générale de la coopération entre usagers . . . . . . . . . . .
Architecture de la fusion d’information perception/communication . . .
Illustration de l’association perception/communication . . . . . . . . . .
Hypothèses d’association établies depuis la Figure 5.5 . . . . . . . . . .
Evolution temporelle du scénario 5.5 . . . . . . . . . . . . . . . . . . . .
Evolution temporelle des hypthèses d’association . . . . . . . . . . . . .
Aire occultée par les obstacles perçus pour une piste de communication
Description de l’application V2ProVu . . . . . . . . . . . . . . . . . . .
Illustration de l’alerte conjointe des véhicules et des usagers vulnérables

.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.

127
127
132
139
143
144
145
146
149
162
166

6.1
6.2
6.3
6.4

Illustration du véhicule employé pour l’acquisition des données de la base Kitti .
Illustration de la plateforme INRIA et de l’équippement porté par le piéton . . .
Site sélectionné pour les tests à INRIA . . . . . . . . . . . . . . . . . . . . . . . .
Exemple de scan laser 2D annoté. Les impacts laser ainsi que les boites engloabantes des objets sont projetés dans l’image correspondante à la scène. . . . . . .
Temps de traitement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Précision-Rappel . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Précision-Rappel en fonction du nombre de classifieurs faibles . . . . . . . . . . .
Précision-Rappel en fonction de la hauteur du laser . . . . . . . . . . . . . . . . .
Matrice de confusion des pistes . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Taux de réception correcte des paquets (PDR) . . . . . . . . . . . . . . . . . . .
Probabilité de ne pas recevoir plus de k paquets consécutifs . . . . . . . . . . . .
Histogramme des erreurs GPS en position longitudinale et latérale, et en distance
Probabilité d’être informé à la distance dmin . . . . . . . . . . . . . . . . . . . . .
Détection d’obstacles dans diverses conditions. . . . . . . . . . . . . . . . . . . .
Capacité de détection des systèmes de perception et communication dans des
conditions LOS et NLOS. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Erreur de positionnement relatif véhicule-piéton. . . . . . . . . . . . . . . . . . .

172
173
174

6.5
6.6
6.7
6.8
6.9
6.10
6.11
6.12
6.13
6.14
6.15
6.16

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.

176
178
179
180
180
181
184
185
186
188
191
192
194

TABLE DES FIGURES

xv

6.17 Évaluation de l’erreur d’application. . . . . . . . . . . . . . . . . . . . . . . . . . 195

Liste des tableaux

1.1

Répartition des accidents de la route mortels suivant les différentes catégories
d’usagers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3

3.1
3.2

Comparaison des capteurs existants . . . . . . . . . . . . . . . . . . . . . . . . .
Liste des primitives géométriques 2D. . . . . . . . . . . . . . . . . . . . . . . . .

41
77

4.1
4.2
4.3
4.4

94
94
94

4.5
4.6
4.7
4.8

Définition de l’aire circulaire . . . . . . . . . . . . . . . . . . . . . . . . .
Définition de l’aire rectangulaire . . . . . . . . . . . . . . . . . . . . . .
Définition de l’aire elliptique . . . . . . . . . . . . . . . . . . . . . . . . .
Applicabilité des protocoles ITS pour la communication V2P : + + très
+ adapté si quelques modifications, - peu adapté, - - pas du tout adapté
Paramètres émis avec un CAM . . . . . . . . . . . . . . . . . . . . . . .
Paramètres envoyés par un message P2V . . . . . . . . . . . . . . . . . .
Format du message Geo-CAM . . . . . . . . . . . . . . . . . . . . . . . .
Définition de la Geo-Area . . . . . . . . . . . . . . . . . . . . . . . . . .

5.1

Modèle théorique des systèmes de perception et de communication V2P . . . . . 138

6.1
6.2
6.3

Description du jeu de données pour la classification par laser . . . . . . . . . . . 175
Meilleures primitives sélectionnées depuis la classification par adaboost . . . . . . 177
Configuration des expérimentations sur la coopération perception/communication 189

xvii

. . . . .
. . . . .
. . . . .
adapté,
. . . . .
. . . . .
. . . . .
. . . . .
. . . . .

102
107
109
111
119

Abreviations

ADAS

Système Automatisé d’Aide à la Conduite (Automated Driving Assistance System)

AOA

Angle d’Arrivée (Angle Of Arrival)

AODV

Ad-hoc On demand Distance Vector

BER

Taux d’Erreur Binaire (Bit Error Rate)

BSSID

Basic Service Set Identifier

BTP

Basic Transport Protocol

CAM

Message d’Annonce Coopératif (Cooperative Awareness Message)

CPHD

Cardinalised PHD

DENM

Message de Notification Environnementale Décentralisée
(Decentralized Environmental Notification Message)

DRIEA

Direction Régionale et Interdépartementale de l’Équipement et de l’Aménagement

ETSI

European Telecommunications Standards Institute

FOV

Champ de vision (Field of View)

GDA

Aire Géographique de Danger

Geo-Area

Aire Géographique de Dissémination

Geo-CAM

CAM géographique

GNSS

Système de Positionnement par Satellites (Global Navigation Satellite System)

GPS

Système de Positionnement Global (Global Positioning System)
xix

xx

ABREVIATIONS

HOG

Histogramme de Gradients Orientés (Histogram of Oriented Gradients)

ICR

Centre Instantané de Rotation (Instant Centre of Rotation)

IEEE

Institute of Electrical and Electronics Engineers

IHM

Interface Homme-Machine

IP

Internet Protocol

IPv4

IP Version 4

IPv6

IP Version 6

ISO

Organisation Internationale de Normalisation
(International Organization for Standardisation)

ITS

Systèmes de Transports Intelligents (Intelligent Transportation Systems)

JPDA

Joint Probabilistic Data Association

LBP

Motifs Binaires Locaux (Local Binary Pattern)

LDM

Carte Locale Dynamique (Dynamic Local Map)

LOS

Ligne de Vue Directe (Line of Sight)

LTE

Long Term Evolution

MANET

Réseau Mobile Ad-hoc (Mobile Ad-hoc Network)

MAP

Maximum A Posteriori

MHT

Hypothèses Multiples de Pistage (Multiple Hypothesis Tracker)

MIPv4

IP Mobile Version 4

MIPv6

IP Mobile Version 6

MMSE

Minimum d’Erreur Quadratique Moyenne (Minimum Mean Square Error)

NEMO

Network Mobility

NLOS

Ligne de Vue Indirecte (Non Line of Sight)

OLSR

Optimized Link State Routing

ONISR

Observatoire National Interministériel de la Sécurité Routière

OSI

Open Systems Interconnection

OSPA

Optimal SubPattern Assignment

P2V

Piétons-Véhicules

ABREVIATIONS

xxi

PAC

Probably Approximately Correct

PDR

Taux de Réception Correcte (Packet Delivery Ratio)

PHD

Probability Hypothesis Density

PIR

Temps de Réception Inter-Paquet (Packet Inter-Reception time)

POI

Point d’Intérêt (Point Of Interest)

ROI

Région d’Intérêt (Region Of Interest)

RSSI

Indicateur de Puissance du Signal Reçu (Received Signal Strength Indicator)

RTOF

Temps de Vol Aller-Retour (Roundtrip Time Of Flight)

SNR

Rapport Signal-sur-Bruit (Signal to Noise Ratio)

SSID

Service Set Identifier

SVM

Machine à Vecteurs de Support (Support Vector Machines)

TCP

Transmission Control Protocol

TDOA

Différence de Temps d’Arrivée (Time Difference of Arrival)

TOA

Temps d’arrivée (Time Of Arrival)

TOF

Temps de Vol (Time Of Flight)

TTC

Temps Avant Collision (Time To Collision)

UBR

Unité de Bord de Route

UDP

User Datagram Protocol

V2I

Véhicules-Infrastructure

V2P

Véhicules-Piétons

V2ProVu

V2P for Protection of Vulnerables

V2V

Véhicules-Véhicules

VANET

Réseau Véhiculaire Ad-hoc (Véhicular Ad-hoc Network)

VoIP

Voix sur IP

VRU

Usager Vulnérable de la Route (Vulnerable Road User)

WGS84

Système Géodésique Mondial, révision de 1984 (World Geodesic System 1984)

WWW

World Wide Web

Symboles

x

coordonnée selon l’axe des abscisses

m

y

coordonnée selon l’axe des ordonnées

m

vx

vitesse selon l’axe des abscisses

m/s

vy

vitesse selon l’axe des ordonnées

m/s

C

classe d’un usager de la route

d

distance

m

t

temps

s

k

indice de temps

p(.)

densité de probabilité

P (.)

probabilité

xG
V

coordonnée en x du véhicule dans le repère global

m

yVG

coordonnée en y du véhicule dans le repère global

m

θVG

orientation du véhicule dans le repère global

rad

vV

vitesse du véhicule

m/s

ωV

vitesse angulaire du véhicule

rad/s

xV (t)

trajectoire en x du véhicule

m

yV (t)

trajectoire en y du véhicule

m

W

largeur du véhicule

m
xxiii

xxiv

SYMBOLES

L

longueur du véhicule

m

tV

temps de création de la position du véhicule

s

xL
vru

position en x du VRU dans le repère local

m

L
yvru

position en y du VRU dans le repère local

m

vxL
vru

vitesse en x du VRU dans le repère local

m

L
vyvru

vitesse en y du VRU dans le repère local

m

θvru

orientation du VRU

rad

vvru

vitesse absolue du VRU

m/s

Cvru

classe du VRU

tvru

temps de création de la position du VRU

s

dmin

distance véhicule-piéton minimale

m

s

variable d’état

z

variable d’observation

sk

variable d’état à l’instant k

zk

observation à l’instant k

ŝ

état estimé d’un usager de la route

m

nombre d’observations

N

nombre d’obstacles

C

ensemble de classes

c

nombre de classes

d(.)

fonction de décision

f

vecteur de primitives

fj

primitive d’indice j

hq

classifieur faible d’indice q

αq

pondération du classifieur faible d’indice q

Dik

vecteur d’observation contenant les valeurs de décision

Ĉ

classe estimée

Lat.

latitude

◦

SYMBOLES

xxv
◦

Long.

longitude

ID

identifiant

vmax

vitesse maximale du VRU

m/s

amax

accélération maximale du VRU

m/s2

AGeo

superficie d’une Geo-Area

m2

Pd

probabilité de détection

LL
per

localisation relative par perception

LL
com

localisation relative par communication

LG

localisation absolue

ΣL

covariance de la localisation relative

ΣG

covariance de la localisation absolue

Eapp

erreur d’une application de sécurité

m

η

distance de coupure

m

T

ensemble de pistes

Ti

piste i

Tk

ensemble de pistes à un instant k

Tper,k

ensemble de pistes de perception à un instant k

Tcom,k

ensemble de pistes de communication à un instant k

Tf us,k

ensemble des pistes fusionnées à un instant k

Tass,k

ensemble des pistes associées à un instant k

Tnp,k

ensemble des pistes non perçues à un instant k

Tnc,k

ensemble des pistes non communicantes à un instant k

Ωk

ensemble des hypothèses à un instant k

Ω̂k

hypothèse estimée à un instant k

Ωjk

hypothèse j à un instant k

ψ

ensemble des branches de l’arbre du MHT

ψh

branche de l’arbre du MHT

1
Introduction

1.1
1.1.1

Contexte
Systèmes de transports intelligents

Les technologies de l’information et de la communication appliquées aux moyens de transports
permettent la conception et le développement de nouvelles applications et apportent de nouvelles
solutions pour la mobilité des personnes. Toutes ces applications sont regroupées au sein du
domaine des systèmes de transports intelligents (ITS) et améliorent la mobilité des usagers en
termes de sécurité, fiabilité, efficacité et qualité. La Figure 1.1 illustre différentes applications

1

2

Chapitre 1 Introduction

concernées par les ITS.

Figure 1.1: Exemples de systèmes de transport intelligents

Dans le cadre des ITS, les véhicules sont équipés de capteurs embarqués afin d’analyser l’environnement dans lequel ils évoluent grâce à des fonctions de perception. Ces véhicules sont
également connectés et capables d’échanger de l’information avec les autres usagers à travers
des communications sans fil. L’émergence de la communication véhiculaire permet aux ITS de
devenir coopératifs.
Au cours de cette thèse, nous nous concentrons sur l’amélioration de la sécurité des usagers vulnérables. En effet, le manque de visibilité des personnes vulnérables (piétons, cyclistes, personnes
à mobilité réduite, motocyclistes, . . . ) en milieu urbain est à l’origine de nombreux accidents,
souvent mortels. Il apparaı̂t donc nécessaire de développer des technologies permettant de les
protéger. La raison principale de ces trop nombreux accidents est l’incapacité des conducteurs à
détecter à tous moments la présence de ces vulnérables ; particulièrement en milieu urbain. Ainsi,
nous adressons ce problème dans le contexte des ITS coopératifs que nous venons de décrire.

Chapitre 1 Introduction

1.1.2

3

Sécurité des usagers vulnérables

Les usagers vulnérables de la route (VRU) sont définis par les directives des ITS comme « des
usagers non motorisés tels que les piétons et cyclistes ainsi que les deux roues motorisés, les
personnes handicapées ou à mobilité réduite » [1].
D’après un rapport de l’Organisation Mondiale de la Santé datant de 2013 [2], plus de 3000
personnes décèdent chaque jour dans des accidents de la route et la moitié d’entre elles sont des
usagers vulnérables.
Catégorie
Piétons
Cyclistes
Cyclomotoristes
Motocyclistes
Vehicules Légers
Véhicules Utilitaires
Véhicules de Transport de Marchandises
Autres

2000
10.4%
3.3%
5.6%
11.6%
65.5%
1%
1.5%
1.1%

2010
12.1%
3.7%
6.2%
17.6%
53%
3.7%
1.6%
2%

Tableau 1.1: Répartition des accidents de la route mortels suivant les différentes catégories
d’usagers

Le Tableau 1.1 résume le bilan des accident routiers en France en 2010 [3]. Bien que plus de la
moitié des accidents mortels concernent les véhicules légers, les usagers vulnérables représentés
par les quatre premières catégories sont victimes dans presque 40% des accidents mortels. Le
Tableau 1.1 montre également que la part des usagers vulnérables victimes de ces accidents a
augmenté pour toutes les catégories entre 2000 et 2010. Malgré la réduction globale des accidents
mortels sur la route, la baisse a été moins forte pour les usagers vulnérables et il convient de
proposer de nouvelles solutions pour assurer leur sécurité.
Au cours de cette thèse, la protection des usagers vulnérables est assurée par un système coopératif cherchant à éviter toute collision. L’exigence première du système que nous avons conçu est
d’être capable de détecter une collision suffisamment en amont de sorte que véhicules et usagers
vulnérables aient assez de temps pour mettre en place les actions assurant leur sécurité.

4

Chapitre 1 Introduction

Des usagers tels que les piétons ont tous des apparences différentes ; les vêtements et la corpulence
varient d’une personne à l’autre. La prédiction de leurs mouvements est également délicate
car un piéton a la capacité de changer très rapidement de direction. Comme nous l’avons vu
précédemment, les personnes vulnérables appartiennent à diverses classes d’usagers de la route
(piétons, cyclistes,...) pour lesquelles il est impossible de construire un modèle commun. Le
développement d’un système de protection des vulnérables s’avère complexe car de nombreux
paramètres varient suivant les personnes ou sont même inconnus.
Les premières solutions de protection des usagers vulnérables sont apparues au début des années
2000 avec les projets PROTECTOR (2000-2002) [4], SAVE-U (2002-2005) [5] et LOVe (20062009) [6] qui utilisent le traitement de données reçues par les capteurs embarqués sur les véhicules
pour protéger les piétons. Cependant, les études menées par Gerònimo et al. [7] et Dollar et al.
[8] pointent les limites des systèmes de perception actuels. Dans [7], les auteurs montrent que
le taux d’erreur des systèmes existants n’est pas acceptable pour envisager une utilisation sur
les prochains véhicules. Ils suggèrent d’améliorer les techniques de reconnaissance en prenant en
compte tous les types d’utilisateurs et de développer des nouvelles méthodes de suivi des piétons.
Dans [8], les auteurs montrent l’influence de la qualité des données sur les performances de
détection de piétons à partir d’images. En effet, de nombreuses méthodes donnent des résultats
encourageants lorsque ces usagers sont situés dans des conditions favorables par rapport au
capteur, mais dès que celles-ci se compliquent (masquage par un autre obstacle, piéton éloigné
de la caméra), les performances sont fortement réduites.
Les projets WATCH-OVER (2006-2008) [9] et Ko-TAG (2009-2013) [10] ont permis la conception
de boı̂tiers coopératifs pour protéger les usagers vulnérables. Au cours de ces deux projets,
les moyens de communication ont servi comme nouvelle source d’information pour localiser et
identifier les piétons à proximité du véhicule à partir de traitements sur les signaux radios.
Ces solutions apportent une première approche pour résoudre certaines limites imposées par la
perception comme les phénomènes d’occultation et le manque de connaissance sur l’identité des
usagers vulnérables. Toutefois, ils ne profitent pas pleinement de la nature première des systèmes
de communication, à savoir la dissémination d’information. Ces systèmes ont pour objectif de
fournir uniquement des données au véhicule afin qu’il soit en mesure de réagir en cas de danger.

Chapitre 1 Introduction

5

Avertir à la fois les véhicules et les usagers vulnérables n’est pas envisagé avec les solutions
communicantes actuelles, alors qu’une telle approche demande une réelle coopération entre les
usagers souhaitant se déplacer en toute sécurité.
L’introduction de la communication dans les ITS a contribué au développement de protocoles
spécifiques pour communiquer entre véhicules, communication véhicules à véhicules (V2V),
échanger des informations avec l’infrastructure routière, communication véhicules à infrastructure (V2I), ou, plus généralement, communiquer avec toute entité communicante, appelé communication V2X. Des organismes de standardisation tels que l’ETSI ont mis en place une architecture spécifique pour assurer la communication véhiculaire [11][12]. Cette architecture introduit
un modèle en couches contenant les fonctionnalités à implémenter au sein des futurs véhicules.
La communication véhiculaire se concentre principalement sur les communications V2V et V2I
en proposant notamment de nouveaux médias de communication comme le 802.11p [13] ou des
méthodes de dissémination géographique des informations [14]. Cependant, la communication
entre véhicules et piétons (V2P) a été très peu abordée alors qu’elle présente un fort potentiel
pour améliorer la sécurité routière.

1.1.3

Partenaires de la thèse

Ce travail s’effectue au sein de l’équipe RITS (Robotics and Intelligent Transportation Systems)
d’INRIA qui est un centre de recherche dédié aux sciences du numérique. Ce projet multidisciplinaire s’inscrit dans la branche robotique d’INRIA et vise à combiner les outils mathématiques
et les techniques de la robotique pour la conception de systèmes de mobilité autonomes et intelligents. Les objectifs de ces recherches sont l’amélioration du transport routier en termes de
sécurité, d’efficacité, de confort et de minimisation des nuisances. L’approche technique est centrée sur les aides à la conduite, pouvant aller jusqu’à une automatisation totale. De plus, RITS
dispose d’un nombre important de plateformes expérimentales permettant d’évaluer les solutions
de mobilité proposées dans des environnements réels.
La thèse se fait en partenariat avec l’institut VEDECOM du Véhicule Décarboné et Communicant et de sa Mobilité qui est un institut de recherche publique-privée et de formation dédié à

6

Chapitre 1 Introduction

Figure 1.2: Organisation de l’Institut VEDECOM

la mobilité individuelle décarbonée et durable. L’objectif de l’institut VEDECOM est de traiter
la mobilité dans son ensemble en orientant son travail autour de deux axes (cf. Figure 1.2) :

- un programme véhicule vise à concevoir le véhicule autonome et électrique dont nous
disposerons dans le futur,
- un programme eco-mobilité a pour objectif de mettre en place un éco-système pour ces
nouveaux véhicules.

La connectivité est un sujet commun à ces deux programmes car elle est aussi bien traitée au
sein du système véhiculaire que dans le cadre des nouveaux usages numériques proposés par le
programme éco-mobilité.
Le CAOR (Centre de Robotique) appartient au département Mathématiques et Systèmes de
MINES ParisTech et est impliqué dans les activités d’enseignement et la recherche fondamentale
et appliquée de l’École. Le centre développe de nouveaux concepts, outils ou algorithmes utilisés
dans des système réels, notamment les ITS. Le CAOR collabore sur ces aspects avec l’équipe
RITS au sein du consortium LaRA - La Route automatisée.
Le travail effectué dans cette thèse s’inscrit totalement dans les objectifs de ces trois partenaires.

Chapitre 1 Introduction

1.2

7

Buts poursuivis

Le travail présenté dans cette thèse se situe dans le domaine des ITS coopératifs et vise à proposer
un nouveau système pour traiter le problème de la protection des usagers vulnérables. Au sein des
ITS, la perception effectue une représentation de l’environnement dans lequel évoluent les usagers
de la route et la communication permet à tous ces usagers d’échanger de l’information. Ces
deux notions sont généralement traitées séparément. Or, l’émergence d’applications coopératives
pousse à étudier conjointement les influences qu’elles ont l’une envers l’autre. Pour aborder
l’aspect coopératif à partir des fonctions de perception et de communication, il est primordial
de bien comprendre leur fonctionnement individuel. Au cours de cette thèse, nous travaillerons
tout d’abord indépendamment sur ces deux sujets avant de démontrer comment une coopération
entre ces deux domaines présente un potentiel pour améliorer les performances des systèmes de
protection des vulnérables existants.
Les buts poursuivis au cours de cette thèse sont résumés par les points suivants :

- Percevoir les obstacles entourant le véhicule : la perception permet d’estimer l’état des
obstacles situés dans le champ de vision des capteurs embarqués, mais se trouve limitée
par le phénomène d’occultation qui masque certaines parties de l’environnement. Une
classification des obstacles détectés par un véhicule est très importante afin de mieux
évaluer la situation et agir sur le système de communication par la création et l’échange
de messages spécifiques.
- Mettre en place la communication V2P : la communication entre véhicules et usagers
vulnérables a pour objectif d’échanger de l’information permettant à chacun d’assurer sa
sécurité. La communication V2P n’est pas présente dans les standards de communication
véhiculaire et s’avère particulière en raison des ressources énergétiques limitées des appareils transportés par les piétons et de la surcharge du canal provoquée par le nombre
potentiellement élevé d’utilisateurs. Le système de perception influence la communication
V2P en définissant, par exemple, des aires de dissémination pour les messages envoyés de
manière dynamique.

8

Chapitre 1 Introduction

- Fusionner les informations provenant de la perception et de la communication : la coopération entre les usagers de la route permet de traiter des scénarios plus complexes pour
lesquels le véhicule dispose d’informations provenant de la perception et de la communication V2P. La communication a une meilleure capacité de fonctionnement que la perception
lorsqu’un obstacle introduit un masquage entre un piéton et un véhicule, mais est incapable
de localiser précisément les usagers sans l’apport de données appropriées. La modélisation
puis la fusion des informations de ces deux systèmes permet de traiter des cas d’usage
complexes et de mieux assurer la protection des usagers vulnérables.

1.3

Contributions de la thèse

Figure 1.3: Schéma des contributions et de leurs interactions

La principale contribution de cette thèse réside dans l’introduction d’un nouveau système coopératif pour la protection des usagers vulnérables. Cette solution se distingue de l’état de l’art car
elle apporte une sécurité commune aux usagers de la route de manière coopérative et s’appuie
sur la capacité de la communication à échanger une information très riche.
La Figure 1.3 schématise nos contributions divisées autour des quatre fonctions suivantes :
(1) Perception des obstacles - Les obstacles routiers sont classifiés en plusieurs classes à partir

Chapitre 1 Introduction

9

des données obtenues depuis un télémètre laser. Pour cela, nous introduisons le calcul de
caractéristiques spécifiques aux usagers rencontrés dans un environnement urbain et proposons d’effectuer une estimation bayésienne de la classe à partir d’observations successives
d’un même obstacle.
(2) Communication V2P - Véhicules et piétons s’échangent des informations de manière distribuée. Afin de limiter l’envoi de messages par les piétons, les données émises par les
véhicules sont uniquement disséminées dans des régions géographiques où un accident
risque de se produire. Nous proposons l’introduction de nouvelles zones géographiques de
dissémination calculées depuis la détection d’obstacles occultant et une nouvelle approche
de routage géographique vers les régions masquées pour un véhicule.
(3) Fusion Perception/Communication - Les informations obtenues par les moyens de perception et de communication sont fusionnées par le véhicule. Nous proposons une modélisation
de la perception et de la communication mettant en avant les atouts et limites de chacun
des systèmes. Une association des données provenant de la perception et de la communication V2P est finalement envisagée.
(4) IHM - Une interface homme-machine (IHM) avertit les usagers vulnérables du danger
grâce à une application installée sur leur smarthpone. Le système coopératif proposé a été
évalué à partir de tests réels réalisés en environnement extérieur sur les plateformes de
l’équipe RITS.

1.4

Structure du document

Le chapitre 2 présente plus précisément les motivations de la thèse. Il décrit les conditions dans
lesquelles se produisent les accidents entre véhicules et usagers vulnérables d’une part et d’autre
part introduit les exigences et scénarios retenus pour évaluer le système de protection des usagers
vulnérables. Les moyens de perception et communication à disposition des véhicules pour assurer
cette protection sont définis et un état de l’art des projets existants dans ce domaine est effectué.

10

Chapitre 1 Introduction

Le chapitre 3 présente des méthodes de perception pour la protection des usagers vulnérables.
Les différents traitements d’un système multi-capteurs pour détecter, localiser et classifier les
usagers vulnérables sont détaillés. Finalement, une méthode est introduite pour classifier les
obstacles routiers entourant un véhicule depuis leur détection par un système laser.
Le chapitre 4 se concentre sur l’introduction de la communication V2P dans le domaine de la
communication véhiculaire. Nous montrons comment la communication V2P s’intègre dans les
architectures existantes et nous détaillons quels types de messages doivent être transmis pour
assurer la protection des usagers. Finalement, nous définissons la dissémination géographique
des messages pour la communication V2P en proposant des aires de destination et un routage
géographique des paquets depuis les informations de perception.
Le chapitre 5 introduit les applications coopératives pour la protection des vulnérables. Il met en
avant les complémentarités des systèmes de perception et de communication pour la construction
de solutions coopératives. Nous proposons une modélisation de ces systèmes ainsi qu’une méthode
pour fusionner les informations qu’ils délivrent. Finalement, une application destinée à alerter
les usagers vulnérables du danger, appelée V2ProVu, est présentée.
Le chapitre 6 présente l’évaluation des performances des solutions proposées. La classification
des obstacles routiers est tout d’abord évaluée depuis une base de données publique. Ensuite, la
capacité des communications Wi-Fi à alerter correctement les usagers du danger est déterminée.
Finalement, les avantages d’une coopération entre les modules de perception et de communication
sont démontrés à partir de scénarios d’accidents et évalués par des tests sur les plateformes de
l’équipe RITS.
Le chapitre 7 apporte une conclusion à cette thèse ainsi que des perspectives qui n’ont pas été
abordées dans ce document mais qui sont à envisager pour améliorer le système coopératif.

2
Motivation et Préliminaires

1.1

Contexte . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

1

1.1.1

Systèmes de transports intelligents . . . . . . . . . . . . . . . . . . . . .

1

1.1.2

Sécurité des usagers vulnérables

. . . . . . . . . . . . . . . . . . . . . .

3

1.1.3

Partenaires de la thèse . . . . . . . . . . . . . . . . . . . . . . . . . . . .

5

1.2

Buts poursuivis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

7

1.3

Contributions de la thèse . . . . . . . . . . . . . . . . . . . . . . . . . .

8

1.4

Structure du document . . . . . . . . . . . . . . . . . . . . . . . . . . .

9

11

12

2.1
2.1.1

Chapitre 2 Motivation et Préliminaires

Application de protection des usagers vulnérables
Étude des accidents de la route impliquant des usagers vulnérables

Rase campagne (10%)
Nuit (28%)

Jour (72%)
Milieu urbain (90%)

(a) Accidents en fonction de la période de la jour- (b) Accidents en fonction de l’environnement exténée.
rieur.

Rase campagne (50%)
Nuit (44%)

Jour (56%)
Milieu urbain (50%)

(c) Accidents mortels en fonction de la période de (d) Accidents mortels en fonction de l’environnela journée.
ment extérieur.

Figure 2.1: Répartition des accidents impliquant des usagers vulnérables.

L’Observatoire National Interministériel de la Sécurité Routière (ONISR) présente une analyse
des accidents de la route selon plusieurs critères [3] tels que la période de la journée et l’environnement extérieur comme illustré sur la Figure 2.1.

Chapitre 2 Motivation et Préliminaires

13

D’après les Figures 2.1a et 2.1b, les accidents se produisent plus régulièrement en plein jour et en
milieu urbain, c’est à dire, quand la circulation est dense. Cependant, lorsque seuls les accidents
mortels sont considérés (Figures 2.1c et 2.1d), le bilan est plus équilibré. Ceci s’explique par
des conditions plus difficiles pour identifier le danger en amont durant la nuit et par une vitesse
plus élevée en rase campagne. La configuration des systèmes embarqués sur un véhicule doit
permettre de traiter toutes les conditions d’illumination avec des capteurs tels que les lasers de
même qu’avec des communications radio.
Les deux roues motorisés en Ile-de-France ont fait l’objet d’une étude spécifique par la Direction
Régionale et Interdépartementale de l’Équipement et de l’Aménagement (DRIEA) dans le document [15]. La plupart des accidents mortels relatifs à ce moyen de transport ont lieu durant l’été,
période pendant laquelle la pratique de la moto est accrue, notamment dans le cadre d’activités
de loisir. Plus de 40% des accidents mortels pour les deux roues motorisés sont causés par une
collision avec un véhicule léger. Au niveau technologique, les deux roues motorisés sont plus
proches des véhicules car ils ont la capacité d’embarquer des systèmes de protection. Malgré le
besoin identifié, nous ne traitons pas ce type d’usagers durant la thèse.
Une étude traitant plus particulièrement des enjeux liés à la sécurité des usagers vulnérables
en Ile-de-France a été menée par la DRIEA [16] et fournit plus de détails sur les accidents
concernant les piétons et les cyclistes. D’après cette étude, 80% des accidents sont survenus
alors que le piéton traversait la route. Plus précisément, la moitié des accidents se produit au
niveau de passages piétons, 30% à moins de 50 m d’un passage piétons et le reste des accidents
à plus de 50 m d’un passage aménagé.
Ces études démontrent clairement que la principale source d’accident pour les usagers vulnérables provient d’une collision avec un véhicule léger. Les conditions de visibilité et de circulation
sont des paramètres importants. En effet, la majorité des accidents ont lieu aux heures pendant
lesquelles de nombreux usagers empruntent les routes, ce qui rend la détection des situations
à risque plus délicate. Les accidents mortels se produisent souvent lorsque la vitesse des véhicules est élevée et que la détection des usagers vulnérables est compliquée du fait de mauvaises
conditions comme la nuit ou la pluie.

14

Chapitre 2 Motivation et Préliminaires

Les accidents impliquant les usagers vulnérables sont de nature très variée. En conséquence, la
définition de cas d’usage traitant toutes les situations est impossible. Dans la suite de la thèse,
nous avons choisi de concentrer notre démonstration sur des scénarios avec différents niveaux de
complexité pour lesquels un piéton traverse la route, ce qui représente une majorité des situations
d’accidents.

2.1.2

Scénarios pour l’évaluation des systèmes de protection des vulnérables

(a) Piéton traversant la rue devant le véhicule
(LOS).

(b) Piéton masqué par un obstacle (NLOS).

Figure 2.2: Cas d’usage évalués durant la thèse.

Les scénarios retenus pour évaluer le système de protection des vulnérables se concentrent sur
un piéton traversant la rue à l’abord ou non d’un passage pour piétons. Nous proposons deux
scénarios afin d’évaluer la capacité du système à gérer différentes conditions de visibilité par
rapport au champ de vision (FOV) du véhicule : lorsque le piéton est visible depuis le véhicule
(LOS - Line of Sight), lorsque le piéton est masqué par un obstacle (NLOS - Non Line of Sight).
La Figure 2.2 illustre ces situations dans lesquelles le véhicule intelligent est la voiture rouge :

- Un piéton souhaite traverser la route devant un véhicule (Figure 2.2a).
- Un piéton est masqué par un obstacle et souhaite traverser la route (Figure 2.2b).

Chapitre 2 Motivation et Préliminaires

2.1.3
2.1.3.1

15

Exigences relatives à un système de sécurité des vulnérables
Exigence pour la protection des vulnérables

Un système de sécurité des vulnérables a pour but de protéger les usagers en les alertant du
danger avant qu’une collision ne puisse être évitée.
Le temps disponible avant collision tsta est défini en fonction de la distance entre le véhicule et
le piéton d, la vitesse du véhicule vV , le temps nécessaire pour percevoir le danger tp ainsi que le
temps nécessaire à la réaction tr dans l’équation (2.1). La contrainte sur un système de sécurité
est de maintenir tsta > 0.

tsta =

d
− tp − tr
vV

(2.1)

L’équation (2.1) s’appuie sur un modèle de déplacement à vitesse constante du véhicule afin de
mettre en avant le pire scénario, c’est à dire, celui pour lequel aucune action n’est engagée. Ainsi,
cette équation s’applique aussi bien aux véhicules qu’aux usagers vulnérables. Les paramètres
tp et tr sont toutefois différents pour un piéton ou un véhicule et doivent être adaptés suivant
la cible de l’alerte.
Afin d’évaluer le niveau de danger, l’estimation de la distance véhicule - usager vulnérable est
nécessaire. Si une telle estimation n’est, par définition, pas parfaite, il est toutefois possible
de caractériser son incertitude et d’en déduire l’erreur maximale de positionnement qui est
faite. Si nous notons ErrV et ErrP les erreurs de positionnement d’un véhicule et d’un piéton,
respectivement, et tl le temps de retard introduit par le système, alors, la distance sur-estimée
est bornée par la somme des différentes erreurs.

Errpos = ErrV + ErrP + vV × tl

(2.2)

Finalement, satisfaire la contrainte tsta signifie que l’alerte envers les usagers doit être donnée

16

Chapitre 2 Motivation et Préliminaires

avant que la distance d soit inférieure à une distance dmin définie dans (2.3).

dmin = vV × (tp + tr ) + Errpos

(2.3)

La performance du système de protection est caractérisée par la probabilité de recevoir une
alerte avant que la distance véhicule-piéton soit inférieure à dmin . Cette probabilité est notée
PA (dmin ) et est évaluée durant nos expériences dans la section 6.3.4 pour déterminer si les
exigences requises pour le système de protection des usagers vulnérables sont satisfaites.

2.1.3.2

Exigences pour les caractéristiques du système

Pour être en mesure d’assurer efficacement la sécurité des usagers vulnérables, un système coopératif doit en outre satisfaire les exigences suivantes :

- Fournir une information concise et utile suffisamment en amont pour permettre aux usagers de s’entraider à assurer leur sécurité et de ne pas recourir à des arrêts d’urgence.
Comme cela est introduit dans la section 2.1.3.1, si le temps disponible avant collision
est important lors de l’établissement d’un premier contact entre un véhicule et un piéton,
alors ces deux usagers peuvent mieux prédire le comportement de l’autre pour éviter toute
collision.
- Fonctionner dans de multiples conditions pour être capable de protéger les usagers de jour
comme de nuit et dans de nombreuses conditions météorologiques. En effet, la section 2.1.1
a montré la diversité des situations d’accidents. Une large variété de sources d’information (capteurs et moyens de communication) peut rendre le système plus robuste à ces
changements de conditions.
- Gérer les obstacles pour détecter les situations de danger et celles pour lesquelles un
usager vulnérable peut être masqué. Le système doit être capable de connaı̂tre un ensemble
d’usagers vulnérables avec lesquels une collision risque de se produire et doit prédire les

Chapitre 2 Motivation et Préliminaires

17

déplacements de ces usagers. L’estimation des paramètres de position, vitesse et classe des
usagers vulnérables est souhaitable pour atteindre cette exigence.
- Gérer les ressources énergétiques des dispositifs communicants des usagers vulnérables
pour lesquels la batterie est limitée. En effet, les usagers vulnérables sont munis de dispositifs avec une faible source d’énergie et la solution choisie doit privilégier les calculs au
niveau des véhicules et laisser aux piétons le minimum nécessaire.
- Éviter les fausses alarmes. Le système ne doit pas avertir les usagers lorsqu’il n’y a aucun
danger au risque d’être abandonné s’il fournit des alarmes inutiles trop régulièrement.
- Être facilement intégrable et/ou portatif. Le système doit s’intégrer dans les futurs véhicules
et être facilement transporté par les usagers vulnérables afin qu’il soit largement accepté.

2.1.3.3

Métriques d’évaluation de performances

Lors de l’évaluation, des fonctions de coût, appelées métriques, mesurent comment les exigences
sont satisfaites par les solutions proposées. Plusieurs métriques établissent les performances d’un
système pour valider son fonctionnement final. Les métriques suivantes sont usuellement utilisées
avec la perception et la communication :

- L’erreur quadratique moyenne décrit l’erreur d’un estimateur par rapport à la valeur exacte
et peut ainsi caractériser la qualité des estimations de position et de vitesse.
- La détection et la classification sont évaluées en termes de précision et rappel. La précision
caractérise le nombre d’objets correctement détectés par rapport au nombre total de détections, precision =

TP
T P +F P .

Le rappel caractérise la capacité du système à correctement

estimer la classe des objets d’une classe donnée, rappel =

TP
T P +F N .

Dans les équations ci-

dessus, T P est le nombre d’objets correctement détectés, F P est le nombre de détections
erronées, et F N est le nombre d’objets non détectés.
- La communication est évaluée par rapport au taux de réception correcte (PDR) qui caractérise la capacité des usagers à échanger de l’information au sein du réseau. Le temps de

18

Chapitre 2 Motivation et Préliminaires

réception inter-paquet (PIR) établit le temps nécessaire pour mettre à jour les informations
reçues depuis un émetteur. Cette métrique est importante dans le contexte dynamique des
ITS.
- Le temps de traitement est également un critère à prendre en compte pour des systèmes
critiques tels que des applications d’évitement de collision. Ce temps de traitement comprend à la fois le temps requis pour traiter l’information par les différents systèmes, mais
également les retards induits par les échanges entre usagers.

2.2

Définition de notions pour les ITS

2.2.1

Perception pour les véhicules intelligents

La perception est définie pour les êtres humains comme un événement cognitif visant à interpréter
l’environnement à partir d’informations fournies par les sens. Sa transposition au domaine de
la robotique revient à modéliser l’environnement extérieur à partir d’informations acquises par
le robot (ou véhicule) pour lui permettre de prendre les meilleures décisions. La fonction de
perception s’applique à traiter les données, reflétant l’état de l’environnement, acquises par les
différents capteurs disponibles sur les usagers et l’infrastructure routière.
Dans le contexte des véhicules intelligents, la modélisation de l’environnement peut être exploitée
à plusieurs fins selon le niveau d’automatisation du véhicule.

- Pour les voitures non automatisées, la perception fournit des informations pertinentes au
conducteur et lui apporte une assistance. Les systèmes automatisés d’aide à la conduite
(ADAS) illustrent ces besoins en offrant une aide aux conducteurs grâce aux informations
collectées par les capteurs et traitées au sein du véhicule. Dans ce contexte, les moyens de
perception développés sont très spécifiques au problème posé et les exigences assez faibles
car le conducteur reste à tout moment responsable de son véhicule.

Chapitre 2 Motivation et Préliminaires

19

Figure 2.3: Représentation multi-échelle d’un scénario routier par le système de perception

20

Chapitre 2 Motivation et Préliminaires

- Pour les véhicules autonomes, le système de perception constitue le point de départ de
la chaı̂ne de traitement permettant à un véhicule d’évoluer de manière sûre dans son environnement. En effet, le modèle fourni par le système de perception est ensuite exploité
par les différents modules de planification et de contrôle du véhicule. Les exigences pour
le système de perception sont très élevées et il est crucial pour les futurs véhicules autonomes d’être capable de modéliser au mieux l’environnement du véhicule et de caractériser
précisément l’incertitude liée à cette modélisation.
La Figure 2.3 illustre comment un scénario urbain est idéalement modélisé par le système de
perception. Cette illustration montre comment le scénario peut être décrit de manière globale. La
carte est représentée avec ses différents éléments (voie de circulation, marquages et panneaux,
intersections,...) et l’état des différents usagers (position, vitesse, classe,...). L’information est
décrite à plusieurs niveaux. Les éléments de l’environnement (obstacles mobiles et obstacles
fixes) sont représentés par leur position dans un repère cartésien et la classe d’obstacle à laquelle
ils appartiennent. Mais, l’information peut également être décrite de manière sémantique pour
permettre au véhicule de mieux définir ses actions. Par exemple, lorsqu’une voie de circulation
est détectée, un sens de déplacement privilégié peut lui être attribué et des autorisations de
dépassement différentes peuvent être données suivant la nature des lignes de marquage.
Sur la Figure 2.3, la modélisation effectuée est idéale, or, dans la réalité, de nombreux facteurs
conduisent à une modélisation partielle, incertaine et imprécise de l’environnement [17].
La perception de l’environnement s’effectue à l’aide de capteurs fournissant des observations
du monde extérieur. Chaque type de capteur apporte des informations de nature différente sur
l’environnement et possède un FOV propre. La diversité des capteurs disponibles offre un large
choix lors de la conception du système. La connaissance et la description du fonctionnement de
ces capteurs sont donc primordiales pour concevoir un système efficace.
Le phénomène d’occultation est la limite principale des capteurs embarqués et se matérialise
lorsqu’un objet obstrue le capteur d’une partie de l’espace. La présence d’objets larges bloque
la propagation du signal émis depuis le capteur vers certaines régions de l’environnement ou
inversement depuis un autre objet en direction du capteur. Donc, le capteur considéré ne peut

Chapitre 2 Motivation et Préliminaires

21

Figure 2.4: Perception de l’environnement par la voiture rouge

pas obtenir de mesure sur ce qui se situe derrière cet objet. L’objet situé au premier plan est
appelé objet occultant alors que l’objet masqué est appelé occulté. Lorsque les objets considérés
sont assez grands, un phénomène d’occultation partielle peut se produire, c’est à dire que l’objet
occultant ne masque qu’une partie de l’objet occulté. Au niveau du système de perception, ce
phénomène est généralement traduit par une notion d’incertitude sur l’état de l’environnement
occulté et diverses techniques peuvent être mises en œuvre pour lever cette incertitude. En
conséquence, le phénomène d’occultation d’un objet par un autre est fréquemment rencontré et
nécessite une attention particulière, notamment lorsque l’application visée est liée à la protection

22

Chapitre 2 Motivation et Préliminaires

des usagers vulnérables.
La perception est tout d’abord individuelle et permet à chaque véhicule d’avoir une représentation partielle de l’environnement dans lequel il évolue. Cependant, les limitations physiques des
moyens d’acquisition usuels ne permettent pas de gérer tous les scénarios rencontrés dans un
environnement urbain pour un système de sécurité.
La Figure 2.4 illustre la représentation parfaite de l’environnement faite par la voiture rouge à
la vue de ses connaissances limitées sur l’environnement. Deux zones d’occultation (zones bleu
foncé) sont clairement distinguées et mènent à la non-détection de deux usagers vulnérables
(représentés en rouge). La Figure 2.4 montre également que nous ignorons si le piéton qui se
situe à la droite du véhicule rouge traversera la rue ou non. En conséquence, même si le système
de perception avait la capacité de fonctionner parfaitement, il lui est impossible de donner des
informations pour certaines situations. Cela justifie l’utilisation d’autres approches telle que la
communication véhiculaire.

2.2.2

Communication véhiculaire

La communication est un processus de mise en relation entre personnes pour participer à un
échange d’information. Les télécommunications sont définies lorsque cet échange s’effectue à
distance par des moyens technologiques.
Au cours des dernières années, de nombreux chercheurs se sont intéressés à l’exploitation des
moyens de télécommunications pour les véhicules routiers. En effet, la communication véhiculaire
offre de nouveaux services afin de sécuriser, rendre plus opérationnels et plus agréables les moyens
de transport actuels. Les véhicules peuvent s’informer mutuellement de la présence de dangers
sur la route pour améliorer la sécurité routière. Ils sont également munis d’accès à internet et
proposent des services de divertissement aux utilisateurs pour rendre leur voyage plus agréable.
Dans ce contexte, les usagers de la route sont connectés les uns aux autres pour créer un réseau
véhiculaire. De plus, une infrastructure connecte les véhicules du réseau aux services disponibles
sur internet. Dans ce contexte, deux types de communications sont généralement à distinguer :

Chapitre 2 Motivation et Préliminaires

23

la communication véhicules-véhicules (V2V) et la communication véhicules-infrastructure (V2I).
Récemment, la communication véhicules-piétons (V2P) est apparue avec le développement des
smartphones.

Figure 2.5: Scénario de communication véhiculaire

Les modes de communication dans les réseaux véhiculaires (VANET) sont illustrés par les communications V2V, V2I et V2P dans la Figure 2.5.
La présence d’une infrastructure dédiée telle que les unités de bord de route (UBR) et les réseaux
mobiles 3/4G fournit l’accès aux services internet pour tous les usagers connectés.
La communication V2V s’effectue en mode ad-hoc, c’est à dire, sans infrastructure. Elle permet
aux usagers d’échanger directement de l’information et aux véhicules non connectés à un UBR
de bénéficier tout de même d’un accès à certaines applications.
De nouveaux services sont définis par la communication véhiculaire et enrichissent les systèmes
de transports actuels.
- Les services de sécurité améliorent la sécurité routière en avertissant les usagers des dangers
qu’ils peuvent rencontrer durant leur voyage. Ces applications sont les plus critiques dans le

24

Chapitre 2 Motivation et Préliminaires

domaine véhiculaire car elle doivent s’appuyer sur une information sure et des transmissions
rapides et fiables.
- Les services de gestion proposent des itinéraires adaptés et optimisent l’utilisation de l’infrastructure routière. Pour des véhicules automatisés, un centre de gestion s’assure de leur
bon état et de leur affecter des missions. Pour ces applications, il est important que les
véhicules se signalent en temps réel vers le centre de gestion, mais aussi qu’ils soient joignables à tout moment depuis le centre de gestion et depuis les autres véhicules de la
flotte.
- les services de divertissement proposent l’accès à des contenus situés sur Internet pour agrémenter le trajet des usagers. Certaines applications de divertissement sont plus spécifiques
au système véhiculaire telles que les applications de points d’intérêts (POI) qui fournissent
des informations géolocalisées aux usagers de la route. Ces applications nécessitent une
bonne connectivité à Internet afin que les usagers profitent pleinement de services comme
l’accès à leur boı̂te mail ou la visualisation de vidéos en ligne.

Le développement des systèmes de télécommunications entre ordinateurs a conduit à la mise en
place de standards pour organiser la façon dont les différentes machines d’un réseau échangent
des données. Le modèle OSI (Open Systems Interconnection), décrit par le document de l’union
internationale des télécommunications [18], définit sept couches pour organiser les systèmes
communicants. Dans le document [11], l’ETSI, organisme européen chargé de la standardisation,
définit une architecture pour la communication véhiculaire en s’inspirant du modèle OSI. Cette
architecture est appelée ETSI ITS [11]. La Figure 2.6 illustre de manière générale comment un
message de données émis par un premier véhicule traverse les différentes couches avant d’être
envoyé sur le lien physique et remonte ensuite entre les couches à la réception pour être reçu
par le destinataire. Chacune des couches encapsule les données de la couche précédente avec un
en-tête spécifique. Lors de la réception du message, l’en-tête est extrait et sert à remonter les
données vers le récepteur.
Les couches du modèle ETSI ITS sont définies de la manière suivante :

Chapitre 2 Motivation et Préliminaires

25

Figure 2.6: Modèle en couches pour la communication véhiculaire

- la Couche Application fournit l’accès au réseau aux applications véhiculaires,
- la Couche « Facilities » gère les sessions entre différentes applications et fournit un support
aux services des ITS ayant des fonctions communes,
- la Couche Réseau et Transport est responsable de l’envoi des données à travers le réseau
et de la gestion de la connectivité,
- la Couche Accès s’occupe de la transmission des messages au niveau physique et liaison
de données entre les nœuds communicants.
De plus, l’ETSI définit deux fonctionnalités transverses :
- la couche management contient différentes fonctions apportant un support à chacune des
couches,
- la couche sécurité est chargée de la sécurisation de la communication à tous les niveaux.

26

Chapitre 2 Motivation et Préliminaires

Des nouveaux protocoles de communication sont spécifiés pour chacune des couches. En effet,
le caractère fortement dynamique des réseaux véhiculaires requiert la conception de protocoles
adaptés.
Par définition, la communication a pour objectif d’assurer la transmission fiable de données
entre un émetteur et un récepteur. Elle est généralement transparente pour les applications qui
l’utilisent. Cependant, certains services développés dans le cadre des ITS, particulièrement les
systèmes de sécurité, présentent des particularités quant aux contraintes de temps de transmissions et aux destinataires des messages envoyés. Il convient donc d’étudier particulièrement les
architectures de communication proposées pour les futurs véhicules et de déterminer comment
les informations connues par le véhicule peuvent servir à communiquer plus efficacement.

2.2.3

Système coopératif

La coopération se définit comme l’action réunissant plusieurs personnes mettant un travail en
commun. Cette coopération se fait dans un but commun que chacun peut accepter. Elle nécessite
donc un accord et une collaboration volontaire des différents protagonistes.
Dans le domaine des nouvelles technologies, les systèmes coopératifs ont vu le jour grâce à l’émergence des moyens de communication. En effet, les nœuds communicants sont capables d’échanger
diverses informations à travers le réseau et d’en faire bénéficier tous les membres connectés. Un
système coopératif est défini par une application partagée entre plusieurs utilisateurs acceptant
de participer à ce processus collaboratif.
La communication véhiculaire a la capacité d’augmenter le champ de perception. Classiquement,
la perception s’effectue au sein de chaque véhicule qui appuie ses décisions sur ses propres mesures. Ceci permet notamment de respecter les contraintes temps réels relatives aux applications
ITS ainsi qu’en termes de confiance et de sécurité liées à ce type d’applications critiques. Cependant, comme illustré sur la Figure 2.4, certaines situations ne peuvent pas être détectées
uniquement par la perception. Lorsque véhicules, usagers vulnérables et infrastructure communiquent, certaines ambiguı̈tés peuvent être levées.

Chapitre 2 Motivation et Préliminaires

27

Les systèmes de communication ont ainsi une fonction de capteur environnemental pour les
systèmes de perception en fournissant des mesures inaccessibles jusque là. Elles peuvent à la
fois agir comme un capteur passif en se servant des signaux radio reçus et fournir des données
environnementales à l’usager. Cependant, la communication véhiculaire agit également comme
un tout nouveau type de capteur capable de fournir de l’information ayant une sémantique et un
contenu important par rapport aux mesures physiques obtenues depuis les capteurs classiques.
Toute cette nouvelle information enrichit la perception, mais il faut définir comment la traiter
correctement.
La représentation de l’environnement effectuée par la perception influence également la communication véhiculaire. Comme illustré sur la Figure 2.6, une architecture spécifique a été définie
pour les futures applications coopératives. En effet, la couche « facilities » définit des types
de messages standards permettant aux véhicules d’annoncer leur présence ou de signaler des
événements rencontrés tels qu’un accident. La fonction de management présente dans cette
architecture collecte et organise les données relatives au voisinage du véhicule et agit sur la
transmission des données pour participer activement au processus coopératif. Les fonctions de
perception participent de cette manière au fonctionnement de la communication véhiculaire.
Lorsque l’on aborde les systèmes coopératifs, il est nécessaire de définir un repère commun pour
tous les usagers. En effet, lorsque chaque utilisateur s’appuie uniquement sur ses propres moyens
de perception, il représente son environnement dans son repère local. Toutefois, pour partager
les informations dont chacun dispose, il est nécessaire de positionner tous les usagers dans un
même repère. Un tel repère existe avec les coordonnées géographiques définies par la latitude, la
longitude et l’élévation. Pour obtenir ces données, les moyens actuels s’appuient sur des systèmes
de positionnement par satellites (GNSS - Global Navigation Satellite System) qui sont fortement
perturbés en milieu urbain (perte de signal) et dont la précision est de l’ordre de 10 m même
avec de bonnes conditions, ce qui est insuffisant lorsque l’on aborde la conduite autonome et la
sécurité routière. Ces limites sont actuellement le verrou technologique ne permettant pas aux
applications coopératives critiques de s’imposer. Une meilleure interaction entre les fonctions de
perception et de communication a le potentiel de repousser ces limites.

28

2.3

Chapitre 2 Motivation et Préliminaires

État de l’art des systèmes de protection des vulnérables

Dans cette partie, nous détaillons les projets destinés spécifiquement à améliorer la protection
des usagers vulnérables. De cette manière, nous mettons en avant les problèmes levés par ces
travaux passés et nous montrons en quoi ils sont encore insuffisants pour traiter complètement
le cas de la sécurité des usagers vulnérables dans les environnements urbains.

2.3.1

Des projets européens : PROTECTOR et SAVE-U

Les premiers projets européens tels que PROTECTOR (2000-2002) et SAVE-U (2002-2005)
avaient pour but la conception de systèmes de protection des piétons à partir de données multicapteurs.

Figure 2.7: Architecture générale du projet PROTECTOR

Le projet PROTECTOR fut le premier projet européen à traiter la sécurité des usagers vulnérables. La Figure 2.7 décrit l’architecture globale du système PROTECTOR et elle a été
introduite dans [4]. Ce système introduit en particulier une IHM pour communiquer vers le
conducteur du véhicule ainsi qu’un module évaluant les risques de collision.
Afin de détecter et classifier les usagers vulnérables, trois modules distincts ont été développés
au cours de ce projet. Le premier s’appuie sur trois radars montés sur le côté d’un camion.
Les usagers vulnérables sont détectés depuis les données radar pour ensuite estimer le risque de

Chapitre 2 Motivation et Préliminaires

29

collision. Le second est basé sur un véhicule équipé de deux caméras avant. Dans ce système,
les piétons sont détectés, classifiés et pistés à partir des données de stéréovision. La troisième
solution utilise un capteur laser à l’avant d’une voiture afin de détecter et pister les obstacles
devant le véhicule. Finalement, les obstacles sont classifiés pour ne fournir au module d’évaluation
du danger que les usagers vulnérables.
Le projet PROTECTOR a présenté des performances limitées car les trois systèmes fonctionnent
séparément, mais il a ouvert la voie dans le domaine de la protection des vulnérables.

Figure 2.8: Architecture générale du projet SAVE-U

Le projet SAVE-U (Sensors and System Architecture For Vulnerable Road Users Protection) a
pris la suite du projet PROTECTOR dans le but de concevoir et intégrer un système complet
pour la sécurité des piétons et des cyclistes. Des détails concernant le système sont donnés dans
les références [5] [19] [20]. La contribution principale de ce projet est l’utilisation de méthodes
de fusion multi-capteurs. Cette fusion est faite à deux différents niveaux comme montré sur
la Figure 2.8 qui présente l’architecture générale du système SAVE-U. Une fusion bas niveau

30

Chapitre 2 Motivation et Préliminaires

existe entre les modules de traitement caméra et radar et consiste, en pratique, à la définition
de régions d’intérêt dans les images à partir des détections radar. Une fusion haut niveau est
mise en place pour associer les obstacles détectés par chaque capteur et pour les suivre au cours
du temps [20].
En conclusion, le projet SAVE-U a proposé une architecture pour la fusion des données multicapteurs et fournit un système s’appuyant sur la perception pour la protection des vulnérables.
Cependant, en s’appuyant uniquement sur les capteurs embarqués, PROTECTOR et SAVE-U
ne sont pas capables de traiter les scénarios pour lesquels un usager n’est pas visible depuis le
véhicule et apparaı̂t au dernier moment.

2.3.2

Le projet LOVe : Logiciels d’observation des usagers vulnérables

En France, le projet LOVe (Logiciels d’Observation des usagers Vulnérables) s’est déroulé entre
2006 et 2009 avec pour objectif de réaliser un nouveau logiciel embarqué pour l’observation
des usagers vulnérables. Ce projet, basé uniquement sur de la perception, vise à développer de
nouvelles méthodes de détection de piétons et de fusion de données en environnement urbain.
Au cours de ce projet, différents capteurs ont été exploités : laser [21] [22], monovison [23] et
stéréovision [24]. Plusieurs solutions de fusion multi-capteurs ont été proposées afin d’améliorer
les performances de perception [25] [26] [6] [27].
Les évaluations menées sur les différentes méthodes montrent que le suivi de piétons par capteur laser s’avère très efficace et que la reconnaissance par monovision peut être améliorée et
accélérée grâce à de meilleurs classifieurs [6] [23]. Un système combinant un capteur laser avec
la monovision fournit donc de bons résultats pour à la fois détecter les piétons tout en limitant
le nombre de fausses alarmes [25] [6].

Chapitre 2 Motivation et Préliminaires

2.3.3

31

Un premier projet combinant moyens de perception et de communication : WATCH-OVER

À la suite des projets PROTECTOR et SAVE-U, le projet WATCH-OVER (Vehicle-to-Vulnerable
roAd user cooperaTive communication and sensing teCHnologies to imprOve transpoRt safety)
[9] a pour objectif d’effectuer des communications coopératives pour la prévention des accidents
en milieux urbains et extra-urbains.

Figure 2.9: Architecture générale du projet WATCH-OVER

Le système est basé sur des appareils de communication bon marché ajoutés à un système de
perception s’appuyant sur des capteurs extéroceptifs pour effectuer la détection et le suivi des
obstacles routiers. L’architecture du système introduite dans [28] est présentée sur la Figure 2.9.
Le cœur du problème est l’interaction entre un module embarqué sur le véhicule et un module
utilisateur. Ainsi, ces deux plateformes fournissent des fonctionnalités différentes.
Les fonctions principales du module embarqué sont :

- détecter en temps réel les piétons, cyclistes et motocyclistes équipés d’un module utilisateur,

32

Chapitre 2 Motivation et Préliminaires

- calculer la position relative entre l’usager et le conducteur,
- détecter les situations dangereuses,
- avertir le conducteur,
- fournir des informations uniquement en cas de danger.

Les fonctions principales du module utilisateur sont :

- répondre aux requêtes du véhicule,
- fournir son identification et sa localisation,
- fournir des retours auprès de l’usager grâce à une interface appropriée.

Ce projet définit certaines spécifications pour le système ainsi que de nombreux scénarios d’accidents impliquant les usagers vulnérables.
Après une analyse des différentes technologies disponibles, il a été choisi d’utiliser une caméra
proche de l’infrarouge CMOS équipée de projecteurs infrarouges illuminant la scène. Ainsi, le
système de vision fonctionne de jour comme de nuit. Le module de communication utilise une
technologie des réseaux personnels sans fil (Norme IEEE 802.15.4) qui présente les avantages
d’être bon marché, de consommer peu d’énergie et de fournir une localisation précise. En effet,
la localisation est estimée en calculant le temps mis par le signal pour aller de l’émetteur au
récepteur. Cependant, si les deux appareils ont un décalage dans leurs horloges respectives, cette
méthode ne pourra plus fonctionner. Le dispositif de l’usager transmet également ses coordonnées GPS (Global Positioning System). Les résultats du projet sont exposés dans l’article [29].
Deux systèmes ont été testés sur les véhicules : un système de prédiction des collisions utilisant
uniquement les capteurs embarqués et un système coopératif basé sur des communications et
des capteurs embarqués.
Ce deuxième système est tout d’abord basé sur les données issues de la communication entre
le véhicule et l’usager vulnérable. Ces données définissent des régions d’intérêt dans les images

Chapitre 2 Motivation et Préliminaires

33

fournies par la caméra qui sont classifiées grâce à des méthodes d’apprentissage statistique [30].
En effet, lors de l’étape de classification, des primitives sont extraites des régions contenant des
usagers vulnérables potentiels puis comparées aux résultats fournies lors d’un apprentissage sur
des images connues. Ensuite, un algorithme de pistage améliore la localisation de cet usager. En
cas de danger, le conducteur est averti sur une IHM spécifique. De plus, des boı̂tiers de communication ont été développés à destination des piétons et des cyclistes. Ces boı̂tiers avertissent les
usagers en cas de danger. Pour les motocyclistes, des systèmes de communication intégrés dans
les casques ont été développés et une IHM affiche les avertissements directement sur le tableau
de bord.
Au niveau des résultats [29], les auteurs annoncent que leur système fonctionne pour les différents
scénarios prévus. Cependant quelques différences sont à noter. En effet, il semble que le système
soit efficace pour les scénarios dans lesquels il n’y a pas d’obstacle (ligne de vue directe entre
l’usager et le véhicule). Mais, lorsqu’un obstacle gène la vue directe de l’usager vulnérable par le
conducteur, la localisation de l’usager vulnérable manque alors de précision car elle est estimée
depuis le signal radio réfléchi.
En conclusion, nous pensons que ce système est intéressant par ces exigences, les scénarios étudiés et l’architecture proposée. Cependant, il ne semble pas pratique de devoir munir l’usager
d’un nouveau boı̂tier de communication. Une technologie basée sur des moyens existants directement à partir des téléphones portables serait plus intéressante. Les possibilités offertes par
la communication ne sont pas complètement exploitées et nous pouvons imaginer de nouvelles
informations à transmettre. Finalement, la coopération entre les modules de communication et
de perception n’est pas totalement exploitée car la perception n’influence pas la communication.

2.3.4

La sécurité coopérative à travers le projet Ko-TAG

A partir de 2009, le projet allemand Ko-FAS [31] a pour ambition de développer des solutions
coopératives pour améliorer la sécurité routière. Cette initiative se divise en trois sous-projets : les
composants coopératifs (Ko-KOMP), les transpondeurs coopératifs (Ko-TAG) et la perception
coopérative (Ko-PER).

34

Chapitre 2 Motivation et Préliminaires

Figure 2.10: Architecture générale du projet Ko-TAG

Le projet Ko-TAG [10] est celui qui nous intéresse le plus dans ce document. En effet, au cours
de ce projet, un module communicant appelé SafeTAG a été spécifiquement développé afin de
localiser les usagers vulnérables par rapport aux véhicules. Comme le présente la Figure 2.10,
les modules destinés aux usagers vulnérables communiquent vers les véhicules équipés avec des
unités embarquées.
Afin d’estimer la localisation des piétons, les partenaires de ce projet ont mis en œuvre des
méthodes basées sur le temps de vol et l’angle d’arrivée du signal en s’appuyant sur le standard
IEEE 802.11p [32]. Ce projet s’est principalement concentré sur l’étude de la couche liaison
de données pour la mise en place de moyens de localisation [33]. De plus, les solutions proposées ont été évaluées à la fois par le biais de simulations [33] et de tests réels sur les boı̂tiers
communicants [32].
Les contributions principales de ce projet sont la conception d’une topologie en trois couches impliquant les usagers vulnérables, les véhicules et l’infrastructure, et la démonstration du fonction-

Chapitre 2 Motivation et Préliminaires

35

nement de leur solution lorsque de nombreux usagers sont présents à l’aide de simulations [33].
Cependant, dans le cadre de ce projet, aucune information n’est réellement échangée entres les
utilisateurs et la seule information extraite est liée aux signaux radio.

2.4

Conclusion

Au cours de ce chapitre, nous démontrons l’intérêt de construire un système coopératif pour
protéger les usagers vulnérables.
Tout d’abord, à partir d’une étude spécifique des accidents impliquant les usagers vulnérables,
deux scénarios pour lesquels un piéton traverse la route devant un véhicule établissent deux
niveaux de complexité représentant l’influence des conditions de visibilité. Ensuite, les exigences
d’un système coopératif de protection des usagers vulnérables ont été définies et s’assurent qu’une
telle approche soit capable d’avertir les usagers du danger avant qu’une collision ne puisse être
évitée.
Puis, la définition des notions de perception et de communication montrent qu’elles sont complètement différentes et poursuivent des buts distincts. En effet, la perception vise à modéliser
l’environnement alors que la communication cherche à assurer l’échange d’information. Une correcte interaction entre ces deux modules introduit le terme de système coopératif. Ces systèmes
coopératifs doivent à la fois prendre en compte les informations échangées pour améliorer la
représentation de l’environnement et les connaissances de chaque usager pour mieux établir la
manière dont les données sont communiquées.
Finalement, l’état de l’art des projets de protection des usagers vulnérables montre que ce sujet
a principalement été abordé du point de vue de la perception. Or, celle-ci est toujours limitée
lorsque des usagers vulnérables sont masqués par un autre obstacle, e.g., une voiture garée. Les
premiers systèmes coopératifs se sont concentrés sur le développement de boitiers de communication à destination des piétons afin de mieux les localiser par rapport au véhicule. Cependant
ces projets n’ont pas considéré la réelle capacité des systèmes coopératifs à mettre les usagers
en interaction et ont plutôt vu la communication comme un nouveau capteur environnemental.

3
Approche multi-capteurs pour la
perception des vulnérables

2.1

2.2

Application de protection des usagers vulnérables . . . . . . . . . . .

12

2.1.1

Étude des accidents de la route impliquant des usagers vulnérables . . .

12

2.1.2

Scénarios pour l’évaluation des systèmes de protection des vulnérables .

14

2.1.3

Exigences relatives à un système de sécurité des vulnérables . . . . . . .

15

Définition de notions pour les ITS . . . . . . . . . . . . . . . . . . . .

18

2.2.1

Perception pour les véhicules intelligents . . . . . . . . . . . . . . . . . .

18

2.2.2

Communication véhiculaire . . . . . . . . . . . . . . . . . . . . . . . . .

22

37

38 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
2.2.3
2.3

État de l’art des systèmes de protection des vulnérables . . . . . . .

3.1
3.1.1

26
28

2.3.1

Des projets européens : PROTECTOR et SAVE-U . . . . . . . . . . . .

28

2.3.2

Le projet LOVe : Logiciels d’observation des usagers vulnérables . . . .

30

2.3.3

Un premier projet combinant moyens de perception et de communica-

2.3.4
2.4

Système coopératif . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

tion : WATCH-OVER . . . . . . . . . . . . . . . . . . . . . . . . . . . .

31

La sécurité coopérative à travers le projet Ko-TAG . . . . . . . . . . . .

33

Conclusion

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

35

État de l’art
Architecture générale des systèmes de protection des usagers vulnérables

La détection d’usagers vulnérables est un sujet actif dans le domaine des ITS depuis le début des
années 2000. En 2007, Gandhi et al. proposent une vaste revue des travaux passés sur ce sujet
[34]. Ce article détaille les différents projets ainsi que les moyens utilisés pour la conception de
systèmes assurant la protection des usagers vulnérables autour des fonctions présentées sur la
Figure 3.1.
Différentes fonctions élémentaires sont communes aux systèmes de protection des piétons : l’acquisition des données, la détection, la classification, le pistage, l’évaluation des risques, la prise
de décision et l’action. La Figure 3.1 résume ces différentes fonctions ainsi que l’ordre dans lequel
elles sont appliquées. Ce sont des systèmes passifs qui ont pour but de prédire une collision afin
de la signaler et de l’éviter.
En complément, lorsque la collision est inévitable, certains systèmes tels que les capots actifs
sont actionnés pour réduire la violence du choc et limiter les dégâts. Au cours de la thèse, nous
traitons des solutions liées à la prévention des accidents et n’abordons donc pas ces systèmes
actifs.

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 39

Figure 3.1: Système de protection des usagers vulnérables basé sur la perception

La Figure 3.1 illustre bien les étapes à suivre pour concevoir un système de protection des usagers vulnérables. Tout d’abord, des capteurs extéroceptifs sont nécessaires pour l’acquisition des
données sur l’environnement entourant le véhicule et des capteurs proprioceptifs fournissent des
mesures sur l’état du véhicule (vitesse, accélération,...). Les mesures capteurs sont traitées pour
détecter les candidats potentiels. L’étape de détection segmente les données brutes et extrait des
primitives caractérisant les usages vulnérables. Ensuite, les candidats potentiels sont comparés
à des modèles décrivant les usagers vulnérables pour attribuer une classe à chaque obstacle.
Les modèles d’apparence peuvent être générés à partir de méthodes empiriques ou par apprentissage automatique. Les règles de classification sont ainsi définies pour reconnaı̂tre les usagers
vulnérables. À partir de mesures de positionnement et de classification, le pistage améliore l’estimation de la trajectoire des usagers vulnérables depuis des modèles de déplacement tels que
le modèle à vélocité constante ou à accélération constante. Finalement, les futurs déplacements

40 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
des usagers vulnérables sont prédits depuis un modèle de comportement et la détection d’une
collision déclenche une action appropriée. Le travail présenté dans cette thèse se concentre particulièrement sur les étapes de détection, classification et pistage qui visent à représenter les
obstacles entourant le véhicule.
Parmi les nombreux systèmes présentés dans la littérature, la majorité s’est concentrée sur la
protection des piétons qui subissent la plus grande proportion d’accidents parmi les usagers
vulnérables [3]. Toutefois, certaines approches existantes pourraient être étendues aisément à
d’autres catégories telles que les cyclistes ou les motocyclistes.
En 2009, Gerònimo et al. [7] ont étudié plus particulièrement la détection de piétons pour les
systèmes d’aide à la conduite. Cet état de l’art reprend les différentes étapes introduites par la
chaı̂ne de traitement de la Figure 3.1 en abordant une revue des techniques existantes, l’analyse
de la situation ainsi que les défis demeurant. Elle s’articule plus spécifiquement autour des
systèmes de vision. Les auteurs mettent en avant que les systèmes actuels de reconnaissance
de piétons fonctionnent à un taux de fausses alarmes encore trop élevé pour être accepté. Ils
proposent d’explorer des voies telles que la classification multi-classes, l’utilisation de mesures
3D, l’apprentissage à partir de modèles multiples prenant en compte le niveau de détail relatif
à la distance entre le piéton et la caméra. De plus, ils soulignent le manque de travaux proposés
concernant le pistage des piétons.

3.1.2
3.1.2.1

Acquisition de données
Description des capteurs existants

Les capteurs utilisés pour l’acquisition des données impactent les traitements effectués. Ils sont
séparés en deux grandes classes : les capteurs actifs et les capteurs passifs.
Les capteurs actifs émettent un signal qui est réfléchi en présence d’un objet. La réflexion de
ce signal est reçue et une mesure de la distance avec l’objet est obtenue depuis l’intervalle de
temps entre l’émission et la réception. Cette catégorie comprend des capteurs tels que les radars

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 41
[19] [35] [36], les capteurs à ultrasons [37], les télémètres laser [38] [39] [40]. Tous ces capteurs
permettent de détecter la présence d’obstacles dans leur champ de vision (FOV - Field of View)
mais ne fournissent généralement pas une information assez précise pour déterminer le type des
objets rencontrés.
Les capteurs passifs fournissent des données à partir d’un signal transmis par divers éléments
extérieurs. Ainsi, les caméras vidéo sont des capteurs naturels pour reconnaitre les usagers vulnérables autour d’un véhicule. Cependant, elles ne donnent pas une bonne mesure de la distance à
laquelle se situe un objet détecté. En effet, beaucoup de méthodes de traitement d’image ont été
développées pour détecter et classifier les piétons [7] [41] [42]. Des systèmes de caméra infrarouge
sont utilisés pour la vision de nuit [43] [44]. La stéréovision offre une information plus précise
sur la position des usagers en combinant les images acquises depuis deux caméras et s’avère être
un capteur intéressant pour la détection des vulnérables [45] [46] [47].
Le Tableau 3.1 présente une comparaison des capteurs envisagés pour construire un système de
perception d’usagers vulnérables avec leurs atouts et limites. Le choix de capteur effectué pour
la thèse est justifié au cours de la prochaine section.

Tableau 3.1: Comparaison des capteurs existants

Capteur

Atouts

Limites
Capteurs Actifs
- Coût élevé

- Haute résolution de portée

- Perturbé par de mauvaises conditions

- Bonne résolution angulaire (0.125°)

météorologiques

Télémètre

- Grande portée de détection (100 m)

- Pas de mesure de vitesse

laser

- Large champ de vision (180° à 360°)

- Traitement complexe pour les objets

- Robuste aux changements d’illumi-

étendus

nation

- Occultation
- Encombrement

42 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
Capteur

Avantages

Limites

- Bon marché

Radar

- Haute résolution de portée

- Faible résolution angulaire

- Différentes portées (courte, moyenne

- Réflexion avec d’autres objets pos-

et longue)

sible

- Large ouverture de faisceau

- Champ de vision limité

- Faible impact de mauvaises condi-

- Si les objets sont immobiles, la détec-

tions météorologiques

tion est impossible

- Mesure la vitesse des usagers
- Surface de réflexion agit sur la détec-

- Bon marché
- Mesure de la distance
Capteur

- Mesure directement la vitesse des

ultrason

usagers
- Possibilité de supprimer le fond
- Facilement intégrable

tion, e.g., les vêtements pour la détection des piétons
- Impact des mauvaises condition météorologiques ; la vitesse des ondes sonores dépend de la température
- Faible portée

Capteurs Passifs
- Faible portée de détection
- Dépend des conditions d’illumination

Caméra

- Haute résolution à faible distance

- Traitement complexe et coûteux en

- Bon marché

temps

- Information riche

- Non adapté pour mesurer les dis-

- Haute résolution angulaire

tances et vitesses dans le cas monovi-

- Plusieurs techniques de reconnais-

sion

sance d’objet existantes

- Mouvement du véhicule nuit à la qua-

- Mesure de la distance par stéréovi-

lité des images

sion

- Faible résolution à longue distance
- Nécessite une calibration précise
- Occultation

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 43
Capteur

Avantages
- Illumine de manière active la scène en

Caméra

lumière proche infrarouge pour captu-

proche

rer une image

infrarouge

- Fonctionne avec différentes conditions d’illumination (jour et nuit)

Limites
- Cout élevé
- Champ de vision réduit dans de mauvaises conditions météorologiques
- Occultation

- Génère une image en détectant les
émissions thermiques des objets et des
surfaces de la scène

Vision
thermique

- Les personnes sont détectées facilement sur ces images
- Peu sensible aux changements d’illu-

- Limité les jours de grande chaleur
- Non adapté pour la mesure des distances
- Occultation

mination

3.1.2.2

Choix d’une configuration pour la perception des vulnérables

Après avoir étudié les capteurs possibles pour assurer la sécurité des usagers vulnérables, il
semble qu’un système s’appuyant à la fois sur des capteurs passifs et des capteurs actifs soit
nécessaire. En effet, les capteurs passifs offrent un contenu riche pour détecter et classifier les
usagers vulnérables alors que les capteurs actifs fournissent des mesures de distance voire de
vitesse de déplacement des obstacles autour du véhicule.
Parmi les capteurs actifs, les télémètres laser offrent les meilleures perspectives à l’avenir. En
effet, il fournissent des mesures très précises sur la distance à laquelle se situe un objet et fonctionnent en toutes conditions d’illumination. Ces capteurs fluctuent en termes de complexité allant des capteurs simple couche fournissant seulement une coupe en deux dimensions de l’espace
jusqu’à des télémètres multi-couches donnant une mesure en trois dimensions de l’environnement. Certaines versions sont développées à destination de l’industrie automobile et ils seront

44 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
vraisemblablement intégrées aux futures générations de voitures. Même si les capteurs radar
sont à présent très répandus dans l’industrie automobile, ils ne sont pas parfaitement adaptés
pour répondre à la problématique de la détection de piétons en milieu urbain du fait de leur
incapacité à détecter les obstacles immobiles comme peut l’être un piéton s’apprêtant à traverser
la rue, et du fait de leur faible résolution angulaire pour mesurer la position des obstacles.
Parmi les capteurs passifs, les caméras vidéos sont déjà très utilisées et de nombreuses solutions
ont été proposées à partir de ce type de capteur. Même si des améliorations sont encore requises,
la détection des piétons à partir de caméra a largement été étudiée par le passé [7] [8] et aucune
nouvelle méthode concernant le traitement des images caméra n’est présentée dans cette thèse.
Le système introduit dans la thèse utilise majoritairement les images comme moyen de validation
des détections effectuées par les capteurs actifs. De plus, les caméras vidéos fournissent des images
de jour et de nuit, dans les zones éclairées, ce qui correspond aux milieux urbains et aux cas
d’usages traités au cours de ce travail.

3.1.3

Formulation théorique du problème

Un obstacle routier est défini de manière théorique par sa position dans le plan (x, y), sa vélocité
(vx, vy) et sa classe C. Le paramètre décrivant l’état d’un obstacle routier est donc exprimé par
le vecteur d’état s défini dans l’équation (3.1).



x


 y


s=
 vx

 vy

C












(3.1)

Le Figure 3.2 illustre le FOV autour du véhicule en vert et la présence d’un piéton à l’intérieur
de ce FOV. L’environnement est muni d’un repère global (OG , X G , Y G ) et l’état du véhicule
G
G
dans ce repère est donné par sa position (xG
V , yV ), son orientation θV ainsi que sa vitesse vV .

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 45

YL

XL
G G
OL = (xG
V , yV , θV )


svru



=



xL
vru
L
yvru
vxL
vru
L
vyvru
Cvru








YG
XG

Champ de Vision

OG

Figure 3.2: Représentation du problème de la perception d’un piéton

Ces paramètres sont connus de manière incertaine et un repère local (OL , X L , Y L ) centré sur
l’essieu arrière du véhicule lui est associé. Sur la Figure 3.2, un usager vulnérable (ici, un piéton)
L
dont l’état est la variable svru se situe à une position (xL
vru , yvru ) et se déplace à une vitesse
L
(vxL
vru , vyvru ) dans le repère local du véhicule. Cet usager vulnérable est de classe Cvru . La

connaissance de la position de l’usager relativement au véhicule et de sa vitesse de déplacement
absolue facilite la prédiction de ses mouvements futurs.
Les paramètres de position, vitesse et classe de tous ces usagers ne sont pas directement accessibles depuis le véhicule, mais sont observés grâce aux capteurs embarqués. L’équation (3.2)
définit la fonction d’observation, Ψ(.), où z(t) ∈ M représente une observation de l’état s(t)
dans l’espace de mesure M , à un instant t, bruitée par un bruit aléatoire v(t). Cette fonction

46 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

Fonction d’observation

s(t)

v(t) ∼ p(.)

z(t)

Ψ(t, t0 , s(t), v(t))

Figure 3.3: Fonction de génération de mesures bruitées

d’observation est illustrée sur la Figure 3.3.

z(t) = Ψ(t, t0 , s(t), v(t))

(3.2)

L’inférence statistique consiste à modéliser les données observées de manière probabiliste afin
de comprendre le phénomène qui les a générées. Ainsi, la théorie de la décision statistique
s’appuie sur cette modélisation pour prendre une décision concernant le signal ayant généré
les observations.
En complément, rappelons que l’estimation consiste à associer une valeur β̂ à un paramètre
β à partir d’un m-uplet Z = (z1 , ..., zm ) ∈ Mm contenant m observations générées depuis un
modèle ou une distribution p(Z, β). Un estimateur est, par définition, une fonction qui associe
un vecteur de paramètres β̂ à partir des observations Z (équation (3.3)).

g : Mm → Θ
Z

(3.3)

→ β̂ = g(Z)

L’obtention d’un estimateur ainsi que la définition d’une fonction de décision s’effectue par
l’optimisation d’une fonction de risque moyen exprimée dans l’équation (3.4) où la fonction

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 47
r(β̂, β) est une fonction de coût.

Z Z
R = E{r(β̂, β)} =

r(g(Z), β)p(Z, β)dβdZ

(3.4)

Pour estimer au mieux l’état des usagers vulnérables, nous définissons les notions suivantes :

- la détection consiste à déterminer si une mesure z à été générée par une source, i.e., un
obstacle routier ou bien si elle provient du bruit de mesure,
- la classification consiste à déterminer la classe C ∈ C du paramètre ayant généré la mesure
z où C est un ensemble discret fini,
- le filtrage consiste à estimer la valeur d’un paramètre aléatoire β à partir d’une série de
mesures consécutives (z1 , ..., zm ) sur ce paramètre.
i (t)
En conclusion, à tout moment t, le système de perception estime un ensemble de pistes Tper

décrivant l’état des Nper,t usagers (i = 1, ..., Nper,t ) présents dans l’environnement du véhicule
comme décrit sur par l’équation (3.5).

i
Tper (t) = {Tper
(t)}i=1,...,Nper,t

(3.5)

i (t) représente la trajectoire de l’usager par une suite d’états estimés ŝi par le
Chaque piste Tper

système de perception entre l’instant initial t0 et l’instant t.

i
Tper
(t) = (ŝi (k))k=t0 ,...,t

(3.6)

Afin de construire l’ensemble des pistes à tout instant, les usagers doivent être détectés et le
paramètre de classe estimé pour chacun d’entre eux. De plus, un filtrage temporel estime les
paramètres dynamiques que sont la position et la vitesse de déplacement pour chaque usager.

48 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

3.1.4
3.1.4.1

Détection des vulnérables à partir de différents capteurs
Formulaltion de la détection statistique

Dans un problème de détection, l’objectif est de concevoir un test d’hypothèse pour déterminer,
parmi deux hypothèses H0 et H1 de paramètres inconnus β0 ou β1 , laquelle est à l’origine de
l’observation z.
Les deux hypothèses suivantes sont usuellement utilisées pour déterminer la présence d’un obstacle :

- H0 , P (z|β0 ) (Pas d’obstacle présent)
- H1 , P (z|β1 ) (Présence d’un obstacle)

La fonction de décision recherchée sépare l’espace d’observation en deux sous ensembles correspondant chacun à une décision. Pour cela, une fonction de coût relative aux différentes erreurs
de détection est définie et la fonction de risque introduite par l’équation (3.4) est optimisée.
Les signaux générés à partir de l’hypothèse H0 sont considérés comme étant du bruit alors que
les signaux générés à partir de H1 sont constitués d’une composante déterministe générée par
l’observation de l’obstacle ainsi que d’un bruit de mesure.

Détection bayésienne Dans le contexte bayésien, un couple de variables aléatoires (D, H)
pouvant prendre les valeurs {Hi ; i = 0, 1} est considéré et un coût rij caractérise chaque couple
de décision {D = Hj , Hi ; i, j = 0, 1}. Ce coût est à définir selon certains critères :
- rij est faible en cas de détection correcte, i.e. lorsque i = j
- rij est élevé en cas d’erreur de détection, i.e. lorsque i 6= j
- rij > 0

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 49
À partir de cette fonction de coût, de la probabilité conditionnelle P (D = Hj |Hi ) de prendre la
décision D = Hj étant donnée l’hypothèse Hi , de la probabilité a priori de chaque hypothèse
P (Hi ), la fonction de risque définie dans l’équation (3.4) est exprimée comme suit grâce à la
règle de Bayes :

R=

1 P
1
P

rij P (D = Hj , Hi )

i=0j=0
1 P
1
P

(3.7)

rij P (D = Hj |Hi )P (Hi )

i=0j=0

La minimisation du risque décrit par l’équation (3.7) permet d’aboutir à un critère de décision
faisant apparaı̂tre le rapport de vraisemblance Λ =

P (z|H0 )
P (z|H1 )

D=H0

≷

D=H1

P (z|H0 )
P (z|H1 )

comme décrit sur l’équation (3.34).

(r10 − r11 )P (H1 )
(r01 − r00 )P (H0 )

(3.8)

Dans ce document, les calculs permettant d’aboutir au critère de décision de l’équation (3.8) ne
sont pas détaillés. Le lecteur intéressé peut se référer au cours de Jean-Marc Boucher [48].

Détection Non Bayésienne Dans de nombreux cas, les probabilités a priori sont inconnues
et d’autres critères permettent de calculer le risque associé à la détection. La probabilité de
fausse alarme, aussi appelée erreur de première espèce, est définie par P f a = P (D = H1 |H0 ).
La probabilité de manque, aussi appelée erreur de seconde espèce, est définie par P ma = P (D =
H0 |H1 ). La probabilité de détection est établie comme P d = 1 − P ma .
Des critères non-bayésiens tels que le critère de Neyman-Pearson et le critère du minimax [48]
optimisent l’algorithme de détection en fonction des probabilités de fausse alarme et de manque.
Une technique de segmentation visant à maximiser les objets détectés tout en minimisant les
fausses alarmes est décrite dans la section 3.2.2. Nous introduisons également un modèle de
probabilité de détection lié à cet algorithme afin de représenter ces performances (section 5.2.1).

50 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
3.1.4.2

Détection à partir de laser

Les télémètres laser sont très appréciés pour détecter les obstacles routiers, particulièrement,
les usagers vulnérables. Certains projets tels que le projet européen PROTECTOR ou le projet
français LOVe se sont particulièrement intéressés à ce capteur pour la détection des piétons [21]
[22] [39]. Les télémètres laser émettent un faisceau infrarouge qui se réfléchit sur les obstacles
et ils produisent un nuage de points de la scène. Chaque obstacle est donc décrit par plusieurs
impacts du faisceau. En utilisant un algorithme de segmentation et de regroupement des points,
comme présenté par Mendes dans [49] ou par Nashashibi et Brageton dans [50], les obstacles
sont détectés.
Lorsque plusieurs faisceaux laser illuminent l’environnement en parallèle, un nuage de points en
trois dimensions est disponible. Des techniques de séparation du nuage de points spécifiques sont
appliquées dans ce contexte [51].
Le fonctionnement de ces capteurs est perturbé en cas de mauvaises conditions météorologiques
(pluie, neige, . . . ). En cas de pluie, les rayons infrarouges émis par le laser sont réfléchis par les
gouttes d’eau. Ces fausses alarmes doivent alors être filtrées lors de la détection [22].

3.1.4.3

Détection à partir de radar

La détection de piétons à l’aide de capteurs radar s’effectue de manière précise en utilisant l’effet
Doppler qui mesure la vitesse relative. Le temps de vol de l’onde électromagnétique donne également une mesure de la distance entre l’émetteur et l’obstacle. Au contraire du laser, le capteur
radar fonctionne pour toutes les conditions climatiques. Les articles [19] et [35] s’intéressent à
l’utilisation du radar dans le domaine de la détection de piétons. L’effet Doppler fournit effectivement une mesure de la vitesse du piéton. Cependant, lorsque celui-ci est immobile, il n’est
pas possible de le détecter, ce qui est problématique aux intersections.
Plus récemment, une approche de type Track-before-Detect [52] a été appliquée pour le pistage
de piétons. Ce type de solution est avantageuse pour les obstacles réfléchissant peu les ondes
radio émises par le capteur radar.

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 51
3.1.4.4

Détection à partir de caméra

La détection de piétons à partir d’images caméra consiste à extraire un ensemble de candidats
pour les comparer, par la suite, à un modèle prédéfini.
Papageorgiou et al. [53] ont initialement proposé un dictionnaire complet de primitives s’adaptant à plusieurs orientations et échelles tout en étant simples à calculer à partir de la transformation en ondelettes de Haar. Ces descripteurs, bien que trop simples pour complètement
représenter des piétons, ont ouvert la voie pour d’autres chercheurs en s’appuyant notamment
sur une description multi-échelle des contours des objets d’intérêts. Par la suite, plusieurs stratégies ont été employées pour décrire les obstacles soit par leurs contours ou leurs textures. Ainsi,
le descripteur considéré comme référence de comparaison par excellence est l’histogramme de
gradients orientés (HOG - Histogram of Oriented Gradients) introduit par Dalal et Triggs [54].
Les motifs binaires locaux (LBP - Local Binary Pattern) ont montré leur puissance pour décrire les textures [55]. Wang et al. [56] ont proposé la combinaison de ces deux descripteurs afin
d’obtenir une classification plus robuste des piétons. Au cours de cette thèse, le problème de
reconnaissance visuelle des piétons n’est pas spécifiquement traité et nous renvoyons les lecteurs
intéressés vers la littérature dédiée [7] [8].
Le recherche de candidats potentiels dans les images est une fonction coûteuse en temps de calcul
car de très nombreux candidats existent [7]. Afin de faciliter le calcul des descripteurs proposés
par Papageorgiou et al., Viola et Jones ont introduit une nouvelle représentation, appelée image
intégrale, pour accélérer les calculs multi-échelle. La localisation des vulnérables par rapport au
véhicule influe sur la taille des piétons dans les images, ainsi, des approches multi-résolution
génèrent des régions d’intérêt (ROIs) à partir des paramètres de la caméra et d’a priori sur la
taille des usagers recherchés [43] [57]. La classification est effectuée uniquement sur ces ROIs, ce
qui accélère les calculs.

52 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

3.1.5

Classification des usagers vulnérables

3.1.5.1

Formulation de la classification par apprentissage statistique

La classification a pour objectif d’attribuer une classe sélectionnée dans un ensemble prédéfini
à chaque signal observé.
Dans cette section, le paramètre à estimer est une classe C ∈ C où C est un espace discret fini.
Les méthodes statistiques s’appuient sur une frontière de décision pour affecter une classe à
partir de chaque observation. L’enjeu de la classification est donc de déterminer une fonction
discriminante afin de construire cette frontière de décision. Dans la suite du document, nous
notons d(.) la fonction décrivant cette frontière de décision.

Espace de mesure
M


z

Espace des classes
C

Espace de description
Rl

F1 (.), F2 (.), ..., Fl (.)



f=



f1
f2
.
.
fl








d(.)

C

Figure 3.4: Schéma de classification statistique

Les auteurs de l’article [58] fournissent une large étude sur les méthodes d’apprentissage statistique. La Figure 3.4 illustre le schéma général d’une méthode de classification statistique
tel qu’introduit dans [58]. Une observation z est décrite par un vecteur contenant l primitives
f = [f1 , ..., fl ]T pour lequel fj est la valeur obtenue en appliquant la fonction Fj : M → R
à la donnée z. L’application de la fonction de décision d(.) au vecteur de primitives f permet
d’estimer la classe C.
Dans le contexte de la classification d’usagers de la route, la construction d’une fonction de déci-

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 53
sion s’avère être une tache complexe car il n’existe pas de modèle explicite définissant comment
les observations sont générées pour chaque classe. Suivant les capteurs utilisés, les fonctions
primitives sont définies pour décrire le plus globalement possible les classes d’usagers, ensuite,
l’utilisation de méthodes d’apprentissage statistique permet de construire la fonction de décision
à partir de données annotées.
Le notion de risque empirique introduite par Vapnik et al. [59] donne une définition de la fonction de risque présentée dans l’équation (3.4) à partir d’observations d’un phénomène lorsque
qu’aucun modèle n’est disponible. Le risque empirique Remp est défini dans l’équation (3.9).

Remp

N
1 X
=
r(C i , d(fi ))
N

(3.9)

i=1

Une méthode basée sur l’apprentissage statistique suppose qu’un superviseur connait un ensemble de N couples de variables {(C i , fi ); i = 1, ..., N } pour lesquelles C i est la classe associée
au vecteur de primitives fi de l’observation i. L’optimisation du risque empirique fournit un modèle d(.) sur la génération des observations pour chaque classe. Le modèle d(.) est une fonction
définie à partir d’un certain nombre de paramètres. Le processus d’apprentissage assigne des
valeurs aux paramètres caractérisant le modèle. Dans les paragraphes suivants, nous introduisons deux méthodes de construction de ces modèles qui sont les machines à vecteurs de support
(SVM) et le boosting adaptatif (Adaboost).
Finalement, un critère de décision assigne une classe en évaluant chaque observation vis à vis de
la fonction de décision.

Machines à Vecteurs de Support (SVM) Les machines à vecteurs de support (SVM) ont
été introduites pas Vapnik et al. [60] pour traiter une classification à deux classes. L’objectif de
cette méthode est de déterminer l’hyperplan séparant les classes.

w T f + w0 = 0

(3.10)

54 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
Vapnik et al. [60] ont montré que la recherche de l’hyperplan séparateur revient à résoudre
l’optimisation décrite dans l’équation (3.11) où (C v , fv ) ∈ V. V est un sous ensemble de Nv
couples de variables fournies par le superviseur, appelé ensemble des vecteurs de support, qui
permet la maximisation des marges entre les données de chaque classe.

Minimiser 21 kwk sous les contraintes C v (wT fv + w0 ) ≥ 1

(3.11)

L’équation (3.10) suppose que les données du superviseurs sont linéairement séparables lors du
calcul de l’hyperplan optimal. Lorsque ce n’est pas le cas, une fonction noyau Υ modifie l’espace
d’entrée dans un nouvel espace dans lequel l’hyperplan peut être calculé.

Υ : Rl × Rl → R
(fi , fj )

(3.12)

→ Υ(fi , fj )

Dans un environnement réel, les mesures peuvent être fortement erronées, ce qui contredit les
hypothèses de départ de SVM pour lesquelles un superviseur a été parfaitement capable d’associer les données avec une classe. Cortes et al. [61] ont introduit une condition d’assouplissement
pour l’estimation de la marge et tolérer un taux d’erreurs e lors de l’apprentissage, une tolérance
δ est associée à chaque vecteur de support.
Dans un cas général, l’optimisation revient à résoudre le système décrit par l’équation (3.13).
Les valeurs α1 , ..., αNv et l’ensemble de vecteurs de support peuvent être obtenus en résolvant
un problème d’optimisation quadratique [62].

min (

Nv P
Nv
P

α1 ,...,αNv i=1j=1


αi αj C i C j Υ(fi , fj ) + e

δv )

P

∀(C v ,fv )∈V

!
sous les contraintes

C vj

P

(αv C v Υ(fv , fvj ))

+ α0

(3.13)

≥ 1 − δ v , δ vj ≥ 0

∀(C v ,fv )∈V

Finalement, la fonction de décision pour le SVM est fournie par l’équation (3.14). Afin d’attribuer
une classe au vecteur f, il convient d’appliquer un seuil approprié à la valeur de décision d(f).

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 55
Usuellement, le signe de d(f) permet de prendre la décision finale, mais une autre valeur de seuil
peut être choisie suivant l’expérience observée lors de l’évaluation du classifieur.

d(f) =

X

(αv C v Υ(fv , f)) + α0

(3.14)

∀(C v ,fv )∈V

SVM est une méthode de classification très appréciée car elle sépare de manière optimale l’espace
de description en deux. Cependant, ses performances sont très fortement diminuées lorsque
cette frontière de séparation n’est pas identifiée clairement et que de nombreuses erreurs de
classification se produisent durant la phase d’apprentissage.

Boosting Le boosting a pour objectif d’améliorer la précision d’une méthode d’apprentissage.
Ce n’est pas à proprement dit une méthode d’apprentissage, mais le boosting s’appuie sur différents apprentissages afin d’améliorer leurs performances. Le boosting trouve son origine dans
l’apprentissage PAC (probably approximately correct) introduit pas Valiant [63] permettant
d’évaluer la complexité d’un problème d’apprentissage. La question posée par Kearns et Valiant
[64] est de savoir s’il est possible de construire un classifieur fort à partir d’un ensemble de
classifieurs faibles. Un classifieur faible est définit comme un classifieur légèrement meilleur que
le hasard, c’est à dire, dont les performances sont tout juste supérieures à 50%. Le problème
revient ainsi à déterminer une combinaison de classifieurs faibles menant à une classification
avec des performances élevées, une telle combinaison est appelée un classifieur fort. Une réponse
à cette question a été apportée par Freund et Schapire avec l’algorithme Adaboost [65].
Adaboost est une méthode itérative qui construit le classifieur fort à partir de Q classifieurs
faibles. Pour q = 1, ..., Q, un classifieur faible hq est une fonction définie par l’équation (3.15)
qui associe une valeur prise dans l’ensemble {−1; +1} au vecteur de primitive f.

hq : Rl → {−1; +1}
f

→ hq (f)

(3.15)

56 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
À chaque instant q = 1, ..., Q, une distribution Dq (.) pondère l’ensemble d’apprentissage {(C i , fi ); i =
1, ..., N }. Des classifieurs faibles sont entrainés sur cet ensemble d’apprentissage suivant la distribution Dq (.).
L’erreur d’apprentissage, δq , du classifieur faible hq est définie par l’équation (3.16)

X

δq =

i

i:hq (f

Dq (i)

(3.16)

)6=C i

De plus, un coefficient αq calculé à partir de l’erreur d’apprentissage pondère le classifieur faible
comme montré sur l’équation (3.17).

1 1 − δq
αq = ln(
)
2
δq

(3.17)

Finalement, la fonction de décision définie par le classifieur fort est une somme pondérée de
chaque classifieur faible hq par la valeur αq comme le montre l’équation (3.18).

d(f) =

Q
X

αq hq (f)

(3.18)

q=1

Le choix du classifieur faible ainsi que de la méthode d’apprentissage de ces classifieurs est laissé
à l’utilisateur par Freund et Schapire. Nous décrirons plus précisément les classifieurs que nous
avons choisi d’utiliser pour classifier les usagers de la route dans la section 3.3.3.
La méthode de classification par adaboost est très intéressante car elle permet de construire de
manière itérative un classifieur à partir d’un ensemble de classifieurs faibles qui peuvent être des
fonctions très simples appliquées à l’ensemble de données.

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 57
3.1.5.2

Classification à partir d’images caméra

Une première solution pour reconnaı̂tre les piétons a été de comparer les détections effectuées
à des modèles de piétons et de juger la ressemblance [66]. Cette méthode est naturelle, mais il
n’est pas aisé d’obtenir des modèles pour des piétons qui sont tous différents.
Les méthodes d’apprentissage automatique ont largement été utilisées pour la reconnaissance
de piétons. Ces solutions nécessitent d’entrainer un classifieur afin de déterminer si un candidat
détecté correspond à un piéton ou non. Dans ce contexte, plusieurs approches ont été appliquées
comme SVM [54] ou les réseaux de neurones [41]. Viola et Jones [67] ont proposé une technique
consistant à entrainer plusieurs classifieurs en cascade à partir de la méthode adaboost. Ces
classifieurs représentent ainsi différents niveaux de complexité pour la description des piétons et
sont combinés pour construire un classifieur fort. Le méthode de Viola et Jones fournit de bons
résultats pour la reconnaissance de visages, mais la simplicité des descripteurs ne la rend pas
satisfaisante pour la classification de piétons. Dans l’article [68], les auteurs ont appliqué cette
approche avec les descripteurs de type HOG.
Un grand nombre de méthodes ont été proposées au cours de ces dernières années dans le domaine de la reconnaissance de piétons. Cependant, une étude récente [8] montre que des résultats
satisfaisants n’ont pas encore été atteints pour une application telle que la sécurité des usagers
vulnérables. En effet, de nombreuses approches donnent des résultats encourageants lorsque ces
usagers sont détectés dans de bonnes conditions mais dès que celles-ci se compliquent (occultation partielle, piéton éloigné de la caméra), les performances des classifieurs sont fortement
réduites. Les performances des méthodes d’apprentissage sont aussi fortement dépendantes des
séquences d’apprentissage, c’est à dire, de la caméra utilisée pour l’entrainement, des conditions
météorologiques et de l’environnement.

3.1.5.3

Classification à partir de données laser

La reconnaissance d’objets mobiles a été un sujet d’intérêt dans le domaine de la robotique.
Dans les environnement intérieurs, ce problème a tout d’abord été traité en supposant que les

58 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
objets dynamiques sont uniquement des personnes, ce qui revient à traiter le suivi de cibles
à partir de données laser [69]. Arras et al. [70] ont été les premiers à appliquer des méthodes
d’apprentissage pour reconnaitre des personnes dans les données laser 2D. Dans leur travail,
les auteurs définissent un ensemble de 14 primitives pouvant être extraites de segments laser et
apprennent un modèle de description des personnes en appliquant une stratégie d’adaboost [67].
Ils établissent ainsi une classification binaire entre des classes « personne » et « non personne ».
Les performances de cette méthode sont évaluées à partir d’une matrice de confusion comparant
les résultats obtenus pour des objets de chaque classe dans un couloir et un bureau. Les résultats sont très prometteurs avec plus de 90% de bonnes détections et moins de 5% de fausses
alarmes. Cependant, ces performances sont plus nuancées dans des environnements encombrés
comme le bureau et lorsque le classifieur appris dans le bureau est appliqué dans le couloir.
L’application directe de cette méthode aux environnements extérieurs et urbains semble difficile
car l’encombrement y est beaucoup plus important qu’en intérieur.
Afin d’obtenir des taux de reconnaissance suffisant en extérieur, il semble trop juste d’utiliser des
télémètres 2D simple couche. Certains chercheurs ont équipé leurs véhicules à l’aide de caméras
et ont utilisé une combinaison entre une reconnaissance par vision et une détection d’obstacles
s’appuyant sur des données laser [6] [71]. Les laser 3D présentent également un intérêt car
ils fournissent une représentation plus dense de l’environnement [72] [73] [74] [75]. Dans [72],
les auteurs calculent des primitives au niveau de chaque point laser afin d’assigner un label à
chaque point du nuage. Ensuite, une classification par SVM est effectuée pour reconnaitre parmi
les objets de type véhicule et non véhicule. Dans [73], les auteurs définissent deux types de
descripteurs dans les données laser : des descripteurs de segments décrivant l’apparence d’un
objet et des descripteurs holistiques pour décrire des propriétés plus générales telles que la
vitesse ou l’accélération. Dans ce travail, les descripteurs de segments sont calculés à partir des
caractéristiques introduites dans le domaine de la vision telles que les images spin [76] et les
HOG [54]. Cependant, cette dernière approche requiert beaucoup de ressources dû au nombre
élevé de données nécessaires au calcul des descripteurs de segments. Des approches basées sur le
traitement de chaque couche ont été proposées [74] [75]. Toutes deux s’appuient sur une stratégie
adaboost pour construire le classifieur. Ces solutions sont plus simples et doivent permettre de

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 59
réduire les coût associés aux calculs tout en conservant des performances acceptables.

3.1.6
3.1.6.1

Fusion multi-obstacles/multi-capteurs
Formulation du filtrage dynamique

Les usagers vulnérables sont des obstacles dynamiques représentés par une variable d’état aléatoire s introduite dans l’équation (3.1).

s(t0 )

Fonction d’évolution

e(t)

s(t)
Φ(t, t0 , s(t0 ), e(t))

Figure 3.5: Modèle d’évolution du système dynamique

Dans le contexte des systèmes dynamiques, le paramètre à estimer est donc la variable d’état
s qui évolue au cours du temps t en fonction des entrées du système e ainsi que des conditions
initiales à t0 , s(t0 ), comme décrit dans l’équation (3.19). La Figure 3.5 illustre l’évolution de la
variable d’état du système dynamique.

s(t) = Φ(t, t0 , s(t0 ), e(t))

(3.19)

Les observations sur la variable s sont discrétisées dans le temps en fonction de la période
d’échantillonnage du capteur utilisé. Plus précisément, pour chaque instant tk , s est indexée par
l’entier k et la séquence (sk )k∈N+ est considérée comme un processus markovien aléatoire.

60 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
Le filtrage consiste à déterminer la probabilité a posteriori pour la variable sk à partir de la suite
des observations (zik )ik =1,...,k . Cette densité de probabilité à l’instant k est notée p(sk |z1:k ).
Finalement, plusieurs estimateurs sont possibles pour estimer la variables d’état ŝk comme l’estimateur défini par le critère du minimum d’erreur quadratique moyenne (MMSE) dans l’équation (3.20) ou l’estimateur défini par le critère du maximum a posteriori (MAP) dans l’équation (3.21).

Z
sk p(sk |z1:k )dsk .

(3.20)

ŝk = arg max(p(sk |z1:k )).

(3.21)

ŝk =

sk

Filtrage bayésien L’équation de Bayes permet de calculer la densité de probabilité a posteriori au cours du temps à travers une fonction de vraisemblance p(zk |sk ), une densité a priori
p(sk |z1:k−1 ) et un terme de normalisation p(zk |z1:k−1 ) comme montré dans l’équation (3.22).

p(sk |z1:k ) =

p(zk |sk )p(sk |z1:k−1 )
p(zk |z1:k−1 )

(3.22)

La densité a priori p(sk |z1:k−1 ) est prédite grâce à l’équation de Chapman-Kolmogorov dans
l’équation (3.23) à partir de la densité de probabilité a posteriori calculée à l’instant k − 1 et la
densité de probabilité décrivant l’évolution de la variable d’état p(sk |sk−1 ).

Z
p(sk |z1:k−1 ) =

p(sk |sk−1 )p(sk−1 |z1:k−1 ) dsk−1

(3.23)

Le terme de normalisation est donné depuis l’équation (3.24).

Z
p(zk |z1:k−1 ) =

p(zk |sk )p(sk |z1:k−1 ) dsk

(3.24)

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 61
En conclusion, à partir d’une distribution de l’état initial p(s0 ), les équations (3.23) et (3.22) font
apparaitre un algorithme récursif pour calculer les distributions a posteriori de la variable d’état.
Cependant, ces équations demandent des calculs d’intégrales qu’il n’est pas toujours possible
d’évaluer. Le filtre de Kalman [77] offre une solution lorsque les équations de mesure (3.2)
et de modèle (3.19) sont linéaires et les bruits associés gaussiens. Nous verrons dans la suite
comment appliquer ce filtre au suivi de vulnérables (section 3.2.5). Le filtre de Kalman fournit
une estimation de l’état du système à l’instant k connaissant les observations jusqu’à cet instant,
ŝk , et une estimation de l’incertitude de cette valeur par l’estimée de la matrice de covariance
Σ̂k .

Extension au cas multi-obstacles Pour le moment, la variable d’état s ne décrit qu’un seul
obstacle. En réalité, à chaque instant k, le véhicule est entouré de Nk obstacles dynamiques que
nous notons {sik }i=1,...,Nk .
Les systèmes de mesures sont imparfaits et soumis à des non détections et à la présence de
fausses alarmes. À chaque instant k, mk observations (zjk )j=1,...,mk sont données par le système
de capture. Chaque observation peut être générée depuis un obstacle ou est une fausse alarme
et chaque obstacle peut soit produire une mesure ou ne pas être détecté. Trois configurations
d’associations existent entre l’ensemble des obstacles routiers et l’ensemble des mesures :
- l’observation zjk provient de l’obstacle sik ,
- l’observation zjk est une fausse alarme,
- l’obstacle sik est non-détectée.
La résolution de ce problème d’association s’appuie sur de méthodes probabilistes qui ont été
étudiées, par exemple, dans la thèse d’Évangeline Pollard [78]. Nous rappelons ici les techniques
mises en application pour suivre de multiples obstacles en milieu urbain.
Pour une piste i correspondant à l’obstacle sik , le fenêtrage statistique consiste à sélectionner
les mesures zjk statistiquement proches de l’état prédit de l’obstacle à l’instant k à partir des

62 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
observations effectuées jusqu’à l’instant k − 1. L’équation (3.25) introduit la fenêtre statistique
qui s’appuie sur la distance de Mahalanobis à partir de la covariance prédite, Σik|k−1 , de la
piste pour ajuster la taille de la fenêtre. Plus les caractéristiques d’une piste sont sures, plus
sa covariance est faible et plus la fenêtre est rétrécie. Finalement, une possible association est
acceptée ou rejetée en comparant cette distance à un seuil statistique γw fixé.
i
i
(zjk − sik|k−1 )T Σ−1
k|k−1 (zk − sk|k−1 )

rejetée

≷

γw

(3.25)

acceptée

Lorsque cette première étape a permis le filtrage des associations impossibles, différentes techniques permettent de calculer la valeur de la distribution a posteriori. L’association ayant la
plus grande probabilité peut être choisie (méthode du plus proche voisin), chaque association
contribue au calcul de la distribution a posteriori (méthode de type joint probabilistic data
association - JPDA) [79] ou les hypothèses d’associations multiples génèrent plusieurs filtres en
parallèle (méthode de suivi multi-hypothèses - MHT) [80].

3.1.6.2

Fusion multi-capteurs pour la protection des vulnérables

Après avoir vu la détection et la classification, la fusion multi-capteurs pour la protection des
usagers vulnérables est une fonction importante. En effet, de nombreux systèmes sont conçus
avec de multiples capteurs et se servent de leur complémentarité.
L’information est définie comme la fonction descriptive du fonctionnement d’un système, c’est à
dire, comment des observations sont générées depuis l’état des obstacles entourant un véhicule.
À partir de cette définition, deux formes majeures d’imperfections caractérisent l’information :
- l’incertitude représente les erreurs possibles dans l’expression de la fonction d’information,
- l’ambiguı̈té caractérise une connaissance faible dans l’espace des données résultant dans
une non unicité de la donnée pour chaque obstacle, on parle également d’imprécision.
La description précise des fonctions d’information relatives à chaque type de capteur permet la
conception de méthodes de fusion d’information multi-capteurs.

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 63
Dans l’article [81], Dasarathy propose une taxonomie de la fusion multi-capteurs en divisant
différents niveaux de fusion :

- fusion au niveau données,
- fusion au niveau primitives,
- fusion au niveau décision,
- fusion temporelle.

Les premiers exemples de fusion d’information pour les systèmes de détection de piétons se
situent au niveau données et primitives. Dans [82], les auteurs proposent d’effectuer le suivi
des piétons dans un repère cartésien 3D. Ils projettent les pistes dans des images infrarouge à
partir des paramètres de calibration pour confirmer s’il s’agit effectivement de piétons. Dans
[30], les auteurs proposent de générer des ROIs à partir de la réception de signaux émis par les
piétons et l’estimation de la position de ces vulnérables par méthode de triangulation. L’article
[26] montre l’importance du pré-traitement des données et propose une solution de classification
multi-capteurs en s’appuyant sur une fusion au niveau données pour réduire le nombre d’objets
à classifier. Cette action élimine des fausses alarmes et accélère les calculs.
La fusion à un plus haut niveau requiert la formulation de règles afin de mettre en correspondance
les décisions relatives à chaque capteur. Des approches crédibilistes [25] [83] et probabilistes [6]
[84] [85] ont permis la fusion à partir de données laser et caméra.

3.1.6.3

Pistage multi-obstacles

Les observations successives d’un même obstacle permettent de mieux estimer sa trajectoire
ainsi que certains paramètres qui ne peuvent être directement mesurés. À partir de modèles de
déplacement des piétons, des techniques de suivi ont été étudiées [86]. Une application spécifique
à été proposée par Shulz et al. [87] afin de pister de multiples piétons environnant un robot mobile
grâce à un filtre particulaire et à des mécanismes d’association statistique. Un défi important

64 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
soulevé par les auteurs consiste à gérer les occultations tout en gardant une continuité des pistes.
Le pistage par filtre de Kalman a également été introduit par Premebida et Nunes [88]. Dans
cet article, les auteurs montrent comment est pris en compte le déplacement du véhicule pour
la mise à jour des positions des obstacles.
Plus récemment, le développement des filtres PHD (Probability Hypothesis Density) et CPHD
(Cardinalized PHD) basés sur la théorie des ensembles finis aléatoires a permis aux chercheurs
de proposer de nombreuses solutions pour le pistage des piétons [89] [90] [91] [92]. Ces nouvelles
approches gèrent le nombre potentiellement important de cibles ainsi que les occultations par
l’utilisation de modèles adaptés à chaque type de capteur tels que des images caméra [91], des
impacts laser [90], des approches multi-capteurs [89] et des approches distribuées [92].

3.1.7

Conclusion

L’état de l’art des systèmes de protection des usagers vulnérables met en avant une chaine de
traitement générale. Pour ce type d’approches, la perception nécessite l’estimation du positionnement relatif des usagers par rapport au véhicule et l’estimation de leur vitesse de déplacement
absolue. La classification des obstacles apparaı̂t comme un étape cruciale afin de mieux identifier les actions possibles de chacun et de mieux évaluer les risques de collision. Pour un système
coopératif, les autres usagers communicants sont identifiés grâce à une bonne classification des
obstacles. La classification des piétons a essentiellement été abordée par des techniques de vision.
Les méthodes de classification existantes s’appuient majoritairement sur une unique détection
d’un objet pour lui attribuer une classe et ne cherchent pas à utiliser les observations successives
d’un même objet pour mieux estimer sa classe.
Au cours de cette thèse, nous présentons tout d’abord un système de perception des vulnérables
s’appuyant sur des données laser pour la détection et le suivi des obstacles et des images pour
la classification de piétons. Nous introduisons les différentes étapes de ce système et montrons
comment des pistes de perception décrivant les usagers vulnérables sont construites.
Les nuages de points laser produits pas les obstacles routiers présentent certaines caractéristiques

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 65
en fonction de la classe de l’objet détecté par ce capteur. Or, ces caractéristiques telles que la
présence de deux jambes pour un piéton ou de segments perpendiculaires pour un véhicule n’ont
pas été exploitées dans la littérature. Dans cette thèse, nous proposons une nouvelle méthode de
classification qui s’appuie sur des descripteurs spécifiques et exploite les observations successives
d’un même obstacle routier.

3.2

Solution proposée pour la perception des usagers vulnérables

3.2.1

Description générale

Figure 3.6: Architecture du système de perception des usagers vulnérables

La Figure 3.6 introduit le système de perception des usagers vulnérables basé uniquement sur
les mesures reçues depuis les capteurs embarqués dans le véhicule. Cette solution se divise en
modules en série dont les fonctions sont détaillées au cours de cette section. La fonction de
classification à partir des détections par laser fait l’objet d’une attention particulière dans la
section 3.3.
Comme nous l’avons présenté lors de la section 3.1.2.2, le système de perception des vulnérables
s’appuie sur des capteurs laser fournissant des données sur les positions relatives des obstacles
ainsi que sur des caméras offrant une information enrichie pour reconnaitre les piétons. Il extrait
ainsi l’information nécessaire pour évaluer les risques de collision.
Tout d’abord, nous présentons la détection et le suivi des obstacles à partir des données laser.

66 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
Puis, la génération des candidats potentiels pour la classification des piétons dans les données
images est décrite. Cette étape est effectuée en construisant des régions d’intérêt à partir d’a
priori sur la position ainsi que la taille des piétons. Une méthode de classification automatique
fournit un ensemble de piétons puis les résultats obtenus par le laser et la caméra sont associés
pour créer les pistes de perception en sortie du module de détection et de localisation des usagers
vulnérables.
La système que nous exposons ici s’appuie en grande partie sur la solution développée par
Gwennaël Gâté dans le cadre du projet LOVe [93]. Au cours des sections suivantes, nous illustrons
les différentes fonctions et expliquons les points clés de chacune d’entre elles pour estimer les
pistes représentant les usagers vulnérables.

3.2.2

Détection d’obstacles

Un capteur laser produit une liste P = {(xj , y j , z j , I j ); j = 1, ..., mP } d’impacts exprimés dans
un référentiel cartésien (X,Y,Z) où I j représente l’intensité du point j.
Regroupement

Segmentation

Données laser

P

S

Ol

Figure 3.7: Détection d’obstacles par capteur laser

Lorsque le laser fournit des données sur une unique couche ou un faible nombre de couches,
la solution de détection s’appuie sur l’algorithme décrit par Mendes et al. [49] qui consiste a
diviser l’ensemble P en segments reliant les points proches les uns des autres. Les segments S
suffisamment courts pour considérer qu’ils appartiennent à un même obstacle sont conservés,

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 67
comme l’illustre la Figure 3.7.
Lorsque le capteur propose une représentation dense de l’environnement 3D, de telles méthodes
ne sont plus applicables et des techniques spécifiques de segmentation 3D du nuage de points
sont mises en application [51].
Quel que soit le type de capteur laser générant le nuage de point P, l’algorithme de détection
d’obstacle retourne une liste de mOl objets, Ol , définie dans l’équation (3.26) où P l,j représente
le sous ensemble d’impacts ayant permis la génération de l’objet Ol,j .

Ol = {Ol,j = (xl,j , y l,j , z l,j , P l,j ); j = 1, ..., mOl }

3.2.3

(3.26)

Génération de régions d’intérêt pour la détection de piétons par vision

Une caméra fixée sur le véhicule fournit périodiquement une image I de l’environnement.
La détection de piétons par vision nécessite la génération de ROIs dans l’image I. Une ROI
représente une connaissance a priori sur la localisation des usagers vulnérables et permet de
réduire l’espace de recherche afin d’augmenter la vitesse de traitement et de réduire les fausses
alarmes.
Dans les ROIs, les piétons sont recherchés par une analyse multi-échelle de l’image. Des paramètres sur la taille minimum et maximum (Hmin et Hmax ) des usagers recherchés ainsi que
leur largeur minimum et maximum (Wmin et Wmax ) contraignent cette recherche multi-échelle
en donnant des limites aux fenêtres décrivant les candidats potentiels. Le Figure 3.8 montre la
génération de l’ensemble R dans l’image.
La liste de ROIs, R, contraignant le recherche de piétons dans I est définie à partir de deux
types d’a priori :

- depuis les dimensions minimales et maximales des piétons, des rectangles avec différentes
hauteurs et largeurs sont créés dans l’image, la profondeur de l’image est découpée en

68 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

Projection
Ol

R
I

Image
A priori dans le repère monde
Figure 3.8: Génération de ROIs pour la classification de piétons

plusieurs tranches comme le montre l’image en bas de la Figure 3.8,
- la liste d’objets laser Ol génère des régions aux positions décrites par chaque objet comme
le montre l’image en haut de la Figure 3.8.
La calibration de la caméra par rapport à un repère du véhicule permet de connaı̂tre les paramètres reliant le monde réel au repère dans lequel est exprimé l’image [94].



u





x



 
 
 v  = Mmonde−>image  y 
 
 
1
z

3.2.4

(3.27)

Classification des vulnérables

La fonction de détection génère un ensemble important de piétons potentiels R. L’étape de classification, réduit cet ensemble pour ne conserver que ceux validés par la méthode de reconnaissance

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 69
Oc .
Classification
R
Oc
I

Figure 3.9: Classification d’usagers vulnérables

Après l’étude de l’état de l’art concernant la reconnaissance de piétons par vision, nous avons
choisi d’appliquer une méthode de classification à partir de descripteurs de type HOG [54] et
d’une classification par classifieurs en cascade entrainés par adaboost [68]. Une implémentation
de cette méthode est directement disponible dans la libraire de vision par ordinateur OpenCV 1 .
En conséquence, un module s’appuyant sur cette implémentation a été développé afin de valider
si les détections correspondent effectivement à des piétons ou non. La Figure 3.9 illustre la
classification de piétons à partir de l’image et des ROIs.
Durant la section 3.3, une méthode de classification à partir des données laser est introduite.
Cette nouvelle classification peut être vue comme complémentaire ou remplaçante de la classification par vision.

3.2.5

Pistage multi-obstacles

G,l,j G,l,j T
Pour chaque obstacle Ol,j ∈ Ol , la mesure zl,j
, yk ] , à tout instant k, est fournie
k = [xk

par les coordonnées de l’obstacle détecté dans le repère global définit sur la Figure 3.2. Cette
1. OpenCV (Open Source Computer Vision) est une librairie fournissant des fonctions pour le vision par
ordinateur. http ://opencv.org/

70 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

Ol

Pistage multi-cibles

Tkl

l
Tk−1

Figure 3.10: Pistage multi-cibles d’obstacles routiers
G G
mesure est calculée depuis la position du véhicule dans le repère global (xG
V , yV , θV ) et la mesure
l,j
de l’obstacle fournie par la détection (xl,j
k , yk ) comme le montre l’équation (3.28).



xG,l,j
k



ykG,l,j





=

cos(θVG ) − sin(θVG )



xl,j
k

sin(θVG )



ykl,j

cos(θVG )





+

xG
V



yVG



(3.28)

G,i T
G,i G,i
G,i
Le pistage estime l’état ŝG,i
k = [xk , yk , vxk , vyk ] d’un obstacle i dans le repère global et

construit une piste Tkl,i à l’instant k.
De cette manière, le modèle d’état introduit par l’équation (3.19) est définit par un modèle à
vélocité constante dans l’équation (3.29). Cette équation présente un modèle linéaire gaussien
où ∆tk est l’intervalle de temps entre les instants k − 1 et k.

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 71


sG,i
k

1 0 ∆tk


 0 1

=
 0 0

0 0

0




∆tk 
 G,i
 sk−1 + eik
0 

1

0
1
0

(3.29)

où eik ∼ N (0, Σevol,k )
Une mesure zl,j
k est générée pour un obstacle j depuis le modèle linéaire gaussien défini par
l’équation (3.30). Ce modèle d’observation fait apparaitre la mesure de la position et l’absence
de mesure pour la vitesse.


zl,j
k =

1 0 0 0
0 1 0 0


 sG,i + vj

k

k

(3.30)

où vjk ∼ N (0, Σobs,k )
Une méthode de type JPDA [93] associe les mesures avec l’état des obstacles routiers.
ainsi que sa matrice de
Le filtre de Kalman estime de manière optimale l’état du système ŝG,j
k
covariance Σ̂jk pour chaque instant k.
]T
, vy
ˆ L,l,i
ˆ L,l,i
, ŷkL,l,i , vx
Finalement, la piste Tkl,j est mise à jour avec l’état de l’obstacle ŝik = [x̂L,l,i
k
k
k
dont les paramètres sont donnés par l’équation (3.31).



x̂L,l,i
k

 L,l,i
 ŷ
 k

L,l,i
 vx
 ˆk
vy
ˆ L,l,i
k





cos(θVG )

sin(θVG )

0

0

 
  − sin(θG ) cos(θG )
0
0
 
V
V
=
G
 
0
0
cos(θV ) sin(θVG )
 
0
0
− sin(θVG ) cos(θVG )

x̂G,l,i
− xG
V
k



  G,l,i
  ŷ
G
  k − yV

  vx
ˆ G,l,i

k
G,l,i
vy
ˆk










La Figure 3.10 montre la mise à jour des pistes des obstacles situés devant le véhicule.

(3.31)

72 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

Fusion multi-capteurs

Tkl

Tper,k

Oc

Figure 3.11: Fusion multi-capteurs

3.2.6

Fusion multi-capteurs

Lorsque des piétons sont détectés dans les images caméra, une étape de fusion détermine depuis quelle piste provient chacune des détections. Cette fusion est possible par le biais d’une
association entre les pistes créées depuis la détection par laser et les piétons reconnus.
La Figure 3.11 illustre les résultats de la fusion pendant laquelle les deux piétons sont mis en
avant. Les pistes laser sont projetées dans le repère image à partir de l’équation (3.27) et un
calcul de recouvrement entre les boites englobantes des détections par vision Oc et des pistes
laser Tkl associe les résultats des traitements vision et laser [93] [95]. Cette fonction construit les
pistes de perception Tper,k .
Comme le montre la Figure 3.11, cette étape réduit fortement le nombre de pistes en supprimant

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 73
celles ne correspondant pas à des usagers vulnérables.

3.2.7

Discussion

Dans cette partie, nous avons présenté un système complet afin de percevoir les obstacles, plus
particulièrement les usagers vulnérables, situés autour du véhicule. Il est à noter que ce système
s’appuie sur de nombreuses fonctions au niveau de l’état de l’art qui peuvent être améliorées
par les résultats récents dans le domaine de la reconnaissance de piétons [8] [73] ou du suivi
multi-cibles en environnement urbain [96]. L’étape de fusion multi-capteurs devrait également
être étudiée plus spécifiquement dans le futur. Toutefois, notre approche représente un système
de perception « classique » qui permet de traiter les scénarios ciblés par la thèse (un piéton
traversant devant le véhicule) et est fonctionnel en vue d’une combinaison avec des moyens de
communication véhiculaire.
Pour les futures évolutions des systèmes de perception, il est intéressant de noter l’apport de données 3D afin de mieux prendre en compte le relief de l’environnement. Des traitement spécifiques
aux observations 3D doivent cependant être proposés. Des modèles de capteurs plus complets
sont également à envisager dans le futur afin de mieux distinguer entre les zones visibles et les
zones occultées. Ensuite, le suivi des obstacles détectés en milieu urbain présente encore certains
défis afin de gérer l’apparition et la disparition de ces obstacles dans le champ de vision des
capteurs et afin de prendre en compte des modèles de déplacement pour les différentes classes
d’usagers. Finalement, un suivi précis de la trajectoire des usagers vulnérables doit mener à une
meilleure évaluation des risques de collision et à mieux détecter les situations de danger.

74 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

3.3

Classification multi-classes d’obstacles à partir de données
laser

3.3.1

Description du problème

La classification d’objets complexes tels que les obstacles routiers a été abordée par le passé
grâce à des solutions basées sur l’apprentissage statistique tels que SVM [72] [54] et adaboost
[70] [74] [75].
Les capteurs automobiles fournissent des données successives avec une certaine fréquence et les
techniques de pistage estiment l’état des obstacles autour du véhicule [96] [91] [97]. Cependant,
les systèmes de reconnaissance visuelle classiques [76] [67] [54] n’utilisent pas les observations
consécutives pour mieux estimer la classe des objets détectés. De manière similaire, les auteurs
ayant appliqué ces méthodes avec des données laser cherchent uniquement à obtenir les meilleures
performances de classification pour chaque objet détecté [70] [74] [75].

Figure 3.12: Classification multi-classes d’obstacles routiers par capteur laser

La Figure 3.12 décrit le système que nous introduisons pour effectuer la classification d’obstacles
routiers. Ce système prend en entrée un obstacle laser Ol,i détecté (section 3.2.2) et estime

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 75
en sortie la classe Ĉ i de cet obstacle qui est un paramètre de la variable d’état définie par
l’équation (3.19).
Ce système calcule tout d’abord un vecteur de primitives adaptées aux obstacles routiers, puis
évalue chaque classe d’obstacle routier à partir de modèles appris hors ligne, et, intègre finalement
les valeurs de décision au cours du temps de manière bayésienne.

3.3.2

Définition de primitives géométriques

La première étape pour attribuer une classe aux obstacles routiers détectés depuis le véhicule
consiste à définir une liste de fonctions décrivant les caractéristiques de ces objets.
Obstacles détectés

Véhicule

Cycliste

Piéton

Figure 3.13: Illustration des caractéristiques des objets détectés par laser

La Figure 3.13 illustre comment sont représentées différentes classes d’obstacles routiers (piéton,

76 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
cycliste et véhicule) par des nuages de points laser. Particulièrement, certaines connaissances a
priori sur les obstacles mobiles rencontrés en milieu urbain permettent de décrire chaque classe
de manière particulière :

- les deux jambes des piétons sont observées comme deux sous ensembles de points,
- les cyclistes sont des objets approximativement linéaires,
- suivant le point de vue, les véhicules sont observés par une ligne (généralement l’avant ou
l’arrière de ce véhicule) ou par deux droites perpendiculaires.

Générique

Véhicule
No
Piéton

Centrées

No
Primitive
No
Primitive
f1
Nombre de points
f2
Largeur
f3
Longueur
f4
Écart type
f5
Déviation moyenne depuis la médiane f6
Linéarité
f7
Circularité
f8
Rayon
f9
Longueur de la frontière
f10
Régularité de la frontière
f11
Courbure moyenne
f12
Différence angulaire moyenne
f13 -f14 Distance de saut droite & gauche
f15
Vitesse
f16
Orientation
f82
Nombre de points normalisé
f83
Intensité moyenne
f84
Intensité maximale
f85
Écart type de l’intensité
f47 -f51 Dérivée de f2 -f5 , f16
No
Primitive
No Primitive
i
i
f17
Angle entre s1 and s2
f18 Longueur de si
i
i
f19 -f20 Longueur max & min dans {s1 ,s1 } f21 Ratio entre la longueur de si1 et si2
Primitive
No
Primitive

f22 -f23
f25
f40 -f42
f60 -f63

Distances min & max dans {Ol,i O1l,i ,Ol,i O2l,i }
Ratio entre les distances Ol,i O1l,i et Ol,i O2l,i
f8 -f10 Ratio entre P1l,i et P2l,i
f7 -f8 dans {P1l,i ,P2l,i }
No
Primitive
f43 -f46
f64 -f69
f70 -f73
f74 -f75
f76 -f81

f24
f26 -f39
f52 -f59

Distance O1l,i O2l,i
f2 -f8 min & max dans {P1l,i ,P2l,i }
Dérivées de f2 -f5 dans {P1l,i ,P2l,i }

l,i
f2 -f5 dans PR
l,i
l,i
l,i
Écart type latéral & longitudinal dans {PR
, PR
, PR
}
1
2
l,i
l,i
Écart type min & max et latéral & longitudinal dans {PR
, PR
}
1
2
l,i l,i
Ratio entre l’écart type latéral & longitudinal dans {PR1 PR2 }
l,i
l,i
l,i
Dérivée de l’écart type latéral & Longitudinal dans {PR
, PR
, PR
}
1
2

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 77

Tableau 3.2: Liste des primitives géométriques 2D.

78 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
À partir de cette description des obstacles routiers, une liste de 85 primitives est établie et
présentée dans le Tableau 3.2. Pour plus de simplicité, ces primitives sont séparées en quatre
catégories : génériques, véhicules, piétons et centrées sur l’obstacle. En considérant un
obstacle Ol,i particulier, les notations suivantes sont définies pour expliquer les primitives du
Tableau 3.2 :
- 0l,i (xl,i , y l,i ), le centre du groupe de points laser.
- P1l,i et P2l,i , les deux groupes de points extraits par la séparation du nuage Ol,i en deux
avec l’algorithme 2-Means.
l,i
l,i
l,i
- 0l,i
1 et 02 , les centroı̈des des nuages P1 et P2 .
l,i
l,i
l,i
, PR
et PR
, les ensembles P l,i , P1l,i et P2l,i transformés dans le repère centré sur 0l,i
- PR
1
2

et orienté suivant le sens de déplacement de l’obstacle Ol,i .
- si , le segment ajusté sur le nuage P l,i .
- si1 et si2 , les deux segments ajustés à P l,i pour décrire les deux côtés d’un véhicule.
Les primitives génériques sont composées des primitives introduites dans [70] pour décrire les
personnes dans les données laser 2D, la longueur du groupe de points, ainsi que l’orientation
mesurée de l’obstacle (f1 -f16 ). Afin réduire l’impact de la distance véhicule-objet sur le nombre
de points observés, celui-ci est normalisé par la distance (f82 ). Enfin, des descripteurs calculés à
partir de l’intensité des impacts laser (f83 -f85 ) sont ajoutés.
Les primitives véhicules sont définies par l’ajustement d’un ou deux segments sur le groupe de
points P l,i et en calculant diverses valeurs sur ces segments (f17 -f21 ).
Les primitives piétons sont définies à partir de la détection des jambes dans les groupes d’impacts laser. Différentes valeurs sont calculées depuis chaque sous-ensemble associé à chaque jambe
l,i
telles que la distance entre les centroı̈des 0l,i
1 et 02 , la distance de chacun de ces centroı̈des au

centre 0l,i du groupe de points (f22 -f25 ), ainsi que le calcul des primitives génériques sur chacun
des sous-ensembles de points (f26 -f42 ,f60 -f63 ).

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 79
Les primitives centrées sur l’obstacle sont des descripteurs calculés par la transformation du
nuage de points P l,i dans un repère centré sur le centre 0l,j de ce groupe de points (f43 -f46 ,f64 f81 ). Ces primitives apportent une nouvelle vision des descripteurs génériques en appliquant une
rotation suivant l’orientation de l’obstacle et décrivent les déformations possibles des obstacles
rencontrés.

3.3.3

Apprentissage multi-classes

Les méthodes de type SVM et adaboost (section 3.1.5.1) ont été envisagées pour concevoir des
classifieurs par apprentissage automatique supervisé.
Comme nous l’avons vu dans la section 3.1.5.1, la méthode adaboost est attrayante car des
classifieurs faibles sont très simplement définis à partir de chacune des primitives décrite dans
le Tableau 3.2. Cette approche a été développée pour la détection de piétons à partir d’images
dans [67] puis appliquée aux données laser par Arras et al. [70].
Dans l’équation (3.32), hj décrit le classifieur faible pour la primitive fj , où γj est le seuil entre
les deux classes, et, νj vaut soit +1 ou -1 afin de définir le sens de l’inégalité.

 +1,
hj (f) =
 −1,

si νj Fj (f) < νj γj
sinon

(3.32)

où Fj (f) = fj
Durant la phase d’entrainement, le classifieur faible avec le meilleur score de classification est
sélectionné de manière itérative à chaque instant q = 1, ..., Q. Comme toutes les primitives sont
utilisées pour entrainer les classifieurs faibles, il est possible de sélectionner la même primitive
générant un classifieur faible pour deux instants distincts q1 et q2 . Cependant, ces classifieurs
auront des seuils différents γq1 et γq2 . Finalement, le classifieur fort est donné dans l’équation
(3.33) par une somme des classifieurs faibles hq pondérés par une valeur αq . Cette somme fournit
une valeur de décision à laquelle il faut appliquer un seuil pour choisir dans quelle classe se trouve
l’obstacle considéré.

80 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

d(f) =

Q
X

αq hq (f)

(3.33)

q=1

Algorithme 1 : Algorithme d’apprentissage par adaboost
pour jc = 1, ..., c faire
- Sélectionner un ensemble N exemples (f1 , υ1 ), ..., (fN , υN ), où υn =+1 si l’exemple n est
de classe Cjc et υn =−1 sinon, de telle manière que N/2 exemples sont de classe Cjc et
N/2 exemples sont choisis parmi les autres classes;
- Initialiser le poids D1 (n) =

1
N

pour q=1,...,Q faire
1) Normaliser les poids Dq (n) =

pour chaque exemple;

Dq (n)
PN
;
m=1 Dq (m)

2)
3)
4)
5)

Pour chaque primitive fj , entrainer un classifieur faible hj depuis Dq (n);
P
n
n
Pour chaque hj , calculer rj = N
n=1 Dq (n)υn hj (f ), où hj (f ) ∈ {+1, −1};
Choisir le classifieur hj qui maximise |rj | et fixer (hq , rq ) = (hj , rj );
1+r
Mettre à jour les poids : Dq+1 (n) = Dq (n) exp(−αq υn hq (fn )), où αq = 21 log( 1−rqq );
P
Le classifieur fort est donné par la fonction de décision djc (f) = Q
q=1 αq hq (f);
Afin de construire un classifieur multi-classes, nous avons choisi d’appliquer une stratégie une
contre toutes (one vs. all), i.e., pour chaque classe Cjc ∈ C, un classifieur est construit pour
cette classe en considérant les objets des autres classes afin d’apprendre la frontière de décision.
Cette approche est intéressante pour établir une mesure sur la vraisemblance pour un obstacle
d’appartenir à la classe Cjc . L’algorithme 1 résume l’apprentissage multi-classes par adaboost.

3.3.4

Estimation bayésienne de la classe

Finalement, la classe de chaque obstacle Cjc ∈ C ∪ C0 , où C0 correspond à la classe « Non
objet » pour les obstacles n’appartenant à aucune des classes d’obstacles routiers prédéfinies,
est attribuée à partir des valeurs de décision fournies par le classifieur.
Considérons que la piste Tkl,i associée à un obstacle est composée de k groupes de points

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 81
{O1l,i , ..., Okl,i } correspondant à k observations consécutives de l’obstacle.
La classification multi-classes de Okl,i fournit c valeurs de décisions {dik,jc }jc =1,...c . Le vecteur
Dik = [dik,1 , ..., dik,c ]T est alors considéré comme étant une observation de la classe de la piste Tkl,i
permettant d’estimer la distribution a posteriori p(Cjic |Dik , ..., Di1 ).
À chaque instant k, la distribution a posteriori est mise à jour à partir de l’état précédent k − 1,
de la vraisemblance de chaque observation sachant la classe Cjic , p(Dik |Cjic ), et d’un terme de
normalisation grâce à la règle de Bayes, comme décrit dans l’équation (3.34).

p(Cjic |Dik , ..., Di1 )

p(Cjic |Dik−1 , ..., Di1 )p(Dik |Cjic )
= c
P
p(Cni |Dik−1 , ..., Di1 )p(Dik |Cni )

(3.34)

n=0

Le point clé pour la mise à jour de la distribution a posteriori est dans l’expression de la
fonction de vraisemblance. La fonction de vraisemblance est définie dans l’équation (3.35), où
sigm 2 est la fonction sigmoı̈de souvent utilisée dans les réseaux de neurones. Elle prend ses
valeurs dans R et retourne des données dans l’intervalle ]0, 1[ . En effet, adaboost retourne des
valeurs de décision dans l’espace R (voir équation (3.18)). La fonction sigmoı̈de permet également
d’adapter facilement cette mise à jour à tout autre classifieur. L’équation (3.35) exprime donc
un degré de vraisemblance sur l’appartenance à la classe Cjc de l’obstacle détecté. Ensuite, la
vraisemblance pour la classe C0 est définie comme la valeur minimum de ne pas appartenir
à aucune autre classe. Cette fonction de vraisemblance n’est pas une densité de probabilité,
cependant, le dénominateur de l’équation (3.34) est un terme de normalisation assurant que la
somme de la distribution a posteriori vaut 1.

p(Dik |Cjic ) =



 min (1 − sigm(dik,n )), si jc = 0
n=1,...,c

(3.35)


 sigm(di ), si j 6= 0
c
k,jc

La classe Ĉ i de l’obstacle Tkl,i est estimée à partir de l’estimateur MAP dans l’équation (3.36).
2. sigm(x) =

1
1+e−x

82 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables

Ĉ i = arg max(p(Cjic |Dik , ..., Di1 ))

(3.36)

Cjic ∈C

Exemples de classification d’obstacles routiers

Vraisemblance

Distribution a posteriori

10

20

30
k

40

50

Distribution a posteriori

1
p(Dk|Ci)

0.5

0

Vraisemblance

1
p(Ci|Dk,...,D1)

p(Dk|Ci)

1

0.5

0

10

20

30
k

40

1
p(Ci|Dk,...,D1)

3.3.5

0.5

0

50

20

k

40

60

(a) Piéton

0

20

k

40

60

(b) Cycliste

Vraisemblance

Distribution a posteriori
1
p(Ci|Dk,...,D1)

1
p(Dk|Ci)

0.5

0.5

0

10

20
k

30

0.5

0

10

20
k

30

(c) Véhicule

Piéton

Véhicule

Cycliste

Obstacle Statique

Non Objet

Figure 3.14: Exemples de classification de pistes

Nous illustrons le fonctionnement de la classification d’obstacles routiers sur la Figure 3.14 grâce
à un exemple appartenant à plusieurs classes d’obstacle dynamique : piéton, cycliste et véhicule.
Pour chaque sous-figure, la figure en bas à gauche montre la vraisemblance de la classification
de l’obstacle au temps k, la figure en bas à droite l’évolution de la probabilité a posteriori de
chaque classe pour l’obstacle considéré ; la figure du haut montre les impacts laser ainsi que

Chapitre 3 Approche multi-capteurs pour la perception des vulnérables 83
la boı̂te englobante de l’obstacle projeté dans l’image de la caméra. Nous remarquons sur ces
exemples comment l’intégration temporelle permet d’estimer la classe des obstacles. Bien que
nous distinguons des erreurs pour la classification du cycliste au début de l’expérience à cause de
détections incorrectes et imprécises quand l’usager est loin du véhicule, le système est capable
après un certain temps de correctement estimer sa classe (Figure 3.14b).
Une évaluation plus approfondie de cette méthode de classification est effectuée dans la section 6.2.

3.4

Conclusion

Au cours de ce chapitre, un système de protection des usagers vulnérables s’appuyant sur des
méthodes de perception est présenté. La perception est formulée dans ce contexte comme un problème d’estimation pour lequel l’objectif est de déterminer à la fois des paramètres dynamiques
aléatoires (position et vitesse) et des paramètres statiques (classe).
Ce problème est traité par un système multi-capteurs basé essentiellement sur les données fournies par des télémètres laser pour estimer l’état des obstacles entourant le véhicule et des images
pour déterminer s’il s’agit effectivement de piétons. Ce système possède l’avantage de séparer en
série les fonctions menant à l’estimation de l’état des usagers vulnérables et peut être implémenté
en temps réel [21]. Le système présenté dans ce chapitre a été implémenté sur les plateformes
expérimentales à INRIA et est utilisé dans la suite de la thèse comme une méthode d’évaluation
des systèmes de perception.
Dans la littérature, la plupart des méthodes de classification sont basées dans la domaine de la
vision alors que les obstacles détectés dans les données laser présentent également des caractéristiques spécifiques à leur classe. Nous avons proposé une méthode de classification à partir de
données laser en définissant des primitives particulières aux classes d’obstacles routiers. La classification à partir de classifieurs faibles entrainés par adaboost permet de construire un classifieur
fort de manière très simple et dont la valeur de décision est rapidement évaluée à partir du vecteur de primitives. Finalement, la méthode de classification introduite possède l’intérêt d’estimer

84 Chapitre 3 Approche multi-capteurs pour la perception des vulnérables
la classe de chaque obstacle au cours du temps grâce à une formulation bayésienne du problème.
La méthode de classification a été évalué sur une base de données publique (section 6.1.2). Les
résultats de cette évaluation sont donnés dans la section 6.2.

4
Communication véhicules-piétons

3.1

3.2

État de l’art . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

38

3.1.1

Architecture générale des systèmes de protection des usagers vulnérables 38

3.1.2

Acquisition de données . . . . . . . . . . . . . . . . . . . . . . . . . . . .

40

3.1.3

Formulation théorique du problème . . . . . . . . . . . . . . . . . . . . .

44

3.1.4

Détection des vulnérables à partir de différents capteurs . . . . . . . . .

48

3.1.5

Classification des usagers vulnérables . . . . . . . . . . . . . . . . . . . .

52

3.1.6

Fusion multi-obstacles/multi-capteurs . . . . . . . . . . . . . . . . . . .

59

3.1.7

Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

64

Solution proposée pour la perception des usagers vulnérables . . . .

85

65

86

3.3

3.4

4.1
4.1.1

Chapitre 4 Communication véhicules-piétons

3.2.1

Description générale . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

65

3.2.2

Détection d’obstacles . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

66

3.2.3

Génération de régions d’intérêt pour la détection de piétons par vision .

67

3.2.4

Classification des vulnérables . . . . . . . . . . . . . . . . . . . . . . . .

68

3.2.5

Pistage multi-obstacles . . . . . . . . . . . . . . . . . . . . . . . . . . . .

69

3.2.6

Fusion multi-capteurs . . . . . . . . . . . . . . . . . . . . . . . . . . . .

72

3.2.7

Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

73

Classification multi-classes d’obstacles à partir de données laser . .

74

3.3.1

Description du problème . . . . . . . . . . . . . . . . . . . . . . . . . . .

74

3.3.2

Définition de primitives géométriques . . . . . . . . . . . . . . . . . . .

75

3.3.3

Apprentissage multi-classes . . . . . . . . . . . . . . . . . . . . . . . . .

79

3.3.4

Estimation bayésienne de la classe . . . . . . . . . . . . . . . . . . . . .

80

3.3.5

Exemples de classification d’obstacles routiers . . . . . . . . . . . . . . .

82

Conclusion

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

83

État de l’art des standards de communication véhiculaire
Présentation de l’architecture générale

La compatibilité des technologies de communication entre tous les types et marques de véhicules
est ce qui permettra aux véhicules connectés de s’implanter sur le marché des transports au
fil des années. Des standards sont élaborés pour organiser les protocoles de communication et
envisager l’intégration des moyens de communication.
En Europe, l’ETSI est l’organisme chargé de la standardisation dans le domaine des télécommunications. Les architectures de communication installées dans les véhicules doivent suivre
l’architecture de référence introduite par l’ETSI dans le document [11], mais aussi être en accord avec le standard ISO TC204 [98].

Chapitre 4 Communication véhicules-piétons

87

Application
Protection des vulnérables
Facilities
Support information

Support applications

LDM

DENM

Réseau et Transport
Internet

VANET
Transport ITS
Topologique

TCP/UDP
IP

Geo Routage

Flooding

Sécurité

Management

CAM

Accès

Wi-Fi

Bluetooth

802.11p

802.15.4

3/4G

Figure 4.1: Architecture du système de communication vehiculaire

Durant cette section, les fonctionnalités de chacune des couches introduite par l’architecture
ETSI ITS [11] sont détaillées afin d’étudier leur applicabilité à la communication véhiculespiétons (V2P). La Figure 4.1 décrit le modèle en couche de l’ETSI et met en avant les options
envisageables pour la communication V2P. Un équipement, appelé station ITS, qui intègre une
telle architecture de communication peut être installé à bord des véhicules, sur des unités de
bord de route (UBR) ou transporté par tout autre usager de la route.
La couche application contient les applications ITS pour lesquelles un échange d’informations
est requis. Ici, l’application visée est la protection des usagers vulnérables.

88

Chapitre 4 Communication véhicules-piétons

La couche « facilities » apporte un support à la communication véhiculaire. Cette couche offre
une support aux applications en définissant des formats de messages communs à de nombreux
services et organise les informations pour en faciliter l’accès depuis les couches application et
réseau.
La couche réseau et transport contient les protocoles assurant la dissémination des messages
depuis la source jusqu’à la destination. Dans le domaine véhiculaire, cette dissémination s’effectue
au sein d’un réseau de véhicules (VANET) ou entre le VANET et le domaine Internet.
La couche accès contient les protocoles assurant l’accès au canal physique ainsi que la transmission et la réception sur ce canal. Les stations ITS peuvent être munies de plusieurs technologies
telles que les standards Wi-Fi (IEEE 8012.11a/b/g/n/p), bluetooth, 3/4G et IEEE 802.15.4.
Deux couches transverses, les couches management et sécurité sont respectivement chargées
d’offrir un support à chacune des couches précédentes et d’assurer une communication sécurisée.

4.1.2

Description de la couche « Facilities »

La couche « facilities » implémente des types de messages standards comme les messages d’annonce coopératifs (CAM) et les messages de notification environnementale distribuée (DENM)
et organise les données communiquées avec la carte locale dynamique (LDM).

4.1.2.1

Message d’Annonce Coopératif (CAM)

Le document [99] définit les CAMs qui permettent aux véhicules de signaler périodiquement
leur présence en diffusant un message d’annonce contenant l’état de l’entité communicante. Les
CAMs offrent un support pour les applications de sécurité en permettant aux véhicules d’un
même environnement de s’annoncer les uns aux autres. Pour cette raison, les CAMs sont créés
indépendamment par chaque usager et diffusés en broadcast à un seul saut.

Chapitre 4 Communication véhicules-piétons
4.1.2.2

89

Message de Notification Environnementale Distribuée (DENM)

Le document [100] définit les DENMs. Ces messages ont la capacité d’avertir d’autres usagers
d’un danger identifié et sont déclenchés depuis un événement particulier. Il sont ainsi en interface
avec les différentes applications de détection de risque. Étant émis lors d’un danger immédiat,
ces paquets de données ont une forte priorité au sein du système de communication et sont
relayés sur plusieurs sauts, au contraire des CAMs.

4.1.2.3

Carte Locale Dynamique (LDM)

Le document [101] définit le concept de LDM afin de modéliser précisément l’état de l’environnement autour du véhicule. La LDM définit la carte locale comme une base de données en quatre
différents niveaux :
- information statique permanente,
- information statique transitoire,
- information dynamique transitoire,
- information fortement dynamique.
La LDM crée un cadre pour le stockage des informations relatives à l’environnement local de
chaque véhicule et peut aussi être exploitée par des centres de contrôle. Cet outil fournit un
support à la fois pour les applications embarquées et pour les protocoles de communication
véhiculaire.
En étant totalement intégrée dans la couche « facilities », la LDM propose des interfaces avec
les couches réseau et application. La LDM organise les informations dans une base de données
afin qu’elles puissent bénéficier à un nombre maximum d’applications.
La LDM est mise à jour à partir des messages reçus par le réseau auquel est connectée la station
ITS. Les sources principales d’informations pour tenir la LDM à jour sont les CAMs et DENMs.

90

Chapitre 4 Communication véhicules-piétons

Afin de garantir un niveau de sécurité nécessaire, les messages permettant de mettre à jour la
LDM doivent provenir de stations authentifiées.
En ce qui concerne notre travail, uniquement les objets fortement dynamiques sont considérés.
Les messages reçus depuis ces objets sont stockés dans une table à laquelle accèdent les divers composants tachés d’établir le risque de collision entre le véhicule et les obstacles mobiles
environnants.

4.1.3

Description de la couche Réseau et Transport

La communication entre les entités est traditionnellement basée sur un adressage IP (Internet
Protocol). De nombreux protocoles de routage s’appuyant sur des adresses IP ont été standardisés à la fois dans les domaines Internet et ad-hoc. En raison des exigences particulières
aux applications ITS, pour lesquelles l’information doit être disséminée dans des aires géographiques, l’ETSI a standardisé l’adressage géographique. Des protocoles de routage géographique
et le protocole de transport BTP (Basic Transport Protocol) ont alors été spécifiés pour les ITS.

4.1.3.1

Internet Protocol (IP)

IP est le protocole qui définit le schéma d’adressage et le format des paquets utilisés pour
acheminer les données dans Internet. Il est donc indispensable pour les accès vers le domaine
Internet. IP fournit un adressage unique pour chacune des stations ITS. Alors que beaucoup
de réseaux actuels utilisent encore la version 4 du protocole internet, IPv4 [102], qui définit les
adresses à partir de 4 octets, une nouvelle génération de protocole internet, la version IPv6 [103],
est recommandée car les adresses sont définies sur 16 octets et ne sont pas amenées à manquer.
Cependant, IPv4 et IPv6 ne sont pas compatibles et nécessitent des passerelles et/ou des tunnels
pour transporter des paquets IPv6 sur une infrastructure IPv4 et vice versa.
Dans les réseaux mobiles, IP mobile a été conçu pour fournir une connectivité continue à Internet, ce qui est un défi important pour les applications véhiculaires car les véhicules changent
fréquemment de point d’accès (e.g. UBR) et ont besoin de mettre à jour leur adresse. IP mobile

Chapitre 4 Communication véhicules-piétons

91

permet aux nœuds mobiles de changer de réseau partout dans le monde et de changer de point
d’attache tout en maintenant les communications existantes et la même adresse IP. Deux versions d’IP mobile ont été standardisées : Mobile IPv4 (MIPv4) [104] pour IPv4 et Mobile IPv6
(MIPv6) [105] pour IPv6. Le protocole NEMO (Network Mobility) étend MIPv6 quand tout le
réseau est mobile.
TCP (Transmission Control Protocol) [102] et UDP (User Datagram Protocol) [106] s’exécutent
au dessus d’IP pour fournir un service de bout en bout aux communications. TCP est le protocole
utilisé dans une majorité d’applications internet telles que le world wide web (WWW), les emails,
l’administration à distance ou l’échange de fichiers. UDP utilise un modèle de transmission simple
et est utilisé pour des applications sensibles aux délais comme la Voix sur IP (VoIP). TCP et UDP
peuvent être utilisés lors de la communication V2I et UDP peut s’appliquer à la communication
V2V.

4.1.3.2

Réseau véhiculaire (VANET)

Au cours d’un trajet, un véhicule a l’occasion d’être en contact avec les autres usagers qu’il peut
suivre ou croiser. L’ensemble des véhicules situés sur le réseau routier forme un réseau véhiculaire
(VANET) au sein duquel les messages sont disséminés sans recourir à une infrastructure.
L’adressage des paquets échangés dans un VANET peut s’appuyer sur le protocole IP accompagné de mécanismes de gestion de la mobilité. Un adressage spécifique aux VANETs [107]
privilégie cependant la création d’adresses géographiques en fonction de la destination d’un
message envoyé. Les paquets sont émis dans le réseau selon un des modes suivant :

- Unicast, envoi depuis un nœud source vers une destination prédéfinie grâce à une communication multi-sauts.
- Multicast, envoi depuis une source vers un groupe de nœuds prédéfinis en étant inscrits à
un service multicast.
- Broadcast, méthode de diffusion depuis une source vers tous les nœuds présents sur le lien.

92

Chapitre 4 Communication véhicules-piétons

- Anycast, méthode de diffusion depuis une source vers un nœud choisi parmi plusieurs
destinations possibles.

La dissémination d’information au sein de VANETs a vu l’émergence de deux familles avec
les méthodes topologiques et opportunistes. Les approches topologiques établissent les routes
pour l’acheminement des messages en amont alors que les approches opportunistes n’établissent
pas de route et laissent chaque receveur prendre une décision concernant la retransmission des
messages. Des études sur les protocoles de routage dans les VANETs sont disponibles dans les
références [108] [109] [110].
Le routage topologique dans les VANETs provient des protocoles initialement proposés dans les
réseaux mobiles (MANETs) tels que OLSR (Optimized Link State Routing) [111] ou AODV
(Ad-hoc On demand Distance Vector) [112]. Ces protocoles topologiques établissent des routes
entre les nœuds communicants à partir de messages de contrôle. Lorsque deux entités veulent
s’échanger des informations, elles peuvent le faire de manière robuste et rapide à travers ces
routes pré-établies. Dans le cas de scénarios autoroutiers, de tels protocoles peuvent être mis en
place car les véhicules restent connectés pendant une durée assez longue. Cependant, dans le cas
d’un scénario urbain, les liens entre les véhicules ont des durées très courtes, ce qui occasionne
des cassures dans les routes pré-établies. Par conséquent, les routes doivent être renouvelées
régulièrement pour éviter les pertes de paquets. Le renouvellement de ces routes nécessite un
temps pendant lequel le réseau n’est pas disponible, ce qui ne convient pas aux changements
rapides et dynamiques de la topologie du réseau.
Le « flooding » [108] est un algorithme opportuniste simple pour lequel chaque receveur réémet en broadcast un message reçu vers les autres participants du VANET. Le message est
retransmis jusqu’à ce qu’il atteigne sa destination. Une telle approche évite la construction de
routes statiques et est efficace lorsque la topologie du réseau est modifiée fréquemment comme
cela est le cas en environnement urbain. Cependant, lorsque de nombreux véhicules sont présents,
le nombre de ré-émissions est potentiellement très élevé, ce qui conduit à une congestion connue
sous le nom de « Broadcast Storm » [113]. Ce problème impacte fortement la robustesse relative
à ce type d’approches. Ainsi, certaines solutions sont proposées pour réduire ce problème comme

Chapitre 4 Communication véhicules-piétons

93

limiter le nombre de sauts effectués par le message à un nombre maximum.

4.1.3.3

GeoNetworking

Pour la communication V2V, certains services ont des portées géographiques tels que les applications de sécurité ou de point d’intérêt. Pour couvrir ce type de besoin, des méthodes de routage
géographique ont été développées. Une méthode de routage et d’adressage géographique connue
sous le nom de GeoNetworking est standardisée en Europe par l’ETSI [114] [14] [107] [115]. Le
GeoNetworking assure le routage des paquets (geoUnicast, geoBroadcast et geoAnycast) dans un
réseau ad-hoc grâce aux positions géographiques des nœuds. Pour fournir un service de transport
de bout en bout, le protocole BTP (Basic Transport Protocol) a été standardisé [116]. De manière similaire à UDP, BTP propose un modèle simple. GeoNetworking a également la capacité
d’acheminer des paquets IPv6, ce qui autorise la dissémination de paquets basés sur IP dans des
réseaux ad-hoc ayant un caractère géographique et inversement [117] [118].
Pour une application destinée à améliorer la sécurité routière, certaines zones géographiques
sont identifiées comme étant à risque. Les messages sont donc émis en priorité vers ces aires de
destination. Parmi les scénarios définis par le GeoNetworking [14], les applications de sécurité
se placent dans un contexte de GeoBroadcast pour lequel tous les usagers situés dans une zone
prédéfinie sont avertis du danger potentiel.
Le document [119] introduit différents types de zones géographiques pour la dissémination des
messages ainsi que leurs éléments caractéristiques. Il existe ainsi trois types d’aires géographiques :
- aire circulaire,
- aire rectangulaire,
- aire elliptique.
Le Tableau 4.1 montre les paramètres nécessaires à la définition d’une aire circulaire qui sont le
centre du cercle B et son rayon R.

94

Chapitre 4 Communication véhicules-piétons
Tableau 4.1: Définition de l’aire circulaire

Paramètre
B(x, y)
R

Description
Coordonnées du centre de l’aire de destination
Rayon du cercle

Tableau 4.2: Définition de l’aire rectangulaire

Paramètre
B(x, y)
υ
τ
χ

Description
Coordonnées du centre de l’aire de destination
Demi-longueur du rectangle
Demi-largeur du rectangle
Azimut de la normale au petit côté du rectangle

Le Tableau 4.2 montre les paramètres nécessaires à la définition d’une aire rectangulaire qui sont
le centre du rectangle B, la demi-longueur υ, la demi-largeur τ et l’orientation χ du rectangle.
Tableau 4.3: Définition de l’aire elliptique

Paramètre
B(x, y)
υ
τ
χ

Description
Coordonnées du centre de l’aire de destination
Longueur du demi-axe long
Longueur du demi-axe court
Azimut du demi-axe long

Le Tableau 4.3 montre les paramètres nécessaires à la définition d’une aire elliptique qui sont
le centre de l’ellipse B, la longueur du demi-axe long υ, la longueur du demi-axe court τ et
l’orientation χ de l’ellipse.
Ces aires peuvent servir à décrire des portions de routes rectangulaires ou des zones circulaires
de danger autour d’un véhicule.

4.1.4

Description de la couche Accès

Au sein de la couche accès, les réseaux cellulaires et le Wi-Fi sont décrits plus particulièrement.

Chapitre 4 Communication véhicules-piétons
4.1.4.1

95

Réseaux Cellulaires

La téléphonie mobile s’est implantée dans notre vie de tous les jours, ce qui a permis une
grande couverture physique du territoire par les réseaux cellulaires. Plusieurs protocoles ont été
successivement développés avec le GSM pour les communications téléphoniques et les standards
3/4G pour avoir une connectivité à Internet tout en augmentant progressivement les débits.
Le standard 5G est en cours de développement et devrait s’appuyer sur des technologies de
type LTE (Long Term Evolution) qui fournissent des moyens de communications directes entre
mobiles en plus du traditionnel accès au réseau depuis une station de base.

4.1.4.2

Wi-Fi

Les réseaux locaux sans fils ont été normalisés sur la forme du standard IEEE 802.11 [120] et
sont très largement utilisés actuellement avec la certification Wi-Fi fournie par l’Alliance Wi-Fi.
De nombreux amendements à ce standard existent avec les normes IEEE 802.11 a/b/g/n/p.
Ces amendements décrivent différentes configurations des canaux de communication et de la
modulation du signal au niveau physique. Ces technologies peuvent être utilisées en mode point
d’accès, i.e., un nœud routeur fournit l’accès au réseau aux autres nœuds, et en mode ad-hoc dans
lequel les différents nœuds sont directement connectés les uns aux autres sans infrastructure.
Ces solutions présentent un intérêt pour la communication véhiculaire. Cependant, elle nécessitent généralement un temps élevé pour associer les stations au sein d’un réseau local (SSID :
Service Set Identifier), ce qui est une limite importante à cause de la modification continuelle
de la topologie du réseau véhiculaire. Un amendement spécifique a été proposé pour régler ces
limites avec la norme 802.11p dédiée à la communication véhiculaire.

ITS-G5 (IEEE 802.11p) Le standard IEEE 802.11p est une forme de communication Wi-Fi
spécialement adaptée pour les VANETs car elle permet de réduire le temps d’association entre
les entités communicantes. Ce standard s’appuie sur une version modifiée de la norme 802.11a

96

Chapitre 4 Communication véhicules-piétons

pour la couche physique et utilise donc des canaux de communication autour de la fréquence
5.9GHz.
De plus, le standard IEEE 802.11p a la capacité de gérer simultanément les communications
véhiculaires de type ad-hoc et les communications avec l’infrastructure installée sur le bord des
routes.
L’ETSI propose une méthode d’accès au canal de communication avec la norme ITS-G5 [13].
ITS-G5 définit trois canaux de type A, B et C dont l’accès est différent suivant les applications
et la priorité des messages envoyés. De cette manière, cette norme garantit un accès privilégié
aux applications critiques.

4.1.5
4.1.5.1

La communication pour les usagers vulnérables
Description des moyens de communication

La communication V2P a l’objectif d’établir l’échange d’information entre véhicules et usagers
vulnérables pour accroı̂tre la sécurité de ces derniers. Ce mode de communication n’est pour le
moment pas traité spécifiquement au sein de la communication véhiculaire et peu de solutions ont
été proposées. Les articles [121] [122] [123] [124] présentent quelques unes des solutions spécifiques
à la communication V2P. Ces systèmes ont l’avantage principal de fonctionner lorsque le véhicule
et l’usager vulnérable sont en ligne de vue directe (LOS), mais également lorsqu’un obstacle se
trouve sur cette ligne de vue, c’est à dire, en ligne de vue indirecte (NLOS).
Deux constructeurs automobiles ont abordé spécifiquement ce sujet en supposant que les piétons
sont équipés de dispositifs adaptés. Honda a proposé en août 2013 de s’appuyer sur la technologie 802.11p pour la sécurité des piétons [125]. Cette solution fait l’hypothèse réaliste que la
technologie 802.11p est disponible par tous les usagers, ce qui n’est pas encore le cas. Il est
même envisageable que la bande de fréquence occupée par le 802.11p soit très encombrée par les
applications véhiculaires existantes, l’ajout de la communication V2P risque d’augmenter fortement la congestion. General Motors a également proposé une solution pour la communication

Chapitre 4 Communication véhicules-piétons

97

V2P en utilisant la technologie « Wi-Fi direct » disponible sur les smartphones actuels [126].
Malheureusement, très peu d’informations sont disponibles quant aux mécanismes mis en œuvre
pour assurer la sécurité des usagers vulnérables par [125] et [126].

4.1.5.2

Protocoles d’échange de messages

Les auteurs des articles [121] et [122] ont étudié les performances des systèmes Wi-Fi et cellulaires
et ont démontré que la communication Wi-Fi réduit les délais de manière significative. Sugimoto
et al. [122] ont proposé un mécanisme pour utiliser à la fois les systèmes cellulaires et Wi-Fi
pour la sécurité des piétons. Le point clé de ce mécanisme est un centre de contrôle connecté
aux véhicules et aux piétons à travers le réseau cellulaire. Lorsque le centre de contrôle détecte
un risque de collision, il demande aux véhicules et aux piétons de communiquer directement par
Wi-Fi. Cependant, cette approche est trop centralisée, en effet, le nombre potentiellement élevé
de traitements et de communications au niveau du centre de contrôle représente le point limitant
pour passer ce type de solution a l’échelle.
Dans [121], David et al. étudient également les différents types de communication possibles,
essentiellement en Europe. Ils ajoutent une notion de filtrage des usagers vulnérables importants
depuis une carte d’identité décrivant chaque personne (âge, taille, handicaps possibles,. . . ) et les
dernières données reçues. Les usagers ne présentant aucun risque ne sont donc plus suivis par le
véhicule.
La conception de protocoles spécifiques pour la protection des usagers vulnérables a également
été envisagée [127] et est une voie à suivre afin d’améliorer l’efficacité de la communication. Le
véhicule peut décider de communiquer avec un seul usager qui est en situation potentiellement
dangereuse. Tous les usagers ne sont également pas obligés de signaler leur présence aux véhicules,
mais seulement certains qui s’expriment pour tout un groupe. Ainsi, l’énergie du dispositif piéton
est optimisée.
Plus récemment, les auteurs de l’article [124] suggèrent l’utilisation de communication cellulaire
pour aborder la communication V2P. Cette solution est très robuste pour l’échange de messages

98

Chapitre 4 Communication véhicules-piétons

car les données sont émises à travers une architecture centralisée. Les auteurs proposent également d’adapter la fréquence d’émission des messages de signalisation depuis le piéton en fonction
du danger de collision afin d’optimiser la consommation d’énergie sur les téléphones mobiles.

4.1.5.3

Méthodes pour la localisation des usagers vulnérables

La localisation des usagers vulnérables par rapport au véhicule est cruciale pour une application de sécurité routière. Le signal radio portant la communication présente des caractéristiques
physiques utiles pour estimer la distance relative entre un émetteur et un récepteur. Trois techniques principales sont utilisées pour estimer de cette manière la distance entre un véhicule et
un piéton : l’angle d’arrivée (AOA - Angle Of Arrival) [123] [128], la puissance du signal reçu
(RSSI - Received Signal Strength Indicator) [129] et le temps de propagation du signal (TOF
- Time Of Flight) [129]. Cette dernière méthode est elle-même divisée en trois sous-classes : le
temps d’arrivée (TOA - Time Of Arrival), le temps de vol aller-retour (RTOF - Roundtrip Time
Of Flight), la différence entre temps d’arrivée (TDOA - Time Difference Of Arrival).
Au cours du projet européen WATCH-OVER, les partenaires ont construit un dispositif permettant aux usagers vulnérables de communiquer avec des véhicules environnants [29]. À partir du
signal reçu, les véhicules estiment la position de l’usager vulnérable. Après avoir mené de nombreux tests sur les différentes technologies disponibles, il a été conclu que les techniques de temps
de vol permettent une plus grande précision sous la contrainte d’une parfaite synchronisation
entre les horloges de chaque dispositif communicant. Cependant, certaines limites apparaissent
dès qu’un obstacle coupe la communication directe entre l’émetteur et le récepteur.

4.1.5.4

Conclusion

Peu de travaux abordent spécifiquement la communication V2P. L’état de l’art de ce mode de
communications établit les exigences liées à un tel système :
- Consommation d’énergie. Les systèmes de communication sont divisés en deux groupes :
ceux nécessitant une forte puissance et ceux demandant une puissance plus faible. Dans

Chapitre 4 Communication véhicules-piétons

99

le cas de la communication entre véhicules et piétons, il n’y a pas de limite d’énergie au
niveau de la voiture, à l’opposé, un piéton transporte un dispositif autonome possédant
une énergie limitée. La solution choisie doit éviter l’émission de messages inutiles depuis
les piétons et peut se baser sur des méthodes de filtrage des usagers communicants [121]
[122]. Ces approches ont aussi pour effet de diminuer l’utilisation du canal.
- Latence. Le temps entre l’émission de l’information et son traitement possible par le récepteur. Si ce temps est trop long, le statut de l’émetteur a changé lorsque le récepteur traite
la donnée. À partir de [121] et [122], nous concluons que la communication de type Wi-Fi
est à privilégier par rapport à la communication centralisée afin de satisfaire les exigences
élevées en terme de délais.
- Fiabilité de l’architecture. Les erreurs de transmission doivent être faibles. Il est démontré
que les approches centralisées sont privilégiées au regard de cette contrainte [122], mais
une évaluation des moyens de communication distribuée par rapport aux exigences des
applications de protection des vulnérables n’est pas disponible dans la littérature.
- Standards et sécurité des données. Le compatibilité entre plateformes communicantes implique une standardisation des moyens déployés dans les véhicules et sur les dispositifs
transportés par les piétons. Les travaux de standardisation de communication véhiculaire
(section 4.1.1) se sont concentrés sur les communications V2V et V2I et les travaux sur
la communication V2P se sont pour le moment concentrés sur la capacité de ce moyen à
satisfaire certaines exigences pour améliorer le sécurité routière [121].
- Disponibilité du service. Les communications peuvent être impossibles pour plusieurs raisons (blocage du signal, congestion du canal, dispositif manquant chez un usager). Il est
primordial pour les futurs systèmes de s’appuyer sur des technologies complémentaires et
de ne pas accorder toute sa confiance dans le moyen de communication.

100

4.1.6
4.1.6.1

Chapitre 4 Communication véhicules-piétons

Applicabilité des protocoles ITS pour la communication V2P
Protocoles de la couche « facilities »

Les CAMs sont émis périodiquement par les véhicules pour informer les autres usagers de leur
présence. Ces messages sont parfaitement adaptés pour la communication V2P et peuvent être
traités par les piétons les recevant. Le format de ces messages comprend une description du
type d’usager et est donc compatible avec une description des usagers vulnérables. Cependant,
certains paramètres diffèrent entre piétons et véhicules. Particulièrement, il est utile pour un
piéton d’informer les véhicules de son âge ou de certains handicaps (problème de vue, difficulté à
se déplacer) pour que ces derniers puissent adapter leur comportement. Le format d’émission des
CAMs doit être adapté pour les piétons afin de mieux prendre en compte les limites énergétiques
de leurs moyens de communication et éviter l’envoi inutile de messages sur le canal.
Les DENMs alertent les autres usagers d’un événement détecté par un véhicule. Ces messages
peuvent être utilisés dans la communication V2P pour permettre aux véhicules et aux piétons de
s’avertir lorsque l’un d’eux détecte une collision. Dans le contexte de la communication V2P, la
détection de collision s’effectue lorsque la distance est faible. Dans ce cas, les DENMs n’ont besoin
que d’un seul saut. Un tel DENM peut toutefois être ré-émis dans le VANET par communication
V2V pour élargir la portée du message d’alerte.
La LDM stocke les caractéristiques de l’environnement entourant le véhicule. Elle a donc la capacité d’organiser les informations émises par les piétons et reçues par le véhicule. Une application
de protection des vulnérables peut accéder à ces informations de la LDM pour mieux évaluer les
dangers.

4.1.6.2

Protocoles de la couche réseau et transport

Les approches centralisées pour la communication V2P supposent l’existence d’un serveur gérant
l’échange de données entre véhicules et piétons. Dans cette hypothèse, IP est une solution à
employer et la gestion de la mobilité doit être prise en compte.

Chapitre 4 Communication véhicules-piétons

101

Pour satisfaire les exigences en terme de latence, la communication V2P distribuée est privilégiée.
Les algorithmes de routage topologique ne sont pas du tout adaptés à ces applications car les liens
entre véhicules et piétons sont constamment mis à jour. Des approches de type « broadcast »
sont un meilleur choix pour éviter de devoir maintenir les chemins entre véhicules et piétons.
Le routage géographique est très bien adapté pour les applications de sécurité. En effet, une collision n’a de chance de se produire que dans certaines zones de l’environnement. L’établissement
de liens entre véhicules et piétons situés proches des aires de danger permet de mieux optimiser
la communication V2P et d’éviter la surcharge du canal. Cependant, les zones de destination
pour la communication V2P ne peuvent pas être connues à l’avance et doivent être instanciées
dynamiquement en fonction de la situation. Le routage des messages V2P géographiques doit
donc être réactif et ne peut s’appuyer sur des routes pré-établies.
En ce qui concerne les protocoles de transport, UDP qui fonctionne en mode non connecté et ne
nécessite aucun acquittement satisfait les exigences de faible latence pour la communication V2P
contrairement à TCP. Le protocole BTP peut aussi être utilisé dans le contexte plus spécifique
du routage géographique.

4.1.6.3

Protocoles de la couche accès

Les réseaux cellulaires sont disponibles sur les téléphones portables transportés par les piétons
avec les protocoles 3/4G. Ces médias sont parfaitement adaptées pour des approches centralisées
dans le cas de la communication V2I. La large couverture de ces médias rendent leur accès
simple pour le développement de premières applications. Cependant, il paraı̂t dommage de devoir
passer par une infrastructure dédiée pour mettre en relation un véhicule et un piéton situés à
quelques dizaines de mètres l’un de l’autre. Les nouvelles générations de réseaux cellulaires
LTE-Advanced/5G sont munies de moyens de communication directe entre usagers qui peuvent
parfaitement être exploités pour la communication V2P.
Les technologies Bluetooth et ZigBee (IEEE 802.15.4) sont très appréciées pour la conception
d’objets connectés. Cependant, leur faible portée (quelques dizaines de mètres) ne les rend pas

102

Chapitre 4 Communication véhicules-piétons

attractives dans des scénarios urbains pour lesquels une vitesse approchant 50 km/h nécessite une
plus grande portée (section 2.1.3) lors de l’établissement du contact entre piétons et véhicules.
Les technologies de type Wi-Fi (incluant le 802.11p) présentent le meilleur compromis pour la
communication V2P. En effet, ces médias ont la possibilité de fonctionner en mode point d’accès
pour les approches centralisées et en mode ad-hoc pour les approches distribuées. Leur portée de
quelques centaines de mètres permet d’espérer satisfaire les exigences des systèmes de protection
des vulnérables.

4.1.6.4

Bilan

En conclusion, le Tableau 4.4 dresse le bilan des protocoles ITS applicables à la communication
V2P.
Tableau 4.4: Applicabilité des protocoles ITS pour la communication V2P : + + très adapté,
+ adapté si quelques modifications, - peu adapté, - - pas du tout adapté

CAM
DENM
LDM
IP
Topologique
GeoNetworking
Cellulaire
Bluetooth
Wi-Fi

Véhicules Usagers vulnérables
Couche « facilities »
++
+
+
+
++
++
Couche réseau et transport
+
-++
Couche accès
+
++

Les fonctionnalités de la couche « facilities » peuvent être pleinement exploitées pour la communication V2P, même si certaines adaptations sont à envisager. En effet, une émission périodique
des CAMs par les usagers vulnérables génère inutilement des messages lorsqu’il n’y a aucun
danger et consomme la batterie des dispositifs piétons.

Chapitre 4 Communication véhicules-piétons

103

Au niveau de la couche réseau et transport, GeoNetworking est la meilleure approche pour cibler
les zones dans lesquelles peuvent de se produire des collisions.
Au niveau de la couche accès, le Wi-Fi est le média ayant le meilleur potentiel pour satisfaire les
exigences d’une application de sécurité des vulnérables. Les futures générations de communications cellulaires ont également les caractéristiques intéressantes pour satisfaire ces exigences.

4.2

Communication véhicules-piétons pour la protection des vulnérables

4.2.1

Description Générale

Figure 4.2: Description de la mise en place de la communication V2P

Depuis l’état de l’art de la communication V2P, les communications distribuées ont été identifiées comme nécessaires pour faire coopérer les usagers de la route afin d’assurer leur sécurité.
Notre solution s’appuie sur le mode ad-hoc pour mettre en relation véhicules et piétons sans
infrastructure dédiée comme illustré sur la Figure 4.2. Ce mode de communication est disponible
auprès des médias de type Wi-Fi, incluant l’amendement IEEE 802.11p. Le système proposé est
compatible avec n’importe laquelle de ces technologies à condition qu’elle soit intégrée à la fois
dans le véhicule et dans le dispositif piéton.

104

Chapitre 4 Communication véhicules-piétons

Actuellement, de nombreuses personnes effectuent quotidiennement leurs déplacements avec leur
smartphone. Ces appareils sont munis à la fois de moyens de communication (Wi-Fi, Bluetooth,
3/4G), de capteurs pour estimer la localisation des piétons, et d’interfaces (écran, son) pour alerter les usagers en situation de danger. Les smartphones présentent les meilleures caractéristiques
pour être considérés comme dispositifs piétons.
Les sections suivantes introduisent un nouveau système pour la protection des vulnérables à
partir de la communication V2P. Ce système favorise l’envoi de messages depuis les véhicules
vers les piétons à partir des CAMs et limite l’émission de données depuis les piétons par un
filtrage des usagers en zone de danger. Cette approche permet de satisfaire les exigences en
termes de consommation d’énergie et de latence pour les usagers vulnérables.

4.2.2

Algorithme d’alerte conjointe des véhicules et des usagers vulnérables

Figure 4.3: Architecture de la communication V2P

L’algorithme proposé est schématisé sur la Figure 4.3 et s’appuie sur les fonctionnalités apportées

Chapitre 4 Communication véhicules-piétons

105

par le couche « facilities » de l’architecture de communication : les CAMs, les DENMs et la LDM.
Par défaut, le véhicule émet un CAM à destination de tous les usagers en broadcast. Si un
obstacle occultant est détecté depuis le système de perception, alors un message spécifique à
portée géographique, derrière la zone occultée par l’obstacle, est émis sous la forme d’un GeoCAM. Ces Geo-CAMs contiennent les coordonnées géographiques de la zone de dissémination,
appelée Geo-Area. Alors que les CAMs sont des messages à un seul saut et peuvent ne pas
atteindre la zone occultée située en ligne de vue indirecte pour la communication V2P, les GeoCAMs peuvent être relayés pour atteindre de manière plus robuste la zone occultée. L’émission
d’un Geo-CAM arrête l’envoi du CAM suivant.
Du côté des piétons, à chaque fois qu’un nouveau message est reçu, il est évalué si le piéton se
situe dans l’aire de destination d’un message de type Geo-CAM, ou si le piéton se trouve dans
une aire géographique de danger (GDA) définie à partir de la dynamique du véhicule extraite
d’un message de type CAM, comme illustré sur la Figure 4.3. Si le piéton se situe dans la zone
de destination du message reçu, alors, il émet un message P2V en unicast vers le véhicule dans
le but d’échanger des informations le concernant et d’acquitter la réception du message envoyé
par le véhicule.
La réception d’un message P2V par le véhicule permet de mettre à jour l’état de l’usager vulnérable communicant au sein de la LDM. De cette manière, le système communicant fournit une
liste de pistes issues de la communication à l’application de sécurité.

4.2.3
4.2.3.1

Messages émis par les véhicules
Description des données nécessaires

À la réception d’un message émis depuis un véhicule, un usager vulnérable évalue le risque
de collision en prédisant son déplacement ainsi que celui du véhicule dans un futur proche.
Les paramètres permettant de modéliser la trajectoire du véhicule sont donc à envoyer par
communication V2P.

106

Chapitre 4 Communication véhicules-piétons
IS (xS , yS )

RS
YL
L
vavant

vV
ωV
OL (0, 0) G(xG , yG )

r
XL

Figure 4.4: Modèle bicyclette

La trajectoire du véhicule est représentée à l’aide du modèle bicyclette (à deux roues) [130].
Un système de coordonnées locales (OL , X L , Y L ) centré sur l’essieu arrière est défini sur la
Figure 4.4.
Tout d’abord, le centre OL du repère véhicule doit être exprimé dans un repère global partagé
avec les autres usagers. Le véhicule exprime donc sa position à partir de sa latitude (Lat.),
sa longitude (Long.) et son orientation (θV ). Le temps tV auquel est créée cette position est
également un paramètre important.
Les vitesses radiale, vV = kvV k, et angulaire, ωV , et la longueur du véhicule L permettent de
calculer les paramètres du modèle bicyclette dans l’équation (4.1) qui sont :

- le centre instantané de rotation (ICR), IS (xS , yS ),
- le rayon du ICR jusqu’au centre de gravité, RS ,
- l’angle d’Ackerman (angle de braquage du véhicule), r .

Chapitre 4 Communication véhicules-piétons

RS =

vV
ωV

xS = 0,

, r =

107

L
RS

(4.1)

yS = RS × cos( 2r )

À partir de ces paramètres, la position du véhicule au temps t est établie par :
xV (t) = RS × sin(ωV × t + r ) + xS

(4.2)

yV (t) = −RS × cos(ωV × t + r ) + yS

Tableau 4.5: Paramètres émis avec un CAM

Notation
ID
Lat.
Long.
θV
tV
vV
ωV
W
L

Contenu CAM

Description
Identifiant
Latitude
Longitude
Orientation
Temps de création
Vitesse radiale
Vitesse angulaire
Largeur du véhicule
Longueur du véhicule

Tous les paramètres du véhicule nécessaires lors de l’émission d’un CAM sont résumés dans le
Tableau 4.5.

4.2.3.2

Algorithme d’émission des messages par les véhicules

Notre implémentation est basée sur l’envoi de CAMs [99] depuis les véhicules. Ces messages
contiennent toutes les informations présentées dans le Tableau 4.5. En effet, cette implémentation
comprend les valeurs suivantes :
- un identifiant du véhicule,
- des informations sur les moyens de communication disponibles dans la station mobile,
- le type de véhicule ainsi que ses caractéristiques (longueur, largeur),

108

Chapitre 4 Communication véhicules-piétons

- la position, l’orientation, la vitesse, l’accélération longitudinale et le courbure de la trajectoire courante,
- les coefficients de confiance associés aux valeurs ci-dessus.
Algorithme 2 : Génération de CAMs
tant que Le véhicule est en marche faire
Attendre 100 ms;
si Aucun CAM n’a été envoyé depuis plus de 1 s alors
Emission d’un CAM ;
sinon
si La différence absolue entre l’orientation (en direction du Nord) et celle du précédent
message CAM > 4 ° alors
Emission d’un CAM ;
sinon si La différence entre la position courante et celle du précédent message CAM >
5 m alors
Emission d’un CAM ;
sinon si La différence entre la vitesse courante et celle du précédent message CAM >
1 m/s alors
Emission d’un CAM ;

Le véhicule émet de manière périodique les informations définies précédemment dans le réseau
véhiculaire, ce qui a pour conséquence d’avertir les autres usagers de la route. L’annexe B du
standard de l’ETSI [99] propose une méthode de génération des CAMs qui est résumée dans
l’Algorithme 2. Par défaut, les CAMs sont émis toutes les secondes pour un véhicule statique ou se
déplaçant à une allure modérée. Sous certaines conditions, la période d’envoi de ces messages peut
être réduite à 100 ms. Une différence de 5 m entre deux positions espacées de 100 ms correspond à
une vitesse de 180 km/h pour un véhicule et est une condition limite qui n’est quasiment jamais
atteinte.

Chapitre 4 Communication véhicules-piétons

4.2.4
4.2.4.1

109

Messages émis par les usagers vulnérables
Description des données nécessaires

De même que pour les véhicules, la connaissance de la position (Lat., Long.), de l’orientation θvru
et du temps de création tvru sont nécessaires pour connaitre l’état d’un usager vulnérable. Nous
supposons qu’un identifiant unique, ID, est fourni à chaque usager ayant installé une application
de protection sur son téléphone. De plus, le déplacement de ces usagers est modélisé par un
modèle à vitesse constante, qui suppose que le piéton se déplace dans la même direction et à la
même vitesse vvru dans un futur proche.
Les messages émis par les piétons contiennent aussi des données plus riches pour décrire l’état
général de l’individu telles que :

- la classe de l’usager (piéton, cycliste, motocycliste)
- certaines caractéristiques sur la personne (âge, possible handicap)
Tableau 4.6: Paramètres envoyés par un message P2V

Notation
ID
Lat.
Long.
θvru
tvru
vvru
Cvru

Message P2V

Description
Identifiant
Latitude
Longitude
Orientation du piéton
Temps de création
Vitesse de déplacement
Classe

Le Tableau 4.6 résume les paramètres nécessaires à la prédiction des déplacements des usagers
vulnérables.

110

Chapitre 4 Communication véhicules-piétons

Toutes les informations présentées ci-dessus doivent permettre de respecter la vie privée
des personnes concernées et cette thèse n’aborde pas les questions d’éthique relatives à
l’échange de certaines informations à caractère sensible. Nous avons simplement défini
des caractéristiques permettant de mieux adapter le comportement de véhicule à l’usager
vulnérable se trouvant en situation de danger.

4.2.4.2

Algorithme d’émission de messages par les vulnérables

Les piétons n’émettent pas de CAMs dans l’algorithme décrit sur la Figure 4.3. En effet, l’envoi
périodique de données est consommateur en énergie pour le smartphone et surcharge inutilement
le canal lorsqu’il n’y a aucun danger. C’est pourquoi, dans notre approche, les piétons n’envoient
leurs informations que vers les véhicules avec lesquels ils ont détecté un danger potentiel. De
cette manière, un premier filtrage est effectué du côté des piétons.
Un piéton recevant un message depuis un véhicule évalue s’il se situe dans une aire potentiellement dangereuse par rapport à ce véhicule. Si tel est le cas, il envoie alors le message P2V en
unicast vers le véhicule concerné. Sinon, le message est rejeté et aucune nouvelle action n’est
requise. L’algorithme 3 résume les traitements effectués par le piéton.
Algorithme 3 : Génération de messages P2V
Réception d’un message émis par un véhicule;
si Le message est un CAM alors
si Le piéton se situe sur le chemin du véhicule alors
Émission d’un message P2V en unicast vers le véhicule;
sinon
si Le piéton se situe dans la Geo-Area définie par le véhicule alors
Émission d’un message P2V en unicast vers le véhicule;

Chapitre 4 Communication véhicules-piétons

111

Tableau 4.7: Format du message Geo-CAM

Geo-Area

4.2.5

Contenu CAM

Messages à portée géographique

Les messages à portée géographique Geo-CAM encapsulent les données contenus dans un CAM
avec l’aire de destination, Geo-Area, comme le montre le Tableau 4.7. Chaque usager vulnérable
recevant ce type de message évalue tout d’abord s’il se trouve dans cette Geo-Area avant d’accéder aux données et de calculer le risque de collision. De cette façon, le traitement est simplifié
au niveau de la réception, ce qui permet d’économiser de l’énergie pour les dispositifs piétons.
La construction de la Geo-Area est décrite au cours de la section 4.3.3.

4.3
4.3.1

Dissémination géographique des messages V2P
Présentation des zones géographiques

La communication V2P s’appuie sur une dissémination géographique des messages afin de mettre
en relation uniquement les véhicules et les usagers vulnérables qui doivent interagir pour assurer
leur sécurité commune. Cette réduction de l’espace atteint par la communication diminue le
nombre de messages échangés par rapport à une solution basée uniquement sur du broadcast.
Comme illustré sur la Figure 4.3, deux types d’aire géographique de destination sont distingués :

- les aires définies par chaque usager vulnérable recevant un CAM,
- les aires définies par le véhicule assignant une adresse géographique au Geo-CAM envoyé.

Les aires de dissémination d’un message dépendent tout d’abord de la dynamique du véhicule
comme illustré par la Figure 4.5. En effet, l’annonce du véhicule doit être effectuée dans les
régions où il se situera dans un futur proche.

112

Chapitre 4 Communication véhicules-piétons

(a) Véhicule se déplaçant en ligne droite

(b) Véhicule effectuant un virage

(c) Présence d’un obstacle devant le véhicule
Figure 4.5: Schémas décrivant les zones de danger pour le véhicule

Dans le fonctionnement par défaut du système, le véhicule émet un CAM et chaque usager
vulnérable recevant ce message évalue s’il se trouve dans une aire de destination du message
pour l’accepter ou le rejeter. Lorsque le véhicule avance en ligne droite, la zone couvre la surface
située devant le véhicule comme le montre la Figure 4.5a dans laquelle les deux piétons P1 et P2
reçoivent le message. Lorsque le véhicule tourne, l’aire de destination suit la rotation du véhicule
et uniquement le piéton P1 reçoit le message comme l’illustre la Figure 4.5b.
En ce qui concerne les Geo-CAMs, les zones de dissémination sont définies dynamiquement à
partir de la position et des dimensions d’un obstacle occultant. Sur la Figure 4.5c, le véhicule
perçoit une zone de danger derrière le bloc situé devant lui et décide d’émettre un message
spécifiquement vers cette région. Dans ce cas, le piéton P3 communique avec le véhicule alors
que le piéton P4 est filtré.

Chapitre 4 Communication véhicules-piétons

4.3.2

113

Définition des aires géographiques de destination

IS (xS , yS )



φ

xint = xV (T T C) = xL
vru (tint )
L
yint = yV (T T C) = yvru (tint )



Rg (t)

RS
Ehg

Rd (t)

(xg (t), yg (t))

Eh

YL
Iint (xint , yint )

vmax × t

XL

W

Ehd
OL

dint
(xd (t), yd (t))
L

svru
Figure 4.6: Définition de la GDA

Les CAMs sont des messages envoyés en broadcast et reçus par tous les usagers présents sur le
lien de communication V2P. Un vulnérable recevant un CAM doit évaluer s’il se trouve dans

114

Chapitre 4 Communication véhicules-piétons

l’aire géographique de danger (GDA) de ce message.
La GDA, illustrée en orange sur la Figure 4.6, est initialement calculée uniquement depuis la
dynamique du véhicule et sans connaissance sur la présence d’un usager vulnérable à partir des
paramètres suivants :

- l’horizon temporel, th ,
- la largeur, W , et la longueur, L, du véhicule,
- la vitesse maximale pour un usager vulnérable, vmax .
LA GDA est décrite par deux équations paramétriques qui sont respectivement les frontières
gauche (xg (t), yg (t)) et droite (xd (t), yd (t)) pour t variant de 0 à th .
Pour le calcul de la frontière gauche, le rayon partant de IS , Rg (t), est calculé en soustrayant
la distance maximale que peut parcourir un vulnérable pour croiser la trajectoire du véhicule
au rayon initial Rs . L’angle d’Ackerman est ensuite mis à jour g (t). Le modèle bicyclette est
appliqué avec les paramètres Rg (t) et g (t) pour calculer la trajectoire gauche (xg (t), yg (t)) au
temps t. L’équation (4.3) résume le calcul de ces paramètres.

Rg (t) = RS − ( W
2 + vmax × t)
L
Rg (t)

g (t)

=

xg (t)

= Rg (t) × sin (ωV × t + g (t)) + xS

yg (t)

= −Rg (t) × cos (ωV × t + g (t)) + yS

(4.3)

Le calcul de la frontière droite est similaire à celui de la frontière gauche. La différence se fait
par l’ajout de la distance maximale que peut parcourir un vulnérable dans le calcul de Rd (t).
L’équation (4.4) résume le calcul de paramètres Rd (t), d (t) et (xd (t), yd (t)).

Chapitre 4 Communication véhicules-piétons

115

Rd (t) = RS + ( W
2 + vmax × t)
L
Rd (t)

d (t)

=

xd (t)

= Rd (t) × sin(ωV × t + d (t)) + xS

yd (t)

= −Rd (t) × cos(ωV × t + d (t)) + yS

(4.4)

Du point de vue d’un usager vulnérable, calculer sa présence dans la GDA revient à évaluer s’il
a le temps de couper la trajectoire du véhicule avant que celui-ci n’arrive. Le point d’intersection
Iint entre les trajectoires du véhicule et du piéton est illustré sur la Figure 4.5. Les coordonnées
du point Iint sont calculées en cherchant l’intersection entre la trajectoire prédite du véhicule
(équation (4.2)) et la trajectoire prédite de l’usager vulnérable (équation (4.5)). Le calcul des
coordonnées xint et yint et de l’instant tint auquel la trajectoire de l’usager vulnérable croise
celle du véhicule sont détaillés dans l’Algorithme 5 de l’annexe A.

L ) × t + xL
xvru (t) = vvru × cos(θvru
vru
L ) × t + yL
yvru (t) = vvru × sin(θvru
vru

(4.5)

Le temps avant collision (TTC) est le temps mis par le véhicule pour atteindre Iint . En conséquence, le risque de collision est avéré si la personne et le véhicule atteignent Iint au même moment. Le modèle de déplacement de l’usager vulnérable est incertain et une marge tm est calculée
en supposant que l’accélération d’un vulnérable ne dépasse pas une valeur amax . L’Algorithme 4
décrit les calculs effectués par un usager vulnérable pour évaluer le danger de collision.

4.3.3

Définition dynamique des zones géographiques à partir d’obstacles occultant

La détection d’un obstacle par le système de perception a pour conséquence la génération d’une
aire géographique, appelée Geo-Area, pour la dissémination d’un message d’annonce du véhicule,
appelé Geo-CAM.
La Figure 4.7 illustre comment générer une telle Geo-Area depuis la boite englobante d’un

116

Chapitre 4 Communication véhicules-piétons

Algorithme 4 : Évaluation du danger par un usager vulnérable
Entrées : vV , ωV , tV : vitesses longitudinale et angulaire et instant de création du message
pour le véhicule
xint , yint , tint : coordonnées du point d’intersection et l’instant auquel le VRU arrive à ce point
vvru : la vitesse du VRU
Paramètres : L, W : longueur et largeur du véhicule
amax accélération maximal d’un VRU
si ω 6= 0 alors
1) Calculer RS , r , xS et yS avec l’équation. (4.1);
L −y
L
yint
S xint −xS
);
RS ,
RS
φ− 2r + π2
+ tV ;
ωV

2) Calculer φ = atan2(
3) Calculer T T C =
sinon
1) Calculer T T C =

xL
int
vV

−v

+

+ tV ;
√
v

(v

+2 a

t

)

vru
vru
max int
;
Calculer tm = tint − vru
amax
W
W
si T T C ∈ [tint − 2 vvru − tm , tint + 2 vvru + tm ] alors
Accepter le message;
Répondre au véhicule par un message P2V;

sinon
Rejeter le message;
Pas de nouvelle action;

Ehg
YL

XL
W

OL

E3
Io (xo , yo , θo )

Iocc (tocc )
E0
A2

L
E1

φo

Eh
E4
E2

A1
Ehd

Figure 4.7: Définition de la Geo-Area

obstacle occultant détecté. Cette figure illustre la zone de danger définie par la dynamique du
véhicule en orange et l’obstacle détecté en bleu. L’aire géographique pour la dissémination d’un

Chapitre 4 Communication véhicules-piétons

117

Geo-CAM doit se trouver à l’intersection de la GDA et de la zone occultée. Elle est représentée
en orange foncé sur la Figure 4.7.
Le point de l’obstacle E0 (xE0 , yE0 ) est l’extrémité par laquelle un usager vulnérable peut être
masqué. La zone occultée est établie en deux parties A1 et A2 depuis un raisonnement sur
le point E0 . La démonstration effectuée dans cette section se fait en supposant que l’obstacle
se trouve sur la droite de la route. Elle est similaire pour un obstacle positionné à gauche du
véhicule.
A1 est l’aire, située derrière l’obstacle, que le véhicule ne peut percevoir. Tout usager vulnérable
présent dans cette zone est en danger s’il décide de traverser la route.
Les points E1 et Ehd sont respectivement déterminés par l’application des équations paramétriques de la GDA (équation (4.4)) aux temps tocc et th . tocc est le temps pour lequel le véhicule
atteint le point E0 (équation (4.6)) et th est l’horizon temporel considéré. Les coordonnées des
points E1 et Ehd sont respectivement fournies par les équations (4.7) et (4.8).
yE0 −yS xE0 −xS
RS ,
RS )
φocc − 2r + π2
ωV

φocc = atan2(
tocc

=

Rd (tocc ) × sin(ωV × tocc + d (tocc )) + xS

xE1

=

yE1

= −Rd (tocc ) × cos(ωV × tocc + d (tocc )) + yS

Rd (th ) × sin(ωV × th + d (th )) + xS

xEhd

=

yEhd

= −Rd (th ) × cos(ωV × th + d (th )) + yS

(4.6)

(4.7)

(4.8)

Finalement, le point à l’horizon E2 situé à la limite du FOV du véhicule est déterminé depuis
les coordonnées du point Eh (position du véhicule à l’horizon temporel). L’équation (4.9) décrit
les coordonnées du point Eh obtenues par l’application du modèle bicyclette au temps th et
l’équation (4.10) donne les coordonnées du point E2 .

118

Chapitre 4 Communication véhicules-piétons

RS × sin(ωV × th + r ) + xS

xEh

=

yEh

= −RS × cos(ωV × th + r ) + yS
q

xE2

=

yE2

=

2
x2E +yE

ω

h
×t

h

V
h
cos(
q 2 +φo )
2
2
xE +yE

h
h
ω ×t
cos( V 2 h +φo )

(4.9)

× cos(φo )
(4.10)
× sin(φo )

A2 est située avant le point E0 et alerte les usagers qui contournent l’obstacle pour traverser
la route. Les extrémités de l’aire A2 sont définies par les points E1 (équation (4.8)) et E3 .
Les coordonnées du points E3 sont obtenues depuis l’orientation de l’obstacle θo et la distance
qu’un piéton est capable de parcourir pour atteindre E0 avant une collision comme le montre
l’équation (4.11).

p
(xE1 − xE0 )2 + (yE1 − yE0 )2 × cos(θo )
p
+ (xE1 − xE0 )2 + (yE1 − yE0 )2 × sin(θo )

xE3

= xE0 +

yE3

=

yE0

(4.11)

L’aire de la Geo-Area AGeo est donnée par la somme des aires de A1 et A2

Z Z

Z Z

AGeo =

dxdy +
A1

dxdy

(4.12)

A2

D’après le théorème de Green, les aires des surfaces A1 et A2 sont exprimées dans les équations (4.13) et (4.14) par les aires des contours fermés décrits respectivement par E0 E1 Ehd E2 et
E0 E1 E3 .
Nous remarquons dans l’équation (4.13) que le calcul de l’aire sous la frontière droite fait apparaı̂tre une intégrale dépendant de la courbe paramétrique (xd (t), yd (t)). Pour de faibles valeurs
de ωV , il est envisageable de supposer que la courbe entre E1 et Ehd est une droite. Dans ce cas,
le calcul de l’aire de A1 est simplifié par le calcul de l’aire d’un parallélogramme.

Chapitre 4 Communication véhicules-piétons

RR
A1

Z Z

dxdy =

119

R yEhd
1
2 (xE1 + xE0 )(yE1 − yE0 ) + yE1 xd (t)dyd (t)
+ 21 (xE2 + xEhd )(yE2 − yEhd ) + 21 (xE0 + xE2 )(yE0

(4.13)
− yE2 )


(xE1 − xE0 )2 + (yE1 − yE0 )2 × atan2(yE3 − yE1 , xE3 − xE1 )
dxdy =
2
A2

(4.14)

Tableau 4.8: Définition de la Geo-Area

E0

E1

Geo-Area
Ehd E2 E3

AGeo

Finalement, la Geo-Area et définie par les cinq points précédents et l’aire AGeo de la Geo-Area
comme illustré par le Tableau 4.8. Lorsqu’un piéton reçoit un Geo-CAM, il évalue s’il se trouve
dans l’aire A1 extraite depuis les quatre premiers points, puis, s’il est dans l’aire A2 représentée
comme l’arc E1 E3 du cercle de centre E0 .

4.3.4

Routage géographique des messages V2P

Les CAMs émis périodiquement sont des messages à un saut [99] et sont satisfaisants lorsque la
ligne de vue est directe entre un véhicule et des usagers vulnérables.
Les Geo-CAMs sont envoyés vers des régions pour lesquelles le FOV du véhicule est masqué
par un obstacle. La présence d’un tel obstacle peut également bloquer la communication et
augmente la probabilité de perdre le message. Des méthodes de routage à plusieurs sauts sont
alors envisagées pour disséminer de manière robuste ces paquets vers une Geo-Area.
Dans l’article [131], les auteurs font une revue des protocoles de routage géographique introduits
dans le standard GeoNetworking. Deux techniques ont particulièrement retenu notre attention
pour proposer un algorithme de routage des Geo-CAMs : Simple GeoBroadcast, Contention-based
forwarding.
Le Simple GeoBroadcast est une technique de flooding pour laquelle chaque nœud relaie le
message jusqu’à ce que celui-ci atteigne la Geo-Area. Des mécanismes de contrôle de duplication

120

Chapitre 4 Communication véhicules-piétons

par un identifiant de source, un numéro de séquence, un nombre maximum de sauts et un
temps de vie sont mis en place. Une telle méthode peut être appliquée lorsque le canal de
communication est peu encombré. Cependant, s’il est déjà beaucoup utilisé, cette approche
produit de nombreuses retransmissions qui diminuent ses performances.
Avec le Contention-based forwarding, chaque nœud recevant un message à retransmettre choisit
un minuteur en fonction de sa distance avec la destination. S’il reçoit une copie de ce message
pendant l’écoulement du minuteur, il considère qu’un usager mieux placé que lui s’est chargé
de renvoyer le paquet et aucune émission n’est faite par le véhicule. Lorsque le minuteur arrive
à expiration, le véhicule ré-émet le paquet. Avec cette approche, le message est retransmis à
chaque fois par le véhicule dont le minuteur a expiré en premier et atteint de cette manière
sa destination. Dans l’article [132], les auteurs proposent de recourir à un minuteur pour la
retransmission des messages en donnant la priorité au nœud le plus éloigné de la source.
Lorsque la canal de communication est peu encombré, un approche de type Simple GeoBroadcast est envisagée du fait de sa simplicité et du fait de sa rapidité pour la retransmission des
messages. Dans le cas contraire, une retransmission par le méthode Contention-based forwarding est privilégiée. Avec cette approche, le calcul du minuteur pour chaque véhicule recevant
un Geo-CAM est le point clé que nous définissons dans la suite de cette section.

YL
V2
V1
XL
OL

E3

φV 2,o
E0
Ainter
E1

E5

E2
Ehd

Figure 4.8: Illustration du calcul du minuteur pour le routage géographique

Nous considérons qu’un véhicule recevant un message est capable d’évaluer l’aire Ainter de la
Geo-Area qui se situe dans son FOV. Sur la Figure 4.8, cette aire est donnée par les points E0 ,

Chapitre 4 Communication véhicules-piétons

121

E2 , Ehd et E5 pour le véhicule V2. En particulier, le point E5 est à l’intersection du FOV depuis
le véhicule V2 et de la frontière droite de la Geo-Area. En notant, Ainter la superficie de l’aire
Ainter , le temps à attendre tw pour un véhicule récepteur est donné par l’équation (4.15), où
twmax est le temps d’attente maximal de la fenêtre de contention.

tw = −

twmax × Ainter
+ twmax
AGeo

(4.15)

Si le Geo-CAM est reçu une nouvelle fois par le véhicule V 2 pendant le temps tw , celui-ci
considère qu’un véhicule mieux placé que lui s’est chargé de la retransmission et le message est
abandonné. Lorsque le minuteur expire, le véhicule ré-émet le paquet car il est alors le mieux
placé pour atteindre la Geo-Area.

4.3.5

Discussion

La dissémination géographique de la communication V2P permet de mieux cibler les zones de
danger relatives à chaque véhicule communicant. Avec un tel système, lorsque plusieurs véhicules
identifient une même zone comme dangereuse, plusieurs messages similaires sont émis vers cette
zone et les usagers vulnérables ont la tâche de répondre à chacun des véhicules. Pour limiter ces
phénomènes, la communication V2V doit permettre aux véhicules de mieux se coordonner. Par
exemple, un véhicule peut retransmettre vers les autres véhicules situés dans sa voie les données
reçues depuis un piéton communicant.
Il se peut également que le communication V2P ne fonctionne pas alors qu’un usager vulnérable
est détecté par un véhicule pour lequel il est en situation LOS. Dans ce cas, nous pouvons
envisager, dans le futur, que le véhicule informe directement les autres usagers de la présence
du piéton.
Ces deux exemples présentent des défis intéressants quant à la communication V2V destinée
à la sécurité des usagers vulnérables. Dans cette thèse, nous nous sommes concentrés sur la
communication V2P et de tels cas restent ouverts et doivent faire l’objet de travaux futurs.

122

4.4

Chapitre 4 Communication véhicules-piétons

Conclusion

Au cours de ce chapitre, la communication véhicules-piétons (V2P) est abordée, et présente de
nombreux défis relatifs aux particularités des usagers vulnérables.
Nous proposons une solution assurant seule la sécurité des usagers vulnérables à partir de la
communication V2P. Nous avons montré que cette application s’appuie principalement sur les
standards de messages définis par l’architecture ETSI ITS. Elle est donc compatible avec les
futurs véhicules connectés.
Pour minimiser les messages émis par le véhicule, différentes zones géographiques de destination
sont introduites suivant le scénario considéré.
- Un premier type de zone s’appuie sur la dynamique du véhicule pour calculer la région de
l’environnement urbain dans laquelle une collision peut se produire. Nous avons montré
que cette zone revient à calculer le temps avant collision au niveau de l’usager vulnérable
et est directement évaluée depuis les CAMs.
- Un second type de zone est défini par la détection d’un obstacle occultant sur le chemin
du véhicule depuis le module de perception. Les paramètres de cette région sont calculés
dynamiquement et une nouvelle forme de zone géographique doit être introduite pour
assurer la dissémination de ces messages. La présence d’obstacles entre les véhicules et
les vulnérables nécessite l’utilisation de protocoles de routage géographique tels que le
GeoNetworking.
Finalement, nous proposons une fonction de calcul de la fenêtre de contention dans le cadre du
routage géographique. Dans un environnement urbain, le véhicule avec la meilleure probabilité
d’atteindre la zone de dissémination est celui pour lequel le champ de vision est le plus important.
L’aptitude du véhicule à communiquer vers la zone de dissémination est donc évaluée depuis sa
propre perception et fixe le temps à attendre pour la retransmission des paquets.
La communication V2P est évaluée dans la section 6.3 à partir de test réels réalisés à INRIA.

5
Système coopératif
perception/communication

4.1

État de l’art des standards de communication véhiculaire . . . . . .

86

4.1.1

Présentation de l’architecture générale . . . . . . . . . . . . . . . . . . .

86

4.1.2

Description de la couche « Facilities » . . . . . . . . . . . . . . . . . . .

88

4.1.3

Description de la couche Réseau et Transport . . . . . . . . . . . . . . .

90

4.1.4

Description de la couche Accès . . . . . . . . . . . . . . . . . . . . . . .

94

4.1.5

La communication pour les usagers vulnérables . . . . . . . . . . . . . .

96

4.1.6

Applicabilité des protocoles ITS pour la communication V2P . . . . . . 100

123

124
4.2

4.3

Chapitre 5 Système coopératif perception/communication

Communication véhicules-piétons pour la protection des vulnérables 103
4.2.1

Description Générale . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103

4.2.2

Algorithme d’alerte conjointe des véhicules et des usagers vulnérables . 104

4.2.3

Messages émis par les véhicules . . . . . . . . . . . . . . . . . . . . . . . 105

4.2.4

Messages émis par les usagers vulnérables . . . . . . . . . . . . . . . . . 109

4.2.5

Messages à portée géographique

. . . . . . . . . . . . . . . . . . . . . . 111

Dissémination géographique des messages V2P . . . . . . . . . . . . 111
4.3.1

Présentation des zones géographiques . . . . . . . . . . . . . . . . . . . 111

4.3.2

Définition des aires géographiques de destination . . . . . . . . . . . . . 113

4.3.3

Définition dynamique des zones géographiques à partir d’obstacles occultant . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115

4.4

5.1
5.1.1

4.3.4

Routage géographique des messages V2P . . . . . . . . . . . . . . . . . 119

4.3.5

Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121

Conclusion

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122

État de l’art des systèmes coopératifs pour les ITS
Introduction

Dans le domaine des ITS, la communication véhiculaire apporte un niveau de coopération entre
les usagers à travers les communications V2V, V2I et V2P.
Certains projets ont récemment travaillé sur l’apport des systèmes coopératifs. Le projet européen DRIVE C2X [133] vise à développer des modules de communication véhiculaire communs à
travers l’Europe et à montrer comment les systèmes coopératifs peuvent améliorer les transports
en termes de sécurité, confort et efficacité. Le projet CooPerCom (Cooperative Perception and
Communication) [134] est un projet bipartite entre le France et le Canada qui vise à développer des méthodes de traitement d’information coopératives embarquées au sein des véhicules
intelligents.

Chapitre 5 Système coopératif perception/communication

125

L’extension de la perception des véhicules pour mieux comprendre l’environnement grâce à
une coopération a fait l’objet de travaux récents [135] [136] [137] [138] [139]. Ils présentent des
conclusions encourageantes par rapport à la localisation, à la cartographie et au suivi d’objets
mobiles de l’environnement. Cependant, les contraintes imposées par les systèmes de communication en termes de temps de transmission et de pertes de paquets, particulièrement, pour la
communication V2P ne sont pas considérées.
Au cours de sa thèse, Sébastien Demmel [140] a proposé une approche de fusion d’information
dans le but de fournir une carte augmentée de l’environnement à chaque véhicule. Cette carte
décrit aussi bien les éléments statiques (bâtiment, végétation,...) que les éléments dynamiques
(véhicules, usagers vulnérables,...). Sébestien Demmel a présenté très explicitement les problématiques liées à la fusion d’information dans le contexte des ITS coopératifs tels que le recalage
spatio-temporel des données échangées par communication V2V et la nécessité d’associer les
observations effectuées par le système embarqué d’un véhicule avec celles transmises sur le canal
de communication. Nous conseillons au lecteur intéressé la lecture du chapitre 5 du document
[140]. Il a ainsi introduit un système basé sur un filtre à hypothèse multiple (MHT) crédibiliste
pour effectuer une fusion décentralisée au sein du réseau véhiculaire. Dans ce travail, uniquement les usagers de type véhicules sont considérés ce qui le différencie de notre approche. En
effet, les véhicules peuvent tous avoir les mêmes capacités de perception et la fusion doit trouver
le compromis entre les décisions de chaque véhicule. Au contraire, les usagers vulnérables ont
très peu de capacité de perception (uniquement des capacités de positionnement), l’information
transmise par communication V2P est donc complètement différente de celle obtenue depuis le
système embarqué d’un véhicule et nous rencontrons un cas de fusion entre des sources d’information hétérogènes. Chacune de ces sources d’information doit être précisément caractérisée
pour établir une approche de fusion.
Les standards de communication présentés dans la section 4.1 introduisent de nombreuses fonctionnalités pour les systèmes coopératifs tels que CAM, DENM, LDM ou GeoNetworking. Cependant, ces standards ne présentent pas comment est gérée l’information échangée par les
systèmes de communication et comment le système de perception peut affecter dynamiquement
les messages envoyés.

126

Chapitre 5 Système coopératif perception/communication

Avec les projets WATCH-OVER et Ko-Tag, des capteurs coopératifs spécifiques ont été développés à destination des piétons [129] [141] afin de mesurer la localisation relative de ces usagers
vulnérables par rapport au véhicule. Ces projets font l’hypothèse que les piétons sont munis de
boitiers spécifiques alors que, de nos jours, les smartphones présentent un intérêt croissant pour
développer des applications de protection des vulnérables [142] [143] [144].

5.1.2

Approche de localisation par positionnement global

La coopération nécessite l’échange de positions absolues entre les usagers. De cette manière, il
leur est possible de savoir comment ils sont situés les uns par rapport aux autres. Pour cela, un
repère commun est disponible avec le système géodésique mondial (WGS84) défini par l’agence
américaine de cartographie et imagerie [145].
La Figure 5.1 illustre la représentation d’un point B dans le système de coordonnées WGS84. Le
positionnement global sur Terre est donné par les angles de latitude (Lat.) et longitude (Long.)
et l’élévation :

- latitude, angle entre le plan de l’équateur et B,
- longitude, angle entre le méridien zero et B,
- élévation, hauteur de B par rapport au niveau de la mer, considéré comme le niveau zéro.

Le système WGS84 suppose que la Terre a une forme ellipsoı̈dale de demi-grand axe υ, de demipetit axe τ et de coefficient d’aplatissement ζ pour calculer les coordonnées (xB , yB , zB ) du point
B dans le repère cartésien (X, Y, Z) centré sur le centre de masse de la Terre (cf. Figure 5.1).
Avec le Global Positioning System (GPS) [146], le positionnement d’un usager est estimé dans le
repère WGS84 par triangulation à partir du temps de vol de signaux émis depuis une constellation
de satellites. Si l’on considère l’exemple illustré sur la Figure 5.2 où un récepteur GPS reçoit
des signaux depuis trois satellites S 1 , S 2 et S 3 , la position de l’utilisateur LGP S devrait se
situer idéalement à l’intersection des sphères décrites par le signal émis depuis chaque satellite.

Chapitre 5 Système coopératif perception/communication

127

Élé
vat
ion

Z

Méridien zéro

B(xB , yB , zB )

Lat.

υ

Centre de masse
de la terre
τ

Long.

Y

X

Figure 5.1: Système géodésique mondial

S3

S2
LGP S

S1

Figure 5.2: Incertitude relative au positionnement par GPS

Cependant, de nombreuses perturbations (mauvaise synchronisation des horloges, perturbation
liées à l’atmosphère terrestre, réflexions du signal en milieu urbain...) conduisent à une mesure
très imprécise de la position GPS illustrée par la zone rouge sur la Figure 5.2 [138]. L’erreur de
positionnement d’un système GPS « classique » est de l’ordre de quelques mètres [147].

128

Chapitre 5 Système coopératif perception/communication

Pour certains cas d’usage, ce type d’erreurs est limitant pour atteindre les performances exigées.
Alors, des solutions coopératives s’appuient sur la communication véhiculaire afin d’améliorer le
positionnement des véhicules obtenu depuis un GPS [138] [148].

5.1.3

Fusion d’information coopérative pour la protection des vulnérables

Peu de solutions coopératives ont été proposées pour la protection des vulnérables. La principale difficulté d’une approche coopérative consiste à fusionner les informations des systèmes de
communication avec les informations issues des capteurs embarqués.
Dans l’article [30], les données reçues depuis les capteurs coopératifs améliorent la détection de
piétons en définissant des régions d’intérêt dans les images infrarouges.
Kloeden et al. [149] ont étudié la capacité d’un système de capteurs coopératifs à améliorer la
sécurité des usagers vulnérables en proposant des modèles des capteurs pour simuler les moyens
de perception embarqués. Les auteurs ont également mesuré les capacités de localisation des
capteurs coopératifs développés dans le cadre du projet Ko-TAG. Ils montrent dans cet article
qu’après une étape de fusion entre la perception et les mesures effectuées grâce aux capteurs
coopératifs, une erreur de localisation relative de l’ordre d’une dizaine de centimètres est espérée.
Cependant, ils ne mentionnent pas de technique de fusion à employer.
Finalement, les auteurs de l’article [150] présentent un système avec lequel les usagers vulnérables
améliorent leur positionnement GPS grâce aux capteurs embarqués par le smartphone. Les
vulnérables transmettent cette position aux véhicules qui évaluent le risque de collision et peut
les avertir en cas de danger. Dans cet article, les auteurs se concentrent essentiellement sur
l’amélioration de la localisation des vulnérables, ce qui doit entrainer une meilleure évaluation
du danger.

Chapitre 5 Système coopératif perception/communication

5.1.4

129

Applications pour smartphone à destination de la sécurité usagers vulnérables

5.1.4.1

Applications destinées à alerter les usagers vulnérables

Avec l’émergence des téléphones intelligents, les chercheurs ont l’opportunité de proposer et d’implémenter très simplement de nouvelles applications destinées à assurer la sécurité des usagers
vulnérables dans des conditions plus ou moins particulières.
L’application WalkSafe [142] a pour objectif d’assurer la sécurité des piétons traversant la rue
alors qu’ils téléphonent. En effet, des accidents sont causés car les personnes téléphonant sont
distraites et ne voient pas les véhicules arriver. Cette application s’appuie sur la caméra située à
l’arrière du téléphone pour détecter un véhicule approchant en direction du piéton. Les auteurs
ont développé des mécanismes afin de n’activer le module de reconnaissance de véhicule que
lorsque le piéton téléphone pour économiser les ressources énergétiques de l’appareil. Toutefois,
il n’est possible de ne voir qu’un seul côté de la route avec cette application (le sens dans lequel
est tenu le mobile).
L’application LookUp [143] propose un service d’alerte pour les piétons en détectant les transitions entre le trottoir et la route. Les auteurs ont installé un capteur inertiel sur les chaussures
des usagers vulnérables et développé une méthode afin de détecter lorsqu’un piéton quitte le
trottoir pour traverser la route. Par exemple, un usager écrivant un message ou téléphonant
peut être alerté pour qu’il prête attention aux véhicules arrivant vers lui grâce à ce service.
L’application WiFiHonk [144] vise à alerter les piétons du danger à l’aide de communication
V2P. Une limitation importante avec les moyens actuels de communication est liée au temps
d’association entre stations mobiles qui peut être relativement long avec la technologie Wi-Fi
usuelle. Les auteurs de cette application proposent aux véhicules d’inclure des informations
sur leur dynamique (position, vitesse, orientation) dans des balises SSID/BSSID signalant un
point d’accès au réseau. Le téléphone reçoit ces balises lorsqu’il analyse les réseaux disponibles.
Ensuite, il évalue les risques de collision et avertit les usagers en cas de danger. Cependant, cette
application ne propose pas une solution bi-directionnelle car uniquement les véhicules émettent

130

Chapitre 5 Système coopératif perception/communication

des informations en direction des usagers vulnérables.

5.1.4.2

Description des techniques de localisation par smartphone

Comme le montrent les applications LookUp et WiFiHonk, la connaissance de la localisation et
du déplacement des piétons est nécessaire pour évaluer les risques de collisions. La technologie
GPS est disponible au sein des smartphones actuels, mais elle produit une position qui peut
être erronée de l’ordre de 5 à 10 m. Dans l’article [147], les auteurs ont étudié l’applicabilité
du positionnement par GPS pour les scénarios relatifs à la sécurité des usagers vulnérables et
ont montré que cette technologie ne peut être utilisée que lorsque les exigences en terme de
localisation sont faibles.
En complément du GPS, les téléphones actuels intègrent souvent un accéléromètre, un gyroscope
et une boussole. Tous ces capteurs fournissent des données utiles pour estimer la localisation et
la dynamique d’un utilisateur.
La principale limite pour utiliser un smartphone est qu’il peut se trouver n’importe où et dans
n’importe quelle position par rapport à l’utilisateur humain. Dans [151], l’orientation du téléphone est tout d’abord estimée par rapport au repère terrestre à partir de l’accéléromètre, du
magnétomètre et du gyroscope. Ensuite, les données fournies par l’accéléromètre sont exprimées
dans le repère terrestre et intégrées pour estimer la direction de mouvement de l’utilisateur.
Cette approche ne calcule pas la localisation du piéton, mais une fusion avec un positionnement
par GPS peut être envisagée.
Une autre approche consiste à détecter les pas effectués par un piéton en améliorant son positionnement à partir des mesures d’un accéléromètre et d’un gyroscope [152]. Dans l’article
[152], le déplacement estimé pour le piéton est projeté sur une carte avec une stratégie de
« map-matching ». L’application proposée ici localise un piéton en extérieur avec peu de capteurs, uniquement l’accéléromètre et le gyroscope sont associés au GPS. Cependant, appliquer
une stratégie de « map-matching » pour une application de sécurité ne paraı̂t pas idéale car
les accidents surgissent lorsqu’un usager (véhicule ou piéton) effectue une action qui n’est pas

Chapitre 5 Système coopératif perception/communication

131

prévue.
Au cours de cette thèse, de telles solutions ne sont pas appliquées bien qu’elles présentent un
intérêt certain au regard des erreurs de positionnement GPS importantes en milieu urbain, mais
peuvent être envisagées par la suite pour remplacer le GPS seul.

5.1.5

Conclusion

L’état de l’art des systèmes coopératifs pour la protection des vulnérables met en avant que peu
de solutions ont été proposées dans ce domaine, même si de telles approches sont attrayantes
pour traiter des scénarios de plus en plus complexes.
La coopération entre usagers de la route a besoin d’un positionnement global fourni avec le
GPS dans la majorité des applications. Les systèmes communicants actuels s’appuient majoritairement sur l’émission de données créées depuis ces positions GPS. Mais, une interaction
entre la communication et la perception est inexistante, alors que cette dernière permet d’agir
dynamiquement sur les messages envoyés.
La fusion des informations de communication et de perception est le point crucial d’un système
coopératif. Les systèmes de protection des vulnérables ont très peu abordé ce sujet et se sont
concentrés sur une fusion bas niveau. Afin de proposer une fusion haut niveau entre pistes de
perception et pistes de communication, ces deux systèmes sont modélisés dans la section 5.2 et
la méthode de fusion est introduite dans la section 5.3.
Le système de protection des vulnérables présenté au cours de cette thèse propose une coopération entre les usagers vulnérables et les véhicules pour améliorer la détection, la classification
et la localisation de ces personnes. Comme le montre la Figure 5.3, cette coopération est possible grâce à la communication V2P. Ce système introduit également une coopération entre les
modules de perception et de communication classiques à la fois par le déclenchement de communication V2P depuis la perception de l’environnement (fonction n° (2) sur la Figure 5.3) et
la fusion d’informations hétérogènes depuis les fonctions de perception et de communication
(fonction n° (4) sur la Figure 5.3). Toute cette collaboration a pour objectif de mieux évaluer

132

Chapitre 5 Système coopératif perception/communication

Figure 5.3: Présentation générale de la coopération entre usagers

les risques de collision (fonction n° (5) sur la Figure 5.3). Une application destinée à alerter les
usagers vulnérables du danger est présentée dans la section 5.4.

5.2

Modélisation des systèmes de perception et de communication

5.2.1

Probabilité de détection

Le système de perception peut détecter un obstacle situé dans son champ de vision. Pour un
capteur laser ayant un angle d’ouverture de 180 ou 360°, il est possible de détecter un obstacle si
la distance d entre cet obstacle et le capteur est inférieure à la distance maximale de couverture
dm :


 1 − Q 1 ( Wmin −µ(d) ),
σl
d
(d) =
Pper
 0,

si d ≤ dm
sinon

(5.1)

Chapitre 5 Système coopératif perception/communication

133

Comme le montre l’équation (5.1), même si un objet est situé dans le champ de vision du capteur, la probabilité de le détecter peut être inférieure à 1, si la largeur moyenne de l’obstacle,
µ(d), est inférieure au minimum requis, i.e., la largeur minimum d’un groupe d’impacts, Wmin .
La détection d’obstacle consiste à regrouper ensemble des impacts consécutifs et de sélectionner
uniquement les groupes de points contenant plus que N bmin impacts (section 3.2.2). En supposant que la largeur du groupe de points, WP , suit une distribution Gaussienne N (µ(d), σl ),
µ(d) est définie par l’équation (5.2) lorsque d représente la distance véhicule-obstacle et ν est la
résolution angulaire du capteur laser.

µ(d) = ν × N bmin × d

(5.2)

En ce qui concerne le système de communication, nous considérons qu’un usager est « détecté »
si le véhicule reçoit un paquet émis par cet usager. La capacité de détection par le système de
communication est donc évaluée par la probabilité de délivrer les informations avec succès. Si
nous supposons que le taux d’erreur binaire (BER) est égal pour chacun des bits d’un paquet
de données et qu’un message est correctement délivré lorsque tous les bits le composant sont
décodés, alors, la probabilité de correctement recevoir un paquet de longueur Lp est donné par
l’équation (5.3).

d
Pcom
= (1 − BER)Lp

(5.3)

Le BER est exprimé en fonction du rapport signal sur bruit (SNR), et, est calculé suivant
l’équation (5.4) pour des modulations de type BPSK et QPSK.
√
BER = Q( 2SN R)
1. Q(x) =

√1
2π

R +∞
x

2

exp(− u2 )du

(5.4)

134

5.2.2

Chapitre 5 Système coopératif perception/communication

Classification

L’environnement urbain est composé de nombreuses classes d’obstacles (piéton, cycliste, véhicule...) qu’il est nécessaire de distinguer depuis le système embarqué. Les systèmes de perception
et de communication estiment à leur façon la classe de chaque obstacle routier.
Le système de perception classifie les obstacles à partir des observations incertaines effectuées
sur l’environnement. La classification s’effectue à l’aide de méthodes empiriques sur les données
acquises ou à l’aide de classifieurs entrainés par des techniques d’apprentissage statistique (section 3.3). Les performances de classification sont évaluées à travers la probabilité d’erreur. Dans
le cadre d’une classification multi-classes, la probabilité d’erreur est fournie par une matrice de
confusion Pec = (pmn )m,n=0,...,c où pmn est la probabilité d’attribuer une classe Cm à un objet appartenant à la classe Cn . Cette probabilité est déterminée lors de l’évaluation de la classification
et mesure les performances du système de perception par l’équation (5.5).

c
Pper
(Cm |Cn ) = pmn

(5.5)

Pour le système de communication, la classe est un paramètre définie au niveau de l’application.
En effet, la classe de l’usager communicant est une composante intrinsèque du message P2V
échangé (section 4.2.4). Dans le contexte de cette thèse, nous supposons que la classe émise par
chaque usager est parfaitement correcte. En conséquence, la probabilité de confusion est donnée
par l’équation (5.6).

 1, si m = n
c
Pcom
(Cm |Cn ) =
 0, sinon

5.2.3

(5.6)

Positionnement

La connaissance de la position relative entre le véhicule et chaque usager vulnérable est nécessaire. Cette position relative est directement obtenue à partir du système de perception et est

Chapitre 5 Système coopératif perception/communication

135

exprimée dans le repère du véhicule. En parallèle, à travers le système de communication, des
positions absolues sont échangées entre les différents usagers. Nous pouvons établir les assertions
suivantes concernant la distance relative véhicule - usager vulnérable :
L
L
L
- La position LL
per (xO , yO ) est estimée avec une covariance Σper par le système de perception

(section 3.2.5).
G
- La position absolue du véhicule (respectivement de l’usager vulnérable) LG (xG
V , yV ) (resp.
G
G
G
LG (xG
vru , yvru )) est connue avec une covariance ΣV (resp. Σvru ). En conséquence, la lo-

calisation relative du piéton, calculée avec les coordonnées absolues, est exprimée par
G
G G
G
G
G
LL
com (xvru − xV , yvru − yV ) avec une covariance ΣV + Σvru au moyen de la communication

V2P.

Si le positionnement des usagers s’appuie seulement sur les récepteurs GPS « classiques »,
G
les covariances ΣG
V et Σvru ont des valeurs entre 5 et 10 m (section 5.1.2) qui caractérisent

l’incertitude de la localisation. Si le véhicule possède des technologies de localisation avancées
telles que le SLAM et le Map-Matching, ΣG
V peut être fortement améliorée et valoir autour de
quelques centimètres [153].

5.2.4

Métrique destinée à l’évaluation des solutions proposées

La sécurité routière nécessite de détecter le risque et la localisation des accidents potentiels pour
alerter les utilisateurs humains. Les usagers vulnérables doivent être non seulement détectés, mais
également correctement positionnés par rapport au véhicule. En nous inspirant du domaine du
pistage multi-cibles, nous définissons une métrique évaluant les performances d’un système de
sécurité en considérant la détection des vulnérables ainsi que les erreurs de positionnement.
Le pistage multi-cibles cherche à estimer conjointement le nombre et la localisation des cibles.
Dans ce domaine, le terme de miss-distance définit une métrique servant à calculer la différence
entre un ensemble multi-objets de référence et un ensemble multi-objets estimé. En considérant

136

Chapitre 5 Système coopératif perception/communication

S = {s1 , ..., sm } et G = {g1 , ..., gn } comme étant respectivement les ensembles d’états estimés et de références, Schumacher et al. ont introduit la distance OSPA (Optimal SubPattern
(η)
Assignment), d¯ξ (S, G), comme une miss-distance qui évalue de manière consistante un filtre
multi-cibles [154]. La distance OSPA considère les erreurs dans l’estimation du nombre de cibles
et de leur localisation. OSPA est régie par deux paramètres ξ et η, où ξ contrôle l’influence de
chaque valeur de distance et pénalise les états estimés éloignées des états de référence, et, η est
une distance de coupure qui agit comme une pénalité pour ne pas avoir pu associer correctement
un état de référence avec un état estimé. Ainsi, η intervient comme la distance donnée à un état
de référence qui n’a pu être associé à aucun état estimé et intervient pour pénaliser les erreurs
dans l’estimation du nombre de cibles. η vaut typiquement la taille de la fenêtre d’observation
[154].
Dans la suite, cette métrique est plus particulièrement appliquée pour évaluer la capacité d’un
système de protection à détecter la présence d’un usager vulnérable et à estimer sa position.
(η)
Dans ce cas, la distance OSPA à un instant k, d¯ (Sk , Gk ), est simplifiée en deux termes comme
ξ

montré dans l’équation (5.7).


1
ξ
(η)
d¯ξ (Sk , Gk ) = min (η, d(Sk , Gk ))ξ + η ξ ∗ ∆(k)
où


 0,
∆(k) =
 1,

si détection au temps k

(5.7)

(5.8)

sinon

La premier terme représente l’erreur de positionnement comme la distance entre la position
estimée du piéton Sk et la vérité terrain Gk . Cette équation montre particulièrement que lorsque
qu’aucun état Sk n’est associé à la référence Gk , alors la distance vaut la distance de coupure η.
Le second terme fait référence à l’erreur de non-détection et est calculé en multipliant le terme
∆(k) par η.
L’application vise à détecter l’usager vulnérable par des observations successives. L’erreur d’application Eapp est calculée comme la moyenne des distances OSPA établies à chaque instant k

Chapitre 5 Système coopératif perception/communication

137

dans l’équation (5.9).

Eapp =
=

1
T

1
T

T
P
(η)
d¯ξ (Sk , Gk )
k=1




 P ¯(η)
dξ (Sk , Gk ) +

1≤k≤T,

 ∆(k)=0
=

1
T

1
ξ

1
T

1≤k≤T,
∆(k)=1

P

+

1
(η ξ + η ξ ) ξ 

(5.9)

1≤k≤T,
∆(k)=1

1≤k≤T,

 ∆(k)=0
=


(η)
d¯ξ (Sk , Gk )


d(Sk , Gk )ξ

 P


P

T
P
 P

d(Sk , Gk ) + 2η ∆(k)

k=1

1≤k≤T,
∆(k)=0

En considérant, le cas pour lequel l’usager vulnérable est détecté (∆(k)=0) et le cas pour lequel
il n’est pas détecté (∆(k)=1), nous montrons dans l’équation (5.9) que Eapp pour être exprimée
en fonction de la probabilité de détection de l’usager vulnérable, P d , et de l’erreur moyenne de
positionnement, M P E. P d et M P E sont respectivement définies dans les équation (5.10) et
(5.11).

T
1X
P =1−
∆(k)
T
d

(5.10)

k=1

MPE =

X
1
d(Sk , Gk )
T × Pd

(5.11)

1≤k≤T,
∆(k)=0

Finalement, la performance de l’application est donnée par l’équation (5.12).

Eapp = P d × M P E + 2η × (1 − P d )

(5.12)

138

5.2.5

Chapitre 5 Système coopératif perception/communication

Conclusion
Tableau 5.1: Modèle théorique des systèmes de perception et de communication V2P

Perception
Probabilité de détection

P d (d)

(
d (d) =
Pper

Classification

P c (Cm |Cn )
Mesure de position

p(z|Lr )

1−
0,

Q( Wminσ−µ(d)
),
l

c (C |C ) = p
Pper
m n
mn

L
zper ∼ N (LL
per , Σper )

Communication V2P
si d ≤ dm
sinon

p
BER(d) = Q( SN R(d))
d (d) = (1 − BER(d))Lp
Pcom

1, si m = n
c (C |C ) =
Pcom
m n
0, sinon
G
G
zcom ∼ N (LL
com , ΣV + Σvru )

Au cours de cette section, nous avons apporté un modèle théorique pour les systèmes de perception et de communication concernant trois fonctions nécessaires à l’évaluation des risques de
collision : la détection d’un obstacle, la classification de cet obstacle, la mesure de son positionnement relatif par rapport au véhicule. Les modèles définis sont résumés dans le Tableau 5.1.
Tous ces modèles servent à établir la fusion d’information à partir de données de perception et
de communication. La méthode de fusion d’information est détaillée au cours de la prochaine
section.
Finalement, nous avons défini une métrique pour évaluer les performances des systèmes de
protection des usagers vulnérables. Cette métrique peut être appliquée à la fois à un système
uniquement de perception, à un système uniquement de communication et à un système combinant des données de perception et de communication. De cette manière, elle permet de comparer
chacune de ces solutions.

5.3

Méthode d’association d’information de perception et de
communication

5.3.1

Introduction

Le système de protection des vulnérables introduit une coopération entre les modules de perception et de communication. Cette coopération est particulièrement importante au cours d’une

Chapitre 5 Système coopératif perception/communication

139

étape de fusion entre l’information provenant de la perception (détection, suivi et classification
des usagers vulnérables) et de la communication (données émises depuis chaque usager vulnérable contenant leur position, vitesse de déplacement et classe).
La perception est capable de détecter et de positionner avec une grande précision les usagers
vulnérables proches du véhicule, mais est bloquée par le champ de vision des capteurs embarqués.
Ainsi, la détection des obstacles s’effectue dans une zone restreinte et est impossible en cas
d’occultation.
La communication a la capacité de couvrir une aire plus large que la perception par la nature
des ondes radio portant les messages et par l’existence de réseaux de véhicules. Les messages
échangés par la communication V2P contiennent une information riche comme un identifiant
unique et la classe de chaque personne communicante. Lorsqu’un véhicule reçoit un message, il
ne connaı̂t pas a priori la position de l’émetteur. Cette position doit se trouver dans le contenu
du message.

Figure 5.4: Architecture de la fusion d’information perception/communication

La perception et la communication sont donc de natures totalement différentes. Une étape de
fusion haut-niveau consiste à déterminer la meilleure association entre les données de perception et de communication à partir de l’information complémentaire issue de chaque module. Le
processus de fusion est illustré par la Figure 5.4 et se divise en deux étapes :
(1) Association multi-hypothèses perception/communication - La mise à jour des pistes de
perception et de communication génère des hypothèses d’association perception/commu-

140

Chapitre 5 Système coopératif perception/communication

nication. À chaque instant, l’ensemble des hypothèses provient des hypothèses de l’étape
précédente et des nouvelles associations perception/communication possibles. La probabilité de chaque hypothèse est calculée en fonction d’une probabilité a priori depuis l’hypothèse précédente et d’une fonction de vraisemblance. La fonction de vraisemblance dépend
de la probabilité de détection, de la probabilité de classification et de la vraisemblance de
la mesure de position pour chaque association perception/communication. L’apparition de
nouvelles pistes entraine une augmentation du nombre d’hypothèses au cours du temps,
un mécanisme de suppression des hypothèses les moins probables doit donc être mis en
place.
(2) Prise de décision et estimation de l’état des usagers vulnérables - L’hypothèse ayant la
probabilité la plus élevée est sélectionnée pour estimer les paramètres des pistes fusionnées. Dans cette hypothèse, l’estimation de l’état des pistes pour lesquelles une association
perception/communication est établie privilégie la perception pour les paramètres dynamiques de position et vitesse de déplacement et la communication pour les paramètres
statiques comme la classe. Les paramètres des pistes pour lesquelles aucune association
n’est trouvée sont respectivement estimés par les paramètres de la piste de communication
pour un obstacle non perçu et par les paramètres de la piste de perception pour un obstacle
non communicant.

Au cours de cette section, le problème est tout d’abord formulé de manière théorique (soussection 5.3.2). Puis, la manière dont les hypothèses d’association perception/communication
sont construites est présentée sur un exemple (sous-section 5.3.3). Ensuite, le calcul, au cours
du temps, des probabilités de chaque hypothèse est démontré (sous-section 5.3.4) et l’estimation
des pistes fusionnées est présenté (sous-section 5.3.5). Une application numérique sur l’exemple
de la sous-section 5.3.3 illustre le fonctionnement de cette approche (sous-section 5.3.6) et nous
discutons de la méthode proposée (sous-section 5.3.7).

Chapitre 5 Système coopératif perception/communication

5.3.2

141

Formulation du problème

i
À un instant k, le système de perception fournit une liste de pistes Tper,k ={Tper,k
}i=1,...,Nper,k

correspondant à l’état estimé des obstacles autour du véhicule. Le système de communication
i
donne une liste de pistes Tcom,k ={Tcom,k
}i=1,...,Ncom,k correspondant aux obstacles communicants

pour lesquels des informations sont reçues.
Chaque piste possède un identifiant unique et invariant au cours du temps. L’identifiant pour
la perception est obtenu par le pistage des obstacles dynamiques (section 3.2.5) et l’identifiant
pour la communication est une composante du message P2V (section 4.2.4).
Nous supposons que les modules de perception et de communication fonctionnent de manière
synchrone. Cette hypothèse est forte car la communication a un comportement asynchrone.
Cependant, la communication V2P est déclenchée par la mise à jour des données capteurs (sections 4.2 et 5.1.5), ce qui permet de justifier cette hypothèse pour notre système coopératif.
Au cours de cette partie, la fusion entre perception et communication est abordée par une méthode d’association entre les pistes de communication et de perception à partir de la construction
d’hypothèses qui sont évaluées de manière probabiliste.
Trois types de pistes sont générées lors de l’étape de fusion :
i
- les pistes associées Tass,k = {Tass,k
}i=1,...,Nass,k sont issues d’une association entre une piste

de perception et une piste de communication,
i }
- les pistes non perçues Tnp,k = {Tnp,k
i=1,...,Nnp,k sont issues des pistes de communication

associées avec aucune piste de perception tel que Ncom,k = Nass,k + Nnp,k ,
i }
- les pistes non communicantes Tnc,k = {Tnc,k
i=1,...,Nnc,k sont issues des pistes de perception

associées avec aucune piste de communication tel que Nper,k = Nass,k + Nnc,k .
L’ensemble des pistes fusionnées est constitué de ces trois sous-ensembles comme présenté dans
l’équation (5.13).

142

Chapitre 5 Système coopératif perception/communication

Tf us,k = {Tass,k , Tnp,k , Tnc,k }

(5.13)

Dans le domaine du pistage multi-cibles, le problème d’association entre des mesures incertaines
et des pistes représentants chacune des cibles est central [78]. Dans ce contexte, Reid [80] a
introduit une méthode à hypothèses multiples de pistage (MHT - Multiple Hypothesis Tracker)
pour traiter ce problème dans le cas où la densité des mesures est importante et sujette à des
fausses alarmes et à des non-détections. Cette approche traite en théorie le pistage multi-cibles
de manière optimale, mais se révèle impossible à mettre en pratique car le nombre d’hypothèses
augmente de manière exponentielle au cours du temps.
Nous proposons d’adapter le filtre MHT au cas de l’association entre données de communication
et de perception. Notre hypothèse de travail considère, contrairement aux mesures classiques,
que les données reçues par la communication sont identifiées depuis l’émetteur. Cette hypothèse
simplifie la mise à jour de l’arbre du filtre MHT comme le montre l’exemple décrit dans la
prochaine section.

5.3.3

Exemple d’association entre perception et communication

La Figure 5.5 illustre le problème d’association entre les données de perception et de communication. Cet exemple considère les grandeurs suivantes :
i
- 4 pistes issues du module de perception {Tper,k
}i=1,...,4 ,
i
- 2 pistes issues du module de communication V2P {Tcom,k
}i=1,2 .

A priori, tous les obstacles mobiles détectés depuis la perception peuvent être associés à des
messages V2P reçus par le véhicule. Cependant, un seul usager peut être à l’origine de chaque
i
message relatif à un obstacle communicant Tcom,k
.

Un premier filtrage est effectué grâce à un fenêtrage statistique défini par la covariance du
positionnement des usagers communicants (cf. équation (3.25)). De cette manière, les obstacles

Chapitre 5 Système coopératif perception/communication

143

2
Tcom,k

2
Tper,k
3
Tper,k
1
Tcom,k

1
Tper,k
4
Tper,k

Fenêtre statistique d’association
Obstacle de communication
Obstacle de perception
Véhicule
Figure 5.5: Illustration de l’association perception/communication
1
2
3
1
de perception Tper,k
, Tper,k
et Tper,k
sont potentiellement associés à l’obstacle communicant Tcom,k
,
3
2
l’obstacle de perception Tper,k
est potentiellement associé à l’obstacle communicant Tcom,k
, et
4
l’obstacle de perception Tper,k
n’est pas communicant. Par ailleurs, les obstacles communicants

144

Chapitre 5 Système coopératif perception/communication

i
i }
{Tcom,k
}i=1,2 sont potentiellement des obstacles non perçus par le véhicule {Tnp,k
i=1,2 .

2
Tcom,k

1
Tcom,k

ψ7

2
Tnp,k

Ω7k , p(Ω7k |Tcom,k , Tper,k )

ψ6

3
Tper,k

Ω6k , p(Ω6k |Tcom,k , Tper,k )

ψ5

2
Tnp,k

Ω5k , p(Ω5k |Tcom,k , Tper,k )

ψ4

2
Tnp,k

Ω4k , p(Ω4k |Tcom,k , Tper,k )

ψ3

3
Tper,k

Ω3k , p(Ω3k |Tcom,k , Tper,k )

ψ2

2
Tnp,k

Ω2k , p(Ω2k |Tcom,k , Tper,k )

ψ1

3
Tper,k

Ω1k , p(Ω1k |Tcom,k , Tper,k )

1
Tnp,k

3
Tper,k

2
Tper,k

1
Tper,k

Figure 5.6: Hypothèses d’association établies depuis la Figure 5.5

L’arbre d’hypothèses entre pistes de perception et de communication généré par l’approche
1
sont
MHT est illustré sur la Figure 5.6. Les associations possibles concernant la piste Tcom,k
1 . Étant donné l’association de la piste T 1
3
2
1
et Tnp,k
, Tper,k
, Tper,k
créées avec les pistes Tper,k
com,k ,
2
3
2 . À l’instant
la piste Tcom,k
est associée avec la piste Tper,k
ou considérée comme non perçue Tnp,k

k, sept hypothèses Ω1k , ..., Ω7k sont générées depuis les sept branches de l’arbre ψ 1 , ..., ψ 7 et les
probabilités p(Ω1k |Tcom,k , Tper,k ), ..., p(Ω7k |Tcom,k , Tper,k ) pondèrent la force de chacune de ces sept
hypothèses.
1
3
2
Notons que lorsque la piste Tcom,k
est associée avec la piste Tper,k
, la piste Tcom,k
peut uniquement
1
être supposée non perçue (hypothèse Ω5k ). Pour les autres associations de la piste Tcom,k
, les deux
2
possibilités sont envisagées pour la piste Tcom,k
.

Pour mieux comprendre le principe d’association entre perception et communication, la Figure 5.7 illustre l’évolution du scénario 5.5 entre un instant k et un instant k + 1. L’association
entre les pistes Tper,k et Tper,k+1 est assurée par le suivi temporel des obstacles et l’association

Chapitre 5 Système coopératif perception/communication

145

Instant k + 1

Instant k

5

2
Tper,k+1
Tper,k+1
2
Tper,k

3
Tper,k

2
Tcom,k

1
Tcom,k+1

1
Tcom,k
1
Tper,k

1
Tper,k+1

3
Tper,k+1

4
Tper,k

Figure 5.7: Evolution temporelle du scénario 5.5

entre les pistes Tcom,k et Tcom,k+1 est assuré grâce aux identifiants insérés dans les messages P2V.
1
, ce qui simplifie
Dans cet exemple, un message est uniquement reçu depuis la piste Tcom,k+1
3
2
1
et Tper,k+1
, Tper,k+1
l’illustration, tout en restant généralisable par la suite. Les pistes Tper,k+1
5
1
, est
. De plus, une nouvelle piste, Tper,k+1
sont situées dans la fenêtre statistique de Tcom,k+1
1
.
apparue comme potentiellement à l’origine de Tcom,k+1

La Figure 5.8 illustre la mise à jour de l’arbre d’hypothèses défini par le MHT. Les hypothèses
1
comme associé avec une piste de perception.
Ω1k à Ω5k supposent l’obstacle communicant Tcom,k

Elles engendrent les hypothèses Ω1k+1 à Ω5k+1 qui considèrent uniquement la mise à jour de la
2
1
piste Tper,k+1
pour les hypothèses Ω1k+1 et Ω2k+1 , la mise à jour de la piste Tper,k+1
pour les
3
hypothèses Ω3k+1 et Ω4k+1 , et la mise à jour de la piste Tper,k+1
pour l’hypothèse Ω5k+1 pour créer

les branches ψ 1 à ψ 5 .
Les hypothèses Ω1k+1 et Ω2k+1 diffèrent depuis les hypothèses Ω1k et Ω2k pour lesquelles la piste
2
Tcom,k
est différemment associée. Or, cette piste n’est pas communicante à l’instant k + 1 et

n’intervient pas dans la mise à jour des hypothèses.
5
La nouvelle piste Tper,k+1
peut provenir d’une non-détection à l’instant k, ce qui engendre deux
1
nouvelles hypothèses Ω6k+1 et Ω8k+1 depuis les hypothèses Ω6k et Ω7k pour lesquelles la piste Tcom,k

146

Chapitre 5 Système coopératif perception/communication
1
Tcom,k+1

Ω7k
Ω6k

ψ9

1
Tnp,k+1

Ω9k+1 , p(Ω9k+1 |Tcom,k+1 , Tper,k+1 )

ψ8
ψ7

5
Tper,k+1

Ω8k+1 , p(Ω8k+1 |Tcom,k+1 , Tper,k+1 )

1
Tnp,k+1

Ω7k+1 , p(Ω7k+1 |Tcom,k+1 , Tper,k+1 )

ψ6

5
Tper,k+1

Ω6k+1 , p(Ω6k+1 |Tcom,k+1 , Tper,k+1 )

3
Tper,k+1

Ω5k+1 , p(Ω5k+1 |Tcom,k+1 , Tper,k+1 )

2
Tper,k+1

Ω4k+1 , p(Ω4k+1 |Tcom,k+1 , Tper,k+1 )

2
Tper,k+1

Ω3k+1 , p(Ω3k+1 |Tcom,k+1 , Tper,k+1 )

1
Tper,k+1

Ω2k+1 , p(Ω2k+1 |Tcom,k+1 , Tper,k+1 )

1
Tper,k+1

Ω1k+1 , p(Ω1k+1 |Tcom,k+1 , Tper,k+1 )

Ω5k

ψ5

Ω4k

ψ4

Ω3k

ψ3

Ω2k

ψ2

Ω1k

ψ1

Figure 5.8: Evolution temporelle des hypthèses d’association
1
, ne soit pas perçue et les
est supposée non perçue. Il est encore possible que la piste Tcom,k

hypothèses Ω7k+1 et Ω9k+1 représentent ce cas de figure.
Depuis cet exemple, nous remarquons que le nombre d’hypothèses augmente au cours du temps
avec l’apparition de nouvelles pistes de perception et de nouvelles pistes de communication. Alors
que la première mesure d’une piste de perception ou d’une piste de communication engendre
de nombreuses hypothèses et crée une combinatoire importante avec le filtre MHT, comme
mentionné dans [80], la réception de données depuis des obstacles communicants déjà connus
limite au contraire l’expansion de l’arbre en mettant à jour des hypothèses existantes. Le module de fusion doit, tout de même, supprimer les hypothèses ayant une faible probabilité pour
éviter de devoir gérer un trop grand nombre d’hypothèses et pour être applicable à la fusion
perception/communication. Le calcul de la probabilité, p(Ωjk |Tcom,k , Tper,k ), d’une hypothèse Ωjk
est détaillé au cours de la prochaine section.

Chapitre 5 Système coopératif perception/communication

5.3.4

147

Calcul de la probabilité d’hypothèse pour la fusion perception/communication

5.3.4.1

Définition

Considérons Ωk−1 = {Ωgk−1 }g=1,...,Hk−1 comme étant l’ensemble des hypothèses établies à l’instant k − 1, et ψ h ∈ ψ une branche créée depuis les nouvelles données de communication, Tcom,k ,
et de perception, Tper,k . L’ensemble des hypothèses Ωk établies jusqu’à l’instant k est donné par
l’équation (5.14).

Ωk = {(Ωgk−1 , ψ h ); Ωgk−1 ∈ Ωk−1 , ψ h ∈ ψ}

(5.14)

Comme démontré dans [80], la mise à jour des hypothèses est calculée récursivement depuis la
règle de Bayes. L’équation (5.15) introduit le calcul de la probabilité a posteriori p(Ωjk |Tcom,k , Tper,k )
pour l’hypothèse Ωjk à partir de la probabilité a priori, p(Ωgk−1 ), donné par l’hypothèse Ωgk−1 , ainsi
que la vraisemblance des pistes de communication et de perception, p(Tcom,k , Tper,k |Ωgk−1 , ψ h ),
et de la branche ψ h , p(ψ h |Ωgk−1 ). a est une constante de normalisation.
p(Ωjk |Tcom,k , Tper,k ) = p(Ωgk−1 , ψ h |Tcom,k , Tper,k )
=

g
g
1
h
h g
a p(Tcom,k , Tper,k |Ωk−1 , ψ )p(ψ |Ωk−1 )p(Ωk−1 )

(5.15)

Dans la suite de cette section, les calculs de la vraisemblance des pistes de communication et de
perception et de la vraisemblance des branches de l’arbre sont détaillés.

5.3.4.2

Vraisemblance des pistes de communication et de perception

h
Pour chaque branche ψ h , Nass,k
pistes de perception sont associées avec un obstacle communicant
h
et Nnp,k
obstacles sont non perçus.
h
Pour i ∈ J1, Nass,k
K, nous notons respectivement nc,h
∈ J1, Ncom,k K et np,h
∈ J1, Nper,k K les
i
i

148

Chapitre 5 Système coopératif perception/communication
np,h

nc,h

i
i
. Pour
, associée avec une piste de perception, Tper,k
indices d’une piste de communication, Tcom,k

nnp,h

h K, nous notons nnp,h ∈ J1, N
i
i ∈ J1, Nnp,k
com,k K, l’indice d’une piste de communication, Tcom,k ,
i

non perçue.

Les données reçues depuis la communication sont indépendantes car chaque usager vulnérable
envoie ses propres informations. Le calcul de la vraisemblance p(Tcom,k , Tper,k |Ωgk , ψ h ) revient à
calculer le produit de la vraisemblance de chaque association comme le montre l’équation (5.16).

p(Tcom,k , Tper,k |Ωgk−1 , ψ h ) =

h
QNass,k

nc,h

np,h

i
i
|Ωgk−1 , ψ h )
, Tper,k
p(Tcom,k

i=1
h
QNnp,k
× i=1

(5.16)

nnp,h

i
|Ωgk−1 , ψ h )
p(Tcom,k

Lorsqu’une piste de perception et une piste de communication sont associées, l’équation (5.17)
fait apparaitre le calcul de la vraisemblance de la piste de perception connaissant la piste de
np,h

nc,h

nc,h

i
i
i
est obligatoirement générée par un
communication, p(Tper,k
|Tcom,k
, Ωgk−1 , ψ h ). La piste Tcom,k

nc,h

i
objet existant, la probabilité de l’associer, p(Tcom,k
|Ωgk−1 , ψ h ), sachant l’hypothèse ψ h vaut alors

1.
nc,h

np,h

np,h

nc,h

i
i
i
i
, Ωgk−1 , ψ h )
|Tcom,k
|Ωgk−1 , ψ h ) = p(Tper,k
, Tper,k
p(Tcom,k

nc,h

(5.17)

i
× p(Tcom,k
|Ωgk−1 , ψ h )
|
{z
}

=1

L,np,h

nc,h

i
)
Cette mesure de vraisemblance dépend de la position relative de l’objet perçu p(Lper,ki |Tcom,k

nc,h

i
et de la classification de l’obstacle détecté pcper (Ccom
) lorsque la position de l’usager perçu est

L,np,h

nc,h

i
Lper,ki et la classe de l’obstacle communicant est Ccom
dans l’équation (5.18). Cette classification

provient de la méthode présentée dans la section 3.3.4.

np,h

nc,h

L,np,h

nc,h

nc,h

i
i
i
i
p(Tper,k
|Tcom,k
, Ωgk−1 , ψ h ) = p(Lper,ki |Tcom,k
)
)pcper (Ccom

nnp,h

(5.18)

i
Lorsque la piste Tcom,k
n’est pas perçue, la vraisemblance introduite par l’équation (5.19) se

Chapitre 5 Système coopératif perception/communication

149

nnp,h

i
Tcom,k

Zone occultée par les obstacles
nnp,h

i
d’aire Aocc

Fenêtre statistique d’association
np,h

d’aire Ani

Obstacle de communication
Obstacle occultant
Véhicule
Figure 5.9: Aire occultée par les obstacles perçus pour une piste de communication
nnp,h

i
traduit par le ratio entre l’aire occultée par les autres obstacles Aocc

np,h

et l’aire totale Anpi

à

l’intérieur de la fenêtre statistique.

nnp,h
i
p(Tcom,k
|Ωgk−1 , ψ h )

nnp,h

=

i
Aocc

(5.19)

np,h

Ani

La Figure 5.9 montre que la forme des zones occultées est complexe. Elle dépend de la configurannp,h

i
tion des capteurs et il n’est donc pas aisé de calculer la surface occultée Aocc
. Dans cette thèse,
np,h

nous n’avons pas été capable de décrire de manière générique le calcul des aires Ani

nnp,h

i
.
et Aocc

Nous supposons que le ratio entre ces deux grandeurs est disponible depuis la configuration du
système de perception.
La vraisemblance des pistes de communication introduite par l’équation (5.16) est calculée à
partir des équations (5.17) et (5.19) en s’appuyant sur l’équation (5.18).

150
5.3.4.3

Chapitre 5 Système coopératif perception/communication

Vraisemblance des branches de l’arbre

La description de la vraisemblance d’une branche ψ h considère cette variable comme une variable conjointe (ψ N T,h , ψ DT,h ). Comme illustré sur l’exemple de la section 5.3.3, le processus
de formation des branches est différent lorsqu’il s’agit du premier message reçu pour un usager
communicant (branche ψ N T,h ) ou si celui-ci avait déjà été détecté (branche ψ DT,h ).
La mise à jour des hypothèses correspondant aux obstacles existants est effectuée en premier. La
création des hypothèses pour les nouveaux objets communicants découle de cette première étape.
L’équation (5.20) décrit la combinaison des deux critères menant au calcul de la vraisemblance
de la branche ψ h .

p(ψ h |Ωgk−1 ) = p(ψ N T,h , ψ DT,h |Ωgk−1 )
= p(ψ N T,h |Ωgk−1 , ψ DT,h )p(ψ DT,h |Ωgk−1 )

(5.20)

DT
Supposons que l’ensemble des pistes perçues, Tper,k , est composé de deux sous-ensembles Tper,k
N T contenant
contenant les pistes déjà présentes à l’instant k−1 et mises à jour à l’instant k, et Tper,k

les nouvelles pistes créées à l’instant k.

NT
DT
}
Tper,k = {Tper,k
, Tper,k

(5.21)

DT pistes déjà observées et
A l’instant k, les Nper,k pistes de perception sont constituées de Nper,k
N T nouvelles pistes non prises en compte par Ωg .
comprises dans l’hypothèse Ωgk−1 , et de Nper,k
k−1

De même, les obstacles provenant de la communication, Tcom,k , sont formés de deux composantes
DT
NT
Tcom,k
et Tcom,k
représentant respectivement les obstacles communicants ayant déjà émis des

messages et ceux pour lesquels aucun message n’avait été reçu par le passé.

DT
NT
Tcom,k = {Tcom,k
, Tcom,k
}

(5.22)

Chapitre 5 Système coopératif perception/communication

151

DT + N N T ,
Nous considérons que les obstacles communicants sont au nombre de Ncom,k = Ncom,k
com,k
DT
NT
où Ncom,k
et Ncom,k
représentent respectivement les obstacles existants et initialisés à l’instant

k.
ass,h
Les pistes de communication déjà observées sont réparties entre Ncom,k−1
obstacles associés à
np,h
une piste de perception et Ncom,k−1
obstacles non perçus dans l’hypothèse Ωgk−1 .

ass,h
np,h
DT
Ncom,k
= Ncom,k−1
+ Ncom,k−1

(5.23)

Lors de la mise à jour, uniquement les pistes non perçues peuvent être associées avec des nouvelles
DT K, nous notons dans l’équation (5.24) nDT,h ∈
pistes de communication. Pour i ∈ J1, Nper,k
i
DT,nDT,h
i

ass,h
K, l’indice d’une piste de perception, Tper,k
J1, Ncom,k−1

vraisemblance,

p(ψ DT,h |Ωgk−1 ),

p(ψ DT,h |Ωgk−1 )

=

est alors exprimée par l’équation (5.24).

ass,h

Ncom,k−1

1





, déjà existante et déjà associée. La

N T + N np,h
Nper,k
com,k−1
np,h
Ncom,k−1

Q



i=1



DT,h
d (T DT,ni
)
Pper
per,k





(5.24)
DT
Ncom,k

×

Q 

i=1


d (T DT,i )
Pcom
com,k

d (.), et pour la comDans l’équation (5.24), les probabilités de détection pour la perception, Pper
d (.), sont calculées à partir de la modélisation introduite dans la section 5.2.1.
munication, Pcom
NT
Pour la branche ψ h , le nombre Ncom,k
de nouvelles pistes de communication est réparti entre
N T,h
DT,h
pistes associées avec des
pistes associées avec des pistes de perception existantes, Nper,k
Nper,k
N T,h
nouvelles pistes de perception et Nnp,k
pistes non perçues.

DT,h
N T,h
N T,h
NT
Ncom,k
= Nper,k
+ Nper,k
+ Nnp,k
|
{z
}
=NkN T,h

(5.25)

152

Chapitre 5 Système coopératif perception/communication

L’équation (5.26) décrit le calcul de la vraisemblance, p(ψ N T,h |Ωkg , ψ DT,h ), des nouveaux obsDT K, nous notons, dans l’équation (5.26), nDT,h ∈ J1, N DT,h K,
tacles communicants. Pour i ∈ J1, Nper,k
i
per,k
DT,nDT,h
i

l’indice d’une piste de perception, Tper,k

N T K, nous notons nN T,h
i ∈ J1, Nper,k
i
T,h
N T,nN
i
, nouvellement associée.
Tper,k

p(ψ N T,h |Ωkg , ψ DT,h )

=

NkN T,h !
NT !
Ncom,k

∈

DT,h 
Nper,k

Q
i=1
NT
Ncom,k

×

, déjà existante et nouvellement associée. Pour

N T,h
J1, Nper,k
K,

N T,h 
Nper,k



DT,h
d (T DT,ni
)
Pper
per,k

Q 

i=1

l’indice d’une nouvelle piste de perception,

d (T N T,i )
Pcom
com,k

×

Q
i=1

N T,h
d (T N T,ni
)
Pper
per,k


(5.26)



La vraisemblance de la branche ψ h est calculée en combinant les équations (5.24) et (5.26) dans
l’équation (5.20).

5.3.4.4

Formule finale de la probabilité a posteriori

La distribution a posteriori présentée dans l’équation (5.15) est finalement calculée depuis les
termes décrits dans les équations (5.16) et (5.20) pour chaque hypothèse Ωjk .
Afin de prévenir une explosion combinatoire du nombre d’hypothèses, les hypothèses ayant une
probabilité p(Ωjk |Tcom,k , Tper,k ) inférieure à un certain seuil γf us sont supprimées et ne sont plus
évaluées au temps k + 1 [78].

5.3.5

Sélection des hypothèses et estimation de l’état des vulnérables

La décision sur les pistes fusionnées s’effectue finalement en sélectionnant l’hypothèse ayant la
plus forte probabilité à l’instant k (équation (5.27)).

Ω̂k = arg max(p(Ωjk |Tcom,k , Tper,k ))
j=1,...,Hk

(5.27)

Chapitre 5 Système coopératif perception/communication

153

Les pistes fusionnées sont générées à partir de l’hypothèse Ω̂k . L’état des obstacles routiers situés
autour du véhicule est estimé en trois phases : estimation de l’état des obstacles pour lesquels
j
i
une piste de perception Tper,k
est associée avec une piste de communication Tcom,k
, estimation

de l’état des obstacles non perçus, estimation de l’état des obstacles non communicants.
En ce qui concerne les obstacles pour lesquels une association existe, le meilleur parti est pris en
estimant l’état dynamique de l’obstacle, i.e., sa position (x, y) et sa vitesse (vx, vy) à partir de
l’état estimé par la perception et les paramètres statiques comme la classe à partir des données
o
reçues par la communication. L’état estimé, ŝoass,k , d’une piste associée Tass,k
∈ Tass,k est exprimé
j
i
dans l’équation (5.28) à partir des paramètres des pistes Tcom,k
et Tper,k
.

j
i
ŝoass,k = [x̂jper,k , ŷper,k
, vx
ˆ jper,k , vy
ˆ jper,k , Ĉcom
]T

(5.28)

Finalement, les états des obstacles non perçus et non communicants sont respectivement estimés
j
i
et Tper,k
à l’origine de leur création tels que définis par
à partir de l’état des pistes Tcom,k
o
∈ Tnp,k et l’équation (5.30) pour l’obstacle non
l’équation (5.29) pour l’obstacle non perçu Tnp,k
o
communicant Tnc,k
∈ Tnc,k .

5.3.6
5.3.6.1

i
i
]T
ˆ icom,k , Ĉcom
, vx
ˆ icom,k , vy
ŝonp,k = [x̂icom,k , ŷcom,k

(5.29)

j
j
]T
ˆ jper,k , Ĉper,k
, vx
ˆ jper,k , vy
ŝonc,k = [x̂jper,k , ŷper,k

(5.30)

Exemple de fusion perception/communication : application numérique
Introduction

Dans cette section, nous reprenons l’exemple de la section 5.3.3. Nous introduisons une application numérique pour montrer comment sont calculées les probabilités de chaque hypothèse et
comment sont estimées les pistes fusionnées.

154

Chapitre 5 Système coopératif perception/communication

Nous supposons que les obstacles sont assez proches pour être parfaitement détectés, i.e., P d =1
dans l’équation (5.31).

i
∀k ∀Tper,k
∈ Tper,k ,

d (T i
Pper
per,k ) = 1

i
∀k ∀Tcom,k
∈ Tcom,k ,

d (T i
Pcom
com,k ) = 1

(5.31)

Nous supposons également que les deux obstacles communicants sont de classe « piéton » et que
chaque obstacle de perception est parfaitement classifié comme un piéton comme indiqué dans
l’équation (5.32).

i
∀k ∀Tper,k
∈ Tper,k ,

5.3.6.2

pcper (C = « piéton ») = 1

(5.32)

Fusion à l’instant k

1
2
À l’instant k, deux nouvelles pistes communicantes Tcom,k
et Tcom,k
apparaissent. L’équation (5.33)

décrit les paramètres de l’équation (5.25) dans notre exemple.

NT
=2
Ncom,k

∀h,

DT,h
Nper,k
= 0, NkN T,h = 2

(5.33)

L’ensemble des hypothèses doit être initialisé à l’instant k. L’équation (5.20) est dont simplifiée
comme suit

∀h,

p(ψ h |Ωk−1 ) = p(ψ N T,h |Ωk−1 ) .

(5.34)

En utilisant les paramètres de l’exemple décrits dans les équations (5.33) et (5.31), l’équation (5.26) devient
∀h,

p(ψ N T,h |Ωk−1 ) = 1

.

(5.35)

Chapitre 5 Système coopératif perception/communication

155

L’équation (5.35) montre que initialement toutes les branches de l’arbre sur la Figure 5.6 sont
équiprobables.
D’après la Figure 5.5, nous fixons la vraisemblance de chaque position des pistes perçues sachant
les pistes communicantes dans l’équation (5.36) et la pourcentage d’aire occulté pour chaque piste
communicante dans l’équation (5.37).

1
p(LL,1
per,k |Tcom,k )) = 0.6
1
p(LL,2
per,k |Tcom,k )) = 0.6
1
p(LL,3
per,k |Tcom,k )) = 0.4

(5.36)

2
p(LL,3
per,k |Tcom,k )) = 0.4

A1occ
A2occ
=
0.5
et
= 0.3
A1
A2

(5.37)

À partir des équations (5.36) et (5.37), la vraisemblance des pistes de perception et de communication (équation (5.16)) sont exprimées dans l’équation (5.38) pour chaque branche ψ h ∈ ψ.

156

ψ1,

Chapitre 5 Système coopératif perception/communication

L,3
1
2
p(Tcom,k , Tper,k |Ωk−1 , ψ 1 ) = p(LL,1
per,k |Tcom,k ) × p(Lper,k |Tcom,k )

= 0.24
ψ2,

1
p(Tcom,k , Tper,k |Ωk−1 , ψ 2 ) = p(LL,1
per,k |Tcom,k ) ×

A2occ
A2

= 0.18
ψ3,

L,3
1
2
p(Tcom,k , Tper,k |Ωk−1 , ψ 3 ) = p(LL,2
per,k |Tcom,k ) × p(Lper,k |Tcom,k )

= 0.24
ψ4,

1
p(Tcom,k , Tper,k |Ωk−1 , ψ 4 ) = p(LL,2
per,k |Tcom,k ) ×

A2occ
A2

(5.38)

= 0.18
ψ5,

1
p(Tcom,k , Tper,k |Ωk−1 , ψ 5 ) = p(LL,3
per,k |Tcom,k ) ×

A2occ
A2

= 0.12
ψ6,

p(Tcom,k , Tper,k |Ωk−1 , ψ 6 ) =

A1occ
A1

2
× p(LL,3
per,k |Tcom,k )

= 0.2
ψ7,

p(Tcom,k , Tper,k |Ωk−1 , ψ 7 ) =

A1occ
A1

×

A2occ
A2

= 0.15
Finalement, la probabilité de chaque hypothèse est calculée depuis l’équation (5.15) en combinant
les équations (5.34) et (5.38).

Ω1k ,

p(Ω1k |Tcom,k , Tper,k ) = 0.18

Ω2k ,

p(Ω2k |Tcom,k , Tper,k ) = 0.14

Ω3k ,

p(Ω3k |Tcom,k , Tper,k ) = 0.18

Ω4k ,

p(Ω4k |Tcom,k , Tper,k ) = 0.14

Ω5k ,

p(Ω5k |Tcom,k , Tper,k ) = 0.09

Ω6k ,

p(Ω6k |Tcom,k , Tper,k ) = 0.15

Ω7k ,

p(Ω7k |Tcom,k , Tper,k ) = 0.11

(5.39)

L’équation (5.39) montre que les hypothèses Ω1k et Ω3k sont initialement les meilleures. Il est
délicat de prendre un bonne décision à ce moment car les probabilités de chaque hypothèse sont
faibles et aucune d’entre elles n’apparaı̂t supérieure aux autres.

Chapitre 5 Système coopératif perception/communication
5.3.6.3

157

Fusion à l’instant k+1

1
À l’instant k +1, la piste de communication Tcom,k+1
fournit de nouvelles données qui permettent

de mettre à jour les hypothèses définies à l’instant k. Quatre pistes, réparties en trois pistes déjà
détectées à l’instant k et une nouvelle piste, fournissent des données de perception. Le nombre
d’obstacles utilisés à l’instant k + 1 est décrit dans l’équation (5.40).

Ncom,k+1 = 1,

DT
Ncom,k+1
= 1,

NT
Ncom,k+1
=0

Nper,k+1 = 4,

DT
Nper,k+1
= 3,

NT
Nper,k+1
=1

(5.40)

1
Comme le véhicule a déjà reçu des informations de la piste de communication Tcom,k+1
à l’instant

k, aucune nouvelle piste de communication n’apparaı̂t à l’instant k+1, et l’équation (5.26) devient

∀h ∀g,

p(ψ N T,h |Ωgk , ψ DT,h ) = 1

(5.41)

.

Pour les branches ψ 1 à ψ 5 de l’arbre, la piste de communication est associée avec une piste de
perception, alors qu’elle est supposée non perçue pour les branches ψ 6 à ψ 9 . L’équation (5.42)
montre le calcul de la vraisemblance dans ces deux cas en appliquant les paramètres des équations (5.40) et (5.31) à l’équation (5.24).

h ∈ J1, 5K,

np,h
Ncom,k+1
= 0,

h ∈ J6, 9K,

np,h
Ncom,k+1

p(ψ DT,h |Ωgk ) =

 1 




= 1,

p(ψ DT,h |Ωgk )

=

1
0





 1 




2
1

(5.42)





La vraisemblance de chaque branche est donc définie en combinant les équations (5.41) et (5.42)
dans l’équation (5.43).

158

Chapitre 5 Système coopératif perception/communication

h ∈ J1, 5K,
h ∈ J6, 9K,

p(ψ h |Ωgk ) = 1
p(ψ h |Ωgk ) = 0.5

(5.43)

L’équation (5.43) est bien illustrée par la mise à jour de l’arbre sur la Figure 5.8 où les hypothèses
Ω1k à Ω5k engendrent chacune une unique branche et les hypothèses Ω6k et Ω7k sont séparées en
deux nouvelles branches.
D’après la Figure 5.7, nous fixons la vraisemblance de chaque position des pistes perçues sachant
les pistes communicantes dans l’équation (5.44) et la pourcentage d’aire occulté pour la piste
communicante dans l’équation (5.45).

1
p(LL,1
per,k+1 |Tcom,k+1 )) = 0.5
1
p(LL,2
per,k+1 |Tcom,k+1 )) = 0.8
1
p(LL,3
per,k+1 |Tcom,k+1 )) = 0.3

(5.44)

1
p(LL,5
per,k+1 |Tcom,k+1 )) = 0.6

A1occ
= 0.5
A1

(5.45)

À partir des équations (5.44) et (5.45), la vraisemblance des pistes de perception et de communication (équation (5.16)) sont exprimées dans l’équation (5.46) pour chaque branche ψ h ∈ ψ.

ψ1,

p(Tcom,k+1 , Tper,k+1 |Ω1k , ψ 1 ) = 0.5

ψ2,

p(Tcom,k+1 , Tper,k+1 |Ω2k , ψ 2 ) = 0.5

ψ3,

p(Tcom,k+1 , Tper,k+1 |Ω3k , ψ 3 ) = 0.8

ψ4,

p(Tcom,k+1 , Tper,k+1 |Ω4k , ψ 4 ) = 0.8

ψ5,

p(Tcom,k+1 , Tper,k+1 |Ω5k , ψ 5 ) = 0.3

ψ6,

p(Tcom,k+1 , Tper,k+1 |Ω6k , ψ 6 ) = 0.6

ψ7,

p(Tcom,k+1 , Tper,k+1 |Ω6k , ψ 7 ) = 0.5

ψ8,

p(Tcom,k+1 , Tper,k+1 |Ω7k , ψ 8 ) = 0.6

ψ9,

p(Tcom,k+1 , Tper,k+1 |Ω7k , ψ 9 ) = 0.5

(5.46)

Chapitre 5 Système coopératif perception/communication

159

Finalement, la probabilité de chaque hypothèse est calculée depuis l’équation (5.15) en combinant
les équations (5.39), (5.43) et (5.46).

Ω1k+1 ,

p(Ω1k+1 |Tcom,k+1 , Tper,k+1 ) = 0.15

Ω2k+1 ,

p(Ω2k+1 |Tcom,k+1 , Tper,k+1 ) = 0.12

Ω3k+1 ,

p(Ω3k+1 |Tcom,k+1 , Tper,k+1 ) = 0.25

Ω4k+1 ,

p(Ω4k+1 |Tcom,k+1 , Tper,k+1 ) = 0.19

Ω5k+1 ,

p(Ω5k+1 |Tcom,k+1 , Tper,k+1 ) = 0.05

Ω6k+1 ,

p(Ω6k+1 |Tcom,k+1 , Tper,k+1 ) = 0.08

Ω7k+1 ,

p(Ω7k+1 |Tcom,k+1 , Tper,k+1 ) = 0.06

Ω8k+1 ,

p(Ω8k+1 |Tcom,k+1 , Tper,k+1 ) = 0.06

Ω9k+1 ,

p(Ω9k+1 |Tcom,k+1 , Tper,k+1 ) = 0.05

(5.47)

L’hypothèse Ω3k+1 a une probabilité de 0.25 qui est la probabilité la plus élevée. Les hypothèses
Ω5k+1 et Ω9k+1 ont un probabilité de 0.05 et sont donc très peu probables. Elle peuvent être
supprimées à l’itération suivante pour se concentrer sur les hypothèses les plus fortes.

5.3.6.4

Estimation des pistes fusionnées à l’instant k+1

L’hypothèse Ω3k+1 est la meilleure et sert à estimer les pistes fusionnées.

Ω̂k+1 = Ω3k+1

(5.48)

Sous l’hypothèse Ω3k+1 ,
2
1
- la piste de perception Tper,k+1
est associée avec la piste de communication Tcom,k+1
pour
1
créer la piste Tass,k+1
,
3
2
- la piste de perception Tper,k
est associée avec la piste de communication Tcom,k
pour créer
2
la piste Tass,k+1
,

160

Chapitre 5 Système coopératif perception/communication

1
5
- les pistes de perception Tper,k+1
et Tper,k+1
ne sont pas communicantes.

L’ensemble des pistes fusionnées est fourni par l’équation (5.49).
1
2
1
5
Tf us,k+1 = {Tass,k+1
, Tass,k+1
, Tper,k+1
, , Tper,k+1
}

(5.49)

Finalement, les paramètres des pistes fusionnées sont présentés dans l’équation (5.50) tel que
décrit par l’équation (5.28).
1 ]T
2
ˆ 2per,k+1 , Ccom
ŝ1ass,k+1 = [x̂2per,k+1 , ŷper,k+1
, vx
ˆ 2per,k+1 , vy
2 ]T
3
ˆ 3per,k+1 , Ccom
ŝ2ass,k+1 = [x̂3per,k+1 , ŷper,k+1
, vx
ˆ 3per,k+1 , vy

(5.50)

2
3
2
Notons que même si Tcom,k
et Tper,k
sont associées à l’instant k et Tcom,k
ne communique pas à
2
3
sont utilisés pour mettre à jour Tass,k+1
k + 1, les paramètres dynamiques de la piste Tper,k+1

dans l’équation (5.50).

5.3.7

Discussion

À notre connaissance une méthode de fusion haut-niveau mettant en correspondance les informations de perception et de communication est inexistante dans la littérature. Le développement
de telles approches s’avère pourtant nécessaire pour les futurs systèmes coopératifs.
Au cours de cette section, nous avons proposé une solution basée sur le principe du filtre MHT
pour effectuer l’association perception/communication. Cette approche présente une formulation probabiliste basée sur les modèles des systèmes de perception et de communication. Elle
possède l’avantage de fournir une formule qui peut être très simplement implémentée et très
rapidement évaluée pour le calcul de la probabilité de chaque association. Cependant, cette
approche demande la gestion d’un nombre d’hypothèses qui augmente au cours du temps et
certaines fonctions comme la dimension de l’aire occultée peuvent être difficiles à évaluer avec
des obstacles complexes.

Chapitre 5 Système coopératif perception/communication

161

La solution proposée n’a pour le moment pas pu être évaluée. Dans cette section, nous nous
sommes concentrés à démontrer l’intérêt d’une telle approche depuis un exemple. Une évaluation
complète sera mise en place dans un environnement simulé. Des scénarios réels tels que ceux qui
seront présentés dans la section 6.4 permettront de valider si notre méthode est effectivement
capable de détecter les cas pour lesquels un piéton est observé par le véhicule et les cas pour
lesquels il est masqué par un obstacle occultant. Des scénarios simulés proposeront un nombre
plus élevé de piétons pour lesquels l’association perception/communication peut être complexe.

5.4

Présentation d’une application d’avertissement pour les vulnérables

5.4.1

Introduction

Les équipements de type smartphones transportés par les piétons n’ont pas uniquement la capacité d’activer la communication V2P introduite dans le chapitre 4, ils offrent également un
nouveau moyen d’interaction avec les usagers vulnérables.
Au cours de cette section, nous introduisons une application pour smartphone, appelée V2ProVU
(V2P for Protection of Vulnerables), qui s’appuie sur les capacités de communication V2P,
l’évaluation du risque de collision et propose une interface homme-machine (IHM) pour alerter
les usagers vulnérables du danger.

5.4.2

Application V2ProVu pour la protection des vulnérables

L’application V2ProVu a été développée afin de protéger les usagers de la route des accidents de
la circulation et est décrite sur la Figure 5.10. Elle se décompose entre les fonctions suivantes :

(1) Service V2ProVu - Ce service correspond à l’intelligence embarquée sur le téléphone du
piéton. Il a la charge d’évaluer la position de l’usager vulnérable à partir de données GPS et

162

Chapitre 5 Système coopératif perception/communication

Figure 5.10: Description de l’application V2ProVu

de traiter les données reçues et émises par la communication V2P pour évaluer les risques
de collision.
(2) IHM - L’IHM présente plusieurs fonctionnalités pour interagir avec l’usager vulnérable et
l’alerter du danger. En effet, cette interface utilise la cartographie pour afficher la position
des véhicules entourant le piéton ainsi que le niveau de danger. Lorsqu’une collision est
détectée plusieurs solutions d’alerte sont envisagées et une fiche d’aide est disponible pour
effectuer les premiers secours.

5.4.2.1

Service V2ProVu

Le service V2ProVu est une fonctionnalité qui tourne en tâche de fond sur le téléphone de l’usager
et ne demande aucune action particulière. Il implémente l’architecture de communication V2P
décrite au cours de la section 4.2.
Il s’appuie sur le média de communication Wi-Fi pour écouter les CAMs et les Geo-CAMs

Chapitre 5 Système coopératif perception/communication

163

envoyés par les véhicules. Lorsqu’un tel message est reçu, il s’appuie sur sa propre position GPS
pour évaluer si :

- l’usager se trouve sur la trajectoire du véhicule dans le cas d’un CAM,
- l’usager se trouve dans la Geo-Area dans le cas d’un Geo-CAM.

En ce qui concerne les CAMs, le risque de collision est calculé en évaluant le temps avant collision
(TTC) tel que décrit dans la section 4.3.2.
En ce qui concerne les Geo-CAMs, il est évalué si l’usager se trouve dans la Geo-Area dont la
construction est détaillée dans la section 4.3.3. Nous expliquons dans la section 5.4.3 comment
est prise en compte l’incertitude sur le positionnement de l’usager lors de cette évaluation.
Lorsque le service V2ProVu accepte un message depuis un véhicule, il acquitte la réception en
envoyant un message P2V dont le contenu est décrit dans la section 4.2.4 au véhicule émetteur.
Il stocke également les informations de ce véhicule dans une base de données pour les afficher à
l’utilisateur via l’IHM.

5.4.2.2

IHM

Avec l’installation de l’application V2ProVu, l’usager peut remplir une fiche descriptive et indiquer certaines données le concernant (âge, mode de déplacement, taille,...). Ces caractéristiques définissent les paramètres fixes des messages P2V (section 4.2.4) envoyés depuis le service
V2ProVu et préparent une fiche de premier secours pour aider l’usager en cas d’accident.
L’IHM s’appuie sur le service OpenStreeMap 2 pour charger une carte de l’environnement dans
lequel se situe l’usager et pour afficher sa position GPS et celle des véhicules communicants. Dans
la section 5.4.4, nous décrivons comment l’IHM fournit différents niveaux d’alerte à l’utilisateur
en fonction du risque de collision. Des moyens d’alerte sonore ou par vibration du téléphone
peuvent aussi être envisagés avec l’application V2ProVu.
2. http ://openstreetmap.fr/ - OpenStreetMap est une carte du monde entier librement modifiable.

164

5.4.3

Chapitre 5 Système coopératif perception/communication

Prise en compte de l’incertitude dans la définition des zones de dissémination

Lorsqu’un usager vulnérable reçoit un Geo-CAM, il doit évaluer s’il se situe dans la Geo-Area
de ce message. Cependant, l’usager vulnérable ne connait sa localisation LG que de manière très
incertaine depuis les données GPS.
Le calcul de la probabilité d’être à l’intérieur de la zone de destination est possible par l’intégration de la distribution de probabilité de localisation de l’usager p(x, y|LG ) introduite dans la
section 5.2.3 sur l’aire destination comme décrit par l’équation (5.51).

Z Z

p(x, y|LG )dxdy

Pacc =

(5.51)

Geo−Area

Rappelons que la Geo-Area est définie depuis la section 4.3.3 par les cinq points E0 , E1 , Ehd ,
E2 et E3 . Elle est répartie en deux aires A1 et A2 . Le calcul la probabilité d’accepter le message
s’effectue donc sur chacune de ces aires.

Z Z

Z Z

G

Pacc =

p(x, y|L )dxdy +
A1

p(x, y|LG )dxdy

(5.52)

A2

La probabilité Pacc est comparée à un seuil γacc pour établir si l’usager vulnérable est effectivement dans la zone de destination du message.

accepté

Pacc

≷

γacc

(5.53)

rejeté

5.4.4

Alerte conjointe des usagers de la route

L’application proposée au cours de cette thèse permet d’alerter conjointement les usagers du
danger. Dans la section 4.3.2, l’horizon temporel, th , limitant la taille de la zone de destination

Chapitre 5 Système coopératif perception/communication

165

des CAMs et Geo-CAMs a été introduite. Depuis les exigences d’un système d’alerte présentées
dans la section 2.1.3.1, th est défini dans l’équation (5.54).

th = tp + tr + tl +

kth
ftx

(5.54)

L’équation (5.54) est régie par les paramètres :

- tp , le temps de perception du danger,
- tr , le temps de réaction de l’usager,
- tl , le retard introduit par le système de transmission,
- ftx , la fréquence de transmission des CAMs et Geo-CAMs,
- kth , le nombre de messages à transmettre pour assurer que l’usager vulnérable est alerté
avec une probabilité, PA , suffisamment élevée.
La valeur de l’horizon temporel peut être déduit depuis les expérimentations menées dans la
section 6.3.4.
La Figure 5.11 illustre l’alerte lorsqu’un piéton est en ligne de vue directe depuis le véhicule
(scénario 1) et lorsqu’il est masqué par un obstacle (scénario 2).
Dans le scénario 1, le véhicule reçoit une alerte directement depuis la perception comme le montre
la boite rouge dans l’image en haut à gauche. Dans le scénario 2, l’obstacle occultant est détecté
par le véhicule, ce qui est illustré par le boı̂te jaune dans l’image en bas à gauche et le véhicule
peut être alerté de la présence d’un piéton par la réception des données de communication.
Au niveau du piéton, les deux scénarios sont similaires car il ne connait pas les situations
d’occultation. Les deux images de droite illustrent l’affichage sur l’IHM en fonction du niveau
de danger :

166

Chapitre 5 Système coopératif perception/communication

Figure 5.11: Illustration de l’alerte conjointe des véhicules et des usagers vulnérables

- vert, lorsqu’il n’y a aucun risque et que le piéton est en dehors de la GDA introduite à la
section 4.3.2,
- orange, pour avertir d’un danger potentiel lorsque le piéton est dans la GDA mais le T T C
est supérieur à l’horizon temporel th ,
- rouge, lorsque le risque de collision (section 4.3.2) et avéré et que le piéton doit se mettre
en sécurité.

Chapitre 5 Système coopératif perception/communication

5.5

167

Conclusion

Au cours de ce chapitre, un système coopératif s’appuyant sur la communication et la perception
est introduit pour assurer la protection des usagers vulnérables.
Dès que les usagers ont la volonté de coopérer, nous remarquons qu’ils ont besoin d’échanger
leurs positions respectives dans un repère commun. Le positionnement par données GPS fournit
un tel repère mais est sujet à de nombreuses erreurs.
Pour effectuer la fusion entre la communication et la perception, nous avons modélisé chacun
de ces systèmes en termes de détection, de classification et de localisation pour des usagers
vulnérables. Nous avons remarqué que la perception a la capacité de détecter et de localiser les
usagers vulnérables lorsque ceux-ci se situent dans le champ de vision des capteurs embarqués. Au
contraire, la communication ne permet pas de localiser précisément ces usagers mais fonctionne
dans une plus large gamme de situations. Les performances de ces deux systèmes ont été évaluées
dans la section 6.4 et montrent l’intérêt d’un système coopératif.
Une fusion entre les informations de communication et de perception est nécessaire pour aider le
véhicule à mieux comprendre la situation. Nous avons montré l’intérêt d’une association multihypothèse et nous avons exprimé les équations permettant de calculer la probabilité de chaque
hypothèse. Ce système possède l’atout de garder en mémoire un certain nombre d’hypothèses
qui sont mises à jour au cours du temps et l’état des usagers vulnérables est estimé à partir de
la meilleure hypothèse.
Finalement, nous avons développé une application pour la protection des usagers vulnérables qui
peut être directement installée sur les smartphones actuels et nous démontrons comment cette
application prend en compte les incertitudes sur le positionnement des usagers vulnérables afin
d’accepter les messages à portée géographique. Avec les téléphones actuels, des moyens d’alerte
visuels et sonores sont envisagés en cas de danger.

6
Évaluation des solutions proposées

5.1

État de l’art des systèmes coopératifs pour les ITS . . . . . . . . . . 124
5.1.1

Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 124

5.1.2

Approche de localisation par positionnement global . . . . . . . . . . . . 126

5.1.3

Fusion d’information coopérative pour la protection des vulnérables . . 128

5.1.4

Applications pour smartphone à destination de la sécurité usagers vulnérables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129

5.1.5
5.2

Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131

Modélisation des systèmes de perception et de communication . . . 132
5.2.1

Probabilité de détection . . . . . . . . . . . . . . . . . . . . . . . . . . . 132

169

170

5.3

Chapitre 6 Évaluation des solutions proposées

5.2.2

Classification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134

5.2.3

Positionnement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134

5.2.4

Métrique destinée à l’évaluation des solutions proposées . . . . . . . . . 135

5.2.5

Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138

Méthode d’association d’information de perception et de communication . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138
5.3.1

Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138

5.3.2

Formulation du problème . . . . . . . . . . . . . . . . . . . . . . . . . . 141

5.3.3

Exemple d’association entre perception et communication . . . . . . . . 142

5.3.4

Calcul de la probabilité d’hypothèse pour la fusion perception/communication . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147

5.4

5.3.5

Sélection des hypothèses et estimation de l’état des vulnérables . . . . . 152

5.3.6

Exemple de fusion perception/communication : application numérique . 153

5.3.7

Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 160

Présentation d’une application d’avertissement pour les vulnérables 161
5.4.1

Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161

5.4.2

Application V2ProVu pour la protection des vulnérables . . . . . . . . . 161

5.4.3

Prise en compte de l’incertitude dans la définition des zones de dissémination . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164

5.4.4
5.5

6.1
6.1.1

Alerte conjointe des usagers de la route . . . . . . . . . . . . . . . . . . 164

Conclusion

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167

Mise en œuvre des expérimentations
Introduction

Le système proposé au cours de cette thèse est évalué selon plusieurs aspects relatifs aux fonctions
que nous avons développées :

Chapitre 6 Évaluation des solutions proposées

171

- la classification d’obstacles routiers à partir de données laser,
- la communication véhicules-piétons pour la protection des vulnérables,
- le coopération entre les systèmes de perception et de communication.
Afin de réaliser ces différentes expériences, nous avons utilisé deux outils à notre disposition :
- la base de données Kitti 1 fournie publiquement par l’institut technologique de Karlsruhe
qui permet d’évaluer les méthodes de perception,
- les plateformes expérimentales disponibles à INRIA-Rocquencourt qui offrent un nombre
important de capteurs et d’outils de communication véhiculaire pour évaluer nos solutions
dans des conditions réelles.

6.1.2

Base de données Kitti pour la conduite automatisée

La base de données Kitti [155] fournit de nombreuses données enregistrées autour de la ville de
Karlsruhe pour évaluer les algorithmes de perception développés par les chercheurs intéressés par
la conduite autonome tels que les méthodes de stéréovision, d’estimation de flux, d’estimation
de l’odométrie du véhicule, de détection d’objets et de suivi d’obstacles.
La données brutes sont séparées en quatre types d’environnements : campus, ville, résidentiel et
route. Les environnements de type campus et ville correspondent le mieux à nos cas d’usages définis pour la sécurité des usagers vulnérables et présentent également le plus de données contenant
des piétons, des cyclistes et des véhicules.
La Figure 6.1 présente le véhicule utilisé par Kitti pour construire la base de données à partir
des capteurs suivants :
- 1 centrale inertielle (GPS/IMU) OXTS RT 3003 fournit la localisation et le déplacement
du véhicule,
1. http ://www.cvlibs.net/datasets/kitti/

172

Chapitre 6 Évaluation des solutions proposées

Figure 6.1: Illustration du véhicule employé pour l’acquisition des données de la base Kitti

- 1 scanner laser de marque Velodyne HDL-64E construit un nuage de points 3D de l’environnement entourant le véhicule,
- 2 caméras en niveaux de gris et 2 caméras couleurs de type Point Gray Flea 2 fournissent
des images de l’environnement exploitées pour détecter les obstacles et pour la stéréo
vision.

Dans cette thèse, la base Kitti sert à valider les méthodes de classification d’obstacles à partir
de données laser (section 3.3). Les données 3D obtenues par le scanner laser sont les principales
sources de l’évaluation. Contrairement à certaines données caméras, les données laser ne sont
pas annotées. Il a donc été nécessaire d’affecter des labels à ces données laser pour mettre en
place les techniques d’apprentissage supervisé et évaluer leurs performances.
En conséquence, nous avons implémenté la méthode de segmentation de données Velodyne proposée par Douillard et al. [51] afin d’obtenir la liste des objets présents autour du véhicule pour
chaque séquence laser. Ensuite, nous avons affecté manuellement des classes d’obstacles aux
objets de la scène pour sept séquences choisies dans les environnements campus et ville.

Chapitre 6 Évaluation des solutions proposées

6.1.3

173

Présentation des plateformes expérimentales INRIA

L’équipe RITS, sur le campus d’INRIA à Rocquencourt, dispose d’une flotte de plateformes
expérimentales permettant d’évaluer les solutions proposées par les chercheurs tant pour la
perception, la communication véhiculaire, la planification et le contrôle.

Figure 6.2: Illustration de la plateforme INRIA et de l’équippement porté par le piéton

Particulièrement, l’équipe dispose d’une voiture de type Citroën C1 munie des capteurs nécessaires pour la rendre automatisée. Ce véhicule est équipé avec les moyens suivants :
- 2 lasers multi-couches de type Ibeo LUX situés à l’avant du véhicule fournissent des nuages
de points de l’environnement,
- 1 laser simple couche de marque Hokuyo situé à l’arrière du véhicule fournit un nuage de
point de l’environnement,
- 1 caméra de marque NIT située devant le véhicule donne une image en niveaux de gris de

174

Chapitre 6 Évaluation des solutions proposées

la scène,
- 1 GPS RTK fournit la localisation de précision centimétrique du véhicule,
- 1 GPS « standard » Garmin donne une localisation de précision grossière du véhicule,
- 1 boı̂tier de communications de type commsignia Laguna permet la communication 802.11p
et 1 boitier de marque Yawarra Alix-3 permet la communication 802.11b/g/n,
- Le logiciel RTMaps 2 permet le traitement en temps réel des données multi-sources acquises
par le véhicule.

Le piéton illustré sur la Figure 6.2 est muni avec les moyens suivants :

- 1 boitier de marque Yawarra Alix-3 permet la communication 802.11b/g/n en mode ad-hoc
afin d’évaluer ce type de média pour la communication V2P,
- 1 tablette Samsung Galaxy Tab2 10.1 sur laquelle est installée l’application V2ProVu.

Trajectoire
100m

Figure 6.3: Site sélectionné pour les tests à INRIA

La Figure 6.2 illustre la configuration de la plateforme utilisée à INRIA et les équipements
transportés par le piéton durant nos tests. Celui-ci est muni d’une tablette Samsung équivalente
2. http ://www.intempora.com/

Chapitre 6 Évaluation des solutions proposées

175

à un smartphone et d’un boitier de communication Yawarra Alix-3 qui peut être alimenté par
une batterie.
Finalement, les tests menés à INRIA se sont déroulés sur une partie du campus jugée propice
pour évaluer les performances de nos solutions pour les scénarios d’accidents sélectionnés dans
la section 2.1.2. La zone de test est identifiée par la ligne bleue sur la Figure 6.3.

6.2
6.2.1

Classification d’obstacles routiers à partir de données laser
Introduction

L’évaluation de la méthode de classification multi-classes présentée dans la section 3.3 est effectuée à partir des données laser disponibles dans la base Kitti [155].
Pour cette évaluation, nous avons considéré quatre classes d’obstacles routiers d’intérêt à reconnaı̂tre pour assurer la sécurité des vulnérables : piéton, cycliste, véhicule et obstacle statique.
Le Tableau 6.1 décrit le nombre d’objets extraits depuis toutes les observations et le nombre de
pistes utilisées au cours de l’évaluation pour chacune des classes précédemment définies.
Tableau 6.1: Description du jeu de données pour la classification par laser

Piéton
Véhicule
Cycliste
Obstacle statique
(Arbre et poteau)

Nombre d’objets
2550
2557
723

Nombre de pistes
29
36
10

2089

38

Le scanner laser Velodyne HDL-64e fournit des données dans un champ de vision de 360° sur 64
couches. Il produit 125000 impacts laser toutes les 100 ms. Comme notre approche est destinée
à être appliquée pour des lasers 2D, nous simulons un laser simple couche situé 60 cm au dessus
du sol à partir du nuage de points 3D du Velodyne. La Figure 6.4 illustre la vue de dessus d’un

176

Chapitre 6 Évaluation des solutions proposées

60

Piéton
Véhicule
Cycliste
Obstacle statique

50

X

40
30
20
10
0
−10

30

20

10

0
Y

−10

−20

−30

Figure 6.4: Exemple de scan laser 2D annoté. Les impacts laser ainsi que les boites engloabantes
des objets sont projetés dans l’image correspondante à la scène.

scan laser annoté avec les quatre classes définies précédemment ainsi que la projection des objets
détectés par le laser dans l’image de la scène correspondante.
La classification des obstacles est évaluée à partir de trois systèmes de classification.
- Arras : classification des piétons à partir de données laser 2D introduite par Arras et
al. [70].
- RoadFeat+Adaboost : classifieur entrainé pas adaboost sur l’ensemble de primitives décrivant les obstacles routiers et introduit dans la section 3.3.2.
- RoadFeat+SVM : classifieur entrainé par SVM sur l’ensemble de primitives RoadFeat.
Chacune des sept séquences est alternativement sélectionnée comme ensemble de validation. Les
autres séquences sont utilisées pour entrainer le classifieur. De cette manière, les données utilisées
lors de l’évaluation sont indépendantes des données servant à la phase d’apprentissage.
Au cours des sections suivantes, nous étudions tout d’abord quelles sont les primitives les plus intéressantes avec l’apprentissage par adaboost pour les ensembles Arras et RoadFeat. Ensuite, les
performances des classifieurs sont comparées pour chaque classe, et, les résultats de classification
d’obstacles routiers sont établis pour la solution proposée dans la thèse.

Chapitre 6 Évaluation des solutions proposées

6.2.2

177

Sélection des meilleures primitives

Dans cette section, chaque classifieur est entrainé sur les données labellisées. Le Tableau 6.2
présente les cinq meilleurs classifieurs faibles sélectionnés par la méthode adaboost durant l’apprentissage avec les ensembles de primitives Arras et RoadFeat. Ces cinq classifieurs faibles
représentent donc les cinq meilleures primitives sélectionnées pour chacune des classes.
Tableau 6.2: Meilleures primitives sélectionnées depuis la classification par adaboost
hhhh
h

Classe

Primitive
h
hhh sélectionnée
1er
hhhh
hhh
h

Piéton
Véhicule
Cycliste
Obstacle Statique

Arras
RoadFeat
Arras
RoadFeat
Arras
RoadFeat
Arras
RoadFeat

f8
f32
f15
f15
f8
f8
f15
f32

2ème

3ème

4ème

5ème

f12
f83
f7
f85
f6
f83
f1
f15

f8
f39
f5
f7
f1
f6
f13
f13

f15
f16
f7
f32
f9
f39
f5
f1

f11
f31
f9
f40
f11
f1
f5
f5

Tel que mentionné dans [70], f8 qui est la rayon du cercle adapté aux impacts laser d’un piéton est
la meilleure fonction pour classifier les piétons avec l’ensemble Arras, mais aussi pour classifier
les cyclistes avec les deux méthodes. Cependant, avec l’ensemble que nous proposons, f32 , qui
correspond au maximum entre les deux sous-cluster de la déviation moyenne par rapport à
la médiane, est la primitive la plus importante. En ce qui concerne les véhicules, leur vitesse
mesurée est le meilleur descripteur pour chacune des techniques. De plus, pour les véhicules,
les piétons et les cyclistes, la deuxième meilleure primitive provient de celles calculées depuis
l’intensité des impacts laser (f83 et f85 ). Cela montre l’intérêt d’une telle information pour la
classification d’obstacles.
La solution présentée dans cette section est implémentée avec Matlab et n’est pas encore conçue
pour un système intégré. Cependant, nous pouvons déjà donner un aperçu des temps de calcul.
La Figure 6.5 montre le temps requis pour l’apprentissage des classifieurs et pour effectuer la
classification de l’obstacle par rapport au nombre de classifieurs. Le nombre de primitives étant

178

Chapitre 6 Évaluation des solutions proposées
0.02
RoadFeat+Adaboost
Arras

Temps par obstacle [ms]

Temps d’apprentissage [s]

200
150
100
50
0
0

20
40
60
80
Nombre de classifieurs faibles

100

RoadFeat+Adaboost
Arras
0.015
0.01
0.005
0
0

(a) Apprentissage

20
40
60
80
Nombre de classifieurs faibles

100

(b) Classification d’obstacles

Figure 6.5: Temps de traitement

augmenté avec l’ensemble RoadFeat, le temps nécessaire à l’entrainement du classifieur est plus
important et nécessite plus de 150 s pour 100 classifieurs faibles. Cependant, nous observons sur
la Figure 6.5b que le temps de classification est uniquement dépendant du nombre de classifieurs
et est inférieur à 0.02 ms pour 100 classifieurs faibles.
L’accroissement du nombre de primitives à calculer ainsi que l’utilisation de fonctions plus complexes tels que les k-means et l’ajustement de segments augmente le temps de calcul des primitives de 0.15 ms avec la méthode Arras à 1.14 ms avec l’approche RoadFeat pour chaque objet.
En conclusion, les primitives spécifiques à l’environnement urbain sont sélectionnées en priorité
au prix d’une augmentation des temps de calcul. Dans le système final, il sera important de
n’évaluer que les descripteurs ayant un impact suffisant sur la classification.

6.2.3

Évaluation de la classification des objets détectés

Au cours de cette section, les performances des trois méthodes de classification introduites à la
section 6.2.1 sont évaluées et présentées sur la Figure 6.6.
La classification par SVM est la méthode avec les moins bonnes performances pour chacune des
classes et est jugée peu performante pour classifier les obstacles routiers.
La Figure 6.6 montre les performances de classification pour chaque classe. Sur cette figure,

Chapitre 6 Évaluation des solutions proposées

179

1
0.9
0.8

Précision

0.7
0.6
0.5
0.4
0.3

Arras
RoadFeat+Adaboost
RoadFeat+SVM

0.2
0.1
0
0

0.1

0.2

Piéton

0.3

0.4

Véhicule

0.5
Rappel

0.6

Cycliste

0.7

0.8

0.9

1

Obstacle Statique

Figure 6.6: Précision-Rappel

nous observons que l’ensemble RoadFeat améliore, et au moins ne dégrade pas, les performances
de Arras pour chaque classe. L’amélioration principale est obtenue pour la classe véhicule pour
laquelle une précision de presque 90% est atteinte pour un rappel de 90%.
Concernant la classe piéton, 80% de précision est obtenue pour un rappel de 70% pour les deux
méthodes. Ces résultats sont plus faibles que ceux présentés par Arras et al. en environnement
intérieur. Ils sont tout de même intéressants concernant la difficulté d’un environnement extérieur
et pourront être améliorés par l’étape d’intégration évaluée durant la prochaine section.
Les performances de classification en fonction du nombre de classifieurs faibles utilisés lors de
l’apprentissage par adaboost sont évaluées depuis la Figure 6.7. Les performances sont logiquement améliorées lorsque le nombre de classifieurs augmente. Cependant, cette amélioration est
différente suivant la classe considérée. Pour la classe véhicule, au-delà de 50 classifieurs faibles,
les effets des nouveaux classifieurs sont minimes. Le gain est important lorsque le nombre de
classifieurs faibles est augmenté de 50 à 100 pour les classes piéton et obstacle statique. En
conséquence, le nombre de 100 classifieurs faibles est la valeur choisie pour assurer un niveau de
performance suffisant pour chacune des classes considérées.

180

Chapitre 6 Évaluation des solutions proposées

1
0.9
0.8

Précision

0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
0

Nombre de classifieurs faibles: 10
Nombre de classifieurs faibles: 20
Nombre de classifieurs faibles: 50
Nombre de classifieurs faibles: 100
0.1

0.2

Piéton

0.3

0.4

Véhicule

0.5
Rappel

0.6

0.7

Cycliste

0.8

0.9

1

Obstacle Statique

Figure 6.7: Précision-Rappel en fonction du nombre de classifieurs faibles

1
0.9
0.8

Précision

0.7
0.6
0.5
0.4
0.3
Hauteur laser : 30 cm
Hauteur laser : 60 cm
Hauteur laser : 100 cm

0.2
0.1
0
0

0.1

0.2

Piéton

0.3

0.4

Véhicule

0.5
Rappel

0.6

Cycliste

0.7

0.8

0.9

1

Obstacle Statique

Figure 6.8: Précision-Rappel en fonction de la hauteur du laser

La Figure 6.8 montre l’influence de la hauteur du laser par rapport au sol sur les performances
de classification. Elle a été produite en entrainant et évaluant la classification pour trois valeurs

Chapitre 6 Évaluation des solutions proposées

181

de hauteurs différentes : basse (30 cm), moyenne (60 cm), haute (100 cm). Les meilleurs résultats
sont obtenus pour la classe piéton lorsque le laser est en position basse ou moyenne. En effet,
lorsque le laser est trop haut, il se peut que les jambes ne soient pas visibles. La hauteur moyenne
est préférée pour classifier les cyclistes car ils sont mieux détectés à cette hauteur. Finalement,
les meilleures performances sont obtenues pour la classe véhicule avec un laser en position haute.
Avec l’émergence des lasers 3D, des approches telles que celles proposées par Spinello et al. [156]
pour la classification des piétons en les représentant en plusieurs parties semblent intéressantes.
Cependant, elles doivent encore être étendues pour gérer le cas multi-classes.

6.2.4

Évaluation de la classification des pistes

L’intégration des valeurs de décision consécutives permet d’attribuer une classe à chacune des
pistes.

Figure 6.9: Matrice de confusion des pistes

La Figure 6.9 évalue les performance du système de classification d’obstacles par une matrice de
confusion. Pour cette évaluation, nous avons considéré uniquement les pistes observées plus de
dix fois pour créer une vérité terrain pour chacune des classes. La classe estimée pour chaque
piste est celle qui a été estimée quand toute l’information est intégrée, i.e., à la fin de l’expérience.

182

Chapitre 6 Évaluation des solutions proposées

L’exactitude de la méthode de classification est de 87.4% ce qui est prometteur en considérant les
défis proposés par une classification multi-classes. Nous remarquons également une seule erreur
de classification et une fausse alarme pour la classe véhicule. Pour la classe piéton, les erreurs
sont plus élevées avec trois mauvaises classifications et sept fausses alarmes. Le peu de données
pour la classe cycliste rend difficile toute interprétation. Finalement, la Figure 6.9 montre que six
obstacles statiques sont classifiés comme piétons, ce qui est la plus grande source de confusion.

6.2.5

Conclusion

Au cours de cette section, la classification d’obstacles à partir de données laser 2D a été évaluée.
L’ensemble RoadFeat des primitives spécifiques aux usagers de la route offre des performances
de classification plus élevées que l’état de l’art, en particulier pour les véhicules. Cependant,
ces performances ne sont pas assez élevées pour satisfaire les exigences d’un système de protection des vulnérables. L’intégration temporelle des classifications successives d’un obstacle donné
permet de mieux établir sa classe et rend le système plus robuste aux mauvaises détections et
classifications.
Finalement, nous avons pu caractériser le système de classification, ce qui est important pour la
communication V2P qui nécessite une reconnaissance du contexte autour du véhicule.

6.3
6.3.1

Communication véhicules-piétons
Introduction

La communication V2P est évaluée sur le site d’INRIA à partir des équipements décrits dans la
section 6.1.3.
Ces expériences sont destinées à évaluer l’applicabilité de la communication de type Wi-Fi pour
assurer la protection des usagers vulnérables.
Pour cela, la configuration suivante est sélectionnée au niveau du véhicule :

Chapitre 6 Évaluation des solutions proposées

183

- GPS RTK
- GPS « standard »
- Communications 802.11g
Le piéton est équipé d’une tablette Samsung Galaxy Tab2 10.1 sur laquelle est installée l’application V2ProVu permettant de recevoir les messages du véhicule. Un système de positionnement
par GPS « standard » est fourni sur cette tablette. De plus, nous supposons au cours de cette
expérience, qu’en activant l’application, le véhicule et le piéton sont initialement connectés au
même réseau.
Pour collecter un nombre suffisant de données à différentes distances entre le véhicule et le
piéton, le véhicule est stationné et le piéton s’éloigne en marchant (à une vitesse approximative
de 1 m/s) en suivant le chemin décrit sur la Figure 6.3 sur une distance d’environ 500 m.
Durant cette expérience, le véhicule émet des paquets de données de 110 octets à la fréquence
GPS de 1 Hz, à une vitesse de codage de 12.0 Mbps et avec une puissance de transmission de
27 dBm. Le piéton reçoit ces paquets sur la tablette et nous évaluons les performances pour les
deux scénarios suivants :

(1) Scénario 1 - Le piéton tient la tablette devant son corps. Dans ce cas, le corps humain
bloque le signal émis depuis le véhicule.
(2) Scénario 2 - Le piéton transporte la tablette dans son sac à dos, ce qui résulte dans le
blocage du signal uniquement par le coton du sac.

6.3.2
6.3.2.1

Performance du Wi-Fi pour la communication V2P
Taux de Réception Correcte des Paquets (PDR)

La Figure 6.10 montre le taux de réception correcte des paquets (PDR) envoyés par le véhicule
pour les deux scénarios. Le PDR est calculé comme le ratio entre les paquets reçus par le

184

Chapitre 6 Évaluation des solutions proposées

1

Scénario 1
Scénario 2

0.9
0.8

Seuil strict

PDR

0.7
0.6
0.5
0.4
0.3
Seuil relâché

0.2
0.1

60

100

140

180

220

260

distance [m]

300

340

380

420

460

500

Figure 6.10: Taux de réception correcte des paquets (PDR)

piéton et ceux émis par le véhicule et est exprimé en fonction de la distance véhicule-piéton. La
communication V2P a la capacité d’atteindre une distance supérieure à 400 m. À cette distance,
le PDR pour le scénario 1 est seulement de 30%, alors qu’il est de 60% pour le scénario 2, ce qui
indique clairement l’impact significatif du blocage du signal par le corps humain.
Finalement, le PDR décroit avec l’augmentation de la distance pour les deux scénarios. Les
résultats montrent que pour atteindre 80% de PDR, la distance doit être inférieure à 130 m pour
le scénario 1, et à 305 m pour le scénario 2.

6.3.2.2

Temps d’Inter-Réception des Paquets (PIR)

Durant ces expériences, nous avons observé un retard de communication assez faible (approximativement 10 ms) indépendant de la distance V2P. Une métrique importante pour évaluer les
applications de sécurité est le temps d’inter-réception des paquets (PIR), qui indique l’intervalle de temps pendant lequel le récepteur n’a aucune mise à jour des informations [157]. Le

Chapitre 6 Évaluation des solutions proposées

185

0.5

0.4
P(PIR>k|d>dth)

P(PIR>k|d>dth)

0.4

0.5
k=1
k=2
k=3
k=5

0.3
0.2
0.1
0
0

0.3

k=1
k=2
k=3
k=5

0.2
0.1

50

100

dth

150

200

250

0
0

(a) Scénario 1

50

100

dth

150

200

250

(b) Scénario 2

Figure 6.11: Probabilité de ne pas recevoir plus de k paquets consécutifs

délai de transmission étant minime comparé à la fréquence de transmission (1 Hz), le PIR est
approximativement k s, où k est un entier.
En s’appuyant sur nos résultats expérimentaux, les Figure 6.11a et 6.11b établissent la fonction de
distribution cumulée p(P IR > k|d > dth ) pour les deux scénarios. Cette fonction est interprétée
comme la probabilité de ne pas recevoir plus de k CAMs consécutifs, lorsque la distance entre le
véhicule et le piéton est supérieure à dth . Notons que l’axe horizontal des figures représente dth .
Les résultats montrent que la probabilité p(P IR > k|d > dth ) augmente avec dth et est plus
élevée pour des faibles valeurs de k. Finalement, la probabilité de ne pas recevoir plus de 6 CAMs
consécutifs est faible et peut être négligée.

6.3.3

Précision du positionnement par GPS

Durant ces expériences, les CAMs transmis par le véhicule sont construit à partir du positionnement obtenu depuis un GPS « standard » bon marché. Or, un GPS RTK fournissant une
position précise à l’ordre de quelques centimètres est monté sur la plateforme expérimentale.
Ainsi, nous avons étudié l’exactitude du positionnement par GPS.
Le pire scénario concernant le positionnement est certainement celui pour lequel aucune information GPS n’est disponible, par exemple, en cas de mauvaises conditions climatiques. Les

Histogramme

Histogramme

Histogramme

186

Chapitre 6 Évaluation des solutions proposées

0.4

0.2

0
−6

−4

−2

0

Erreur longitudinale [m]

2

4

6

0.2

0.1

0
−12

−10

−8

−6

−4

−2

Erreur latérale [m]

0

2

4

6

0.2
Seuil à 95 %
de l’erreur GPS

0.1

0
0

2

4

6

8

Erreur en distance [m]

10

12

14

Figure 6.12: Histogramme des erreurs GPS en position longitudinale et latérale, et en distance

expériences présentées dans cette section ont eu lieu pendant des journées ensoleillées dans un
environnement dégagé, ce qui nous fait dire qu’elle correspondent à des conditions favorables.
La Figure 6.12 montre l’histogramme des erreurs de positionnement longitudinale et latérale, et
en distance par rapport à la vérité terrain. De manière similaire à l’étude menée dans l’article
[147], nous observons une erreur GPS plus élevée dans la direction latérale que longitudinale. Si
nous considérons 95% de l’erreur GPS en terme de distance, alors la précision du positionnement
par GPS est approximativement de 10 m.
En conclusion, cette évaluation confirme que les récepteurs GPS embarqués par les dispositifs
piétons et intégrés sur les véhicules ne satisfont pas les exigences d’une application de sécurité
routière.

Chapitre 6 Évaluation des solutions proposées

6.3.4

187

Applicabilité du Wi-Fi pour la protection de vulnérables

En s’inspirant de [157], nous avons suivi une analyse basée sur les résultats de nos expériences
pour évaluer si un système de communication Wi-Fi a la capacité de satisfaire les exigences
décrites dans la section 2.1.3 pour une application de protection des piétons. Plus précisément, il
a été évalué si un tel système permet d’alerter à temps les usagers vulnérables pour qu’ils puissent
se mettre en sécurité en cas de danger. Nous calculons tout d’abord la distance minimale dmin
à laquelle une information doit être reçue, puis, la probabilité d’alerter le piéton avant cette
distance, PA (dmin ).
D’après les résultats présentés précédemment et ceux introduits dans [147], les erreurs de positionnement par GPS pour le véhicule ErrV et pour le piéton ErrP sont établies comme suit,
ErrV ≈ ErrP ≈ 10 m.
En suivant la valeur proposée dans [121], un être humain a besoin d’environ 0.83 s pour comprendre le sens de l’information fournie par la communication V2P (tp = 0.83 s).
Le temps de réaction, i.e., le temps requis pour réagir (e.g., éviter la collision) dépend de la
situation. Cependant, le pire cas consiste au piéton se trouvant au milieu de la route et tr est
le temps nécessaire pour traverser la moitié de la route. En considérant une largeur de route de
3 m et la vitesse d’un piéton de 1 m/s, le temps de réaction devient tr = 1.5 s.
D’après nos expériences et les résultats fournis par [122], les délais de communications sont
approximativement de 10 ms. En combinant toutes ces données, la valeur dmin vaut 39.5, 52.3
et 72.0 m quand la vitesse du véhicule est respectivement de 30, 50, et 80 km/h.
Comme le véhicule émet périodiquement un message, nous considérons que la transmission du
message i a eu lieu pour une distance véhicule-piéton di . Ainsi, le statut de réception d’un
message à une distance d donnée pour laquelle di+1 > d > di (notons que si j > i, alors dj > di ),
est la même que la réception à di+1 . Il est réaliste de définir que pour une distance véhicule-piéton
d ( di+1 > d > di ) donnée, si aucun des k messages consécutifs i + k, i + k − 1,...,i + 2,i + 1, n’est
reçu, alors le piéton n’est pas informé de l’existence du véhicule. En considérant la probabilité

Chapitre 6 Évaluation des solutions proposées

1

1

0.95

0.95
PA(dmin)

PA(dmin)

188

0.9
v=30km/h dmin=39.5m
v=50km/h dmin=52.3m

0.85

0.9
v=30km/h d
0.85

v=80km/h dmin=72.0m

v=80km/h dmin=72.0m
0.8
1

2

3
k

4

=39.5m

min

v=50km/h dmin=52.3m

5

0.8
1

(a) Scénario 1

2

3
k

4

5

(b) Scénario 2

Figure 6.13: Probabilité d’être informé à la distance dmin

de recevoir un message à di comme étant P DR(di ), la probabilité d’être informé à la distance
dmin est :

PA (dmin ) = 1 − P¯A (dmin ) = 1 −

k
Y
(1 − P DR(di )),

(6.1)

i=1

où
di = dmin +

v×i
.
ftx

(6.2)

Ici, ftx est la fréquence de génération des CAMs. Comme une transmission ne se produit pas
exactement à di (dans l’équation (6.2)), la valeur P DR(di ) est la valeur moyenne du PDR pour
la portée dans l’intervalle ]di−1 , di ].
La Figure 6.13 affiche la probabilité d’être informé à la distance dmin pour différentes valeurs
de k. Ici, ftx vaut 1 Hz. La probabilité d’être informé est très élevée (supérieure à 0.8) pour
n’importe quelle vitesse et scénario. Pour obtenir une probabilité de 1, cependant, k doit être
supérieur à 3, ce qui implique un besoin d’augmenter la fréquence de transmission.
À partir des résultats de la Figure 6.13, l’horizon temporel, th , présenté dans la section 5.4.4
pour l’application V2ProVu est choisi en considérant que la valeur kth vaut 3. th vaut alors 5.5 s
dans ce système.

Chapitre 6 Évaluation des solutions proposées

189

En conclusion, la communication Wi-Fi a la capacité de satisfaire les exigences pour une application de protection des vulnérables. Cependant, la fréquence de transmission doit être augmentée
au-delà de 1 Hz pour assurer la réception des informations à temps.

6.4

Coopération perception/communication pour la protection
des vulnérables

6.4.1

Introduction

Pour expérimenter l’approche coopérative que nous proposons, la plateforme disponible à INRIA
(voir Figure 6.2) est utilisée sur le campus de l’institut (voir Figure 6.3). Au cours de ces
expériences, le véhicule approche un piéton depuis une distance de 500 m avec une vitesse valant
approximativement 4 m/s. Les deux scénarios suivants, correspondants aux cas d’usage de la
section 2.1.2, sont évalués :

- pas d’obstacle présent entre le véhicule et le piéton (LOS),
- le piéton se tient derrière un véhicule garé ayant une hauteur de 2 m (NLOS).
Tableau 6.3: Configuration des expérimentations sur la coopération perception/communication

Véhicule
Piéton
Caractéristiques
Communes

Module de perception des vulnérables (section 3.2)
Application V2ProVu pour la protection des vulnérables (section 5.4)
Communication Wi-Fi ad-hoc
Positionnement par GPS

Le Tableau 6.3 liste les fonctionnalités implémentées par le véhicule et dans le dispositif du
piéton.
Du côté du véhicule, des mesures laser sont obtenues toutes les 100 ms. La mise à jour de ces
données déclenche l’estimation d’une nouvelle position pour le véhicule. Ainsi, des paquets de
200 octets de données sont émis comme CAMs toutes les 100 ms à une puissance de transmission

190

Chapitre 6 Évaluation des solutions proposées

de 24dBm et une vitesse de codage de 1Mbps. Cette implémentation de CAM n’est pas l’implémentation standardisée (paquet de 300 octets à 6Mbps), mais elle correspond à notre application
V2ProVu et ne doit pas influencer l’évaluation des performances pour la diffusion des messages
au niveau physique.
Le piéton est équipé de l’application V2ProVu avec la capacité de recevoir les messages envoyés
depuis le véhicule et de répondre à ces messages en transmettant lui-même sa position et sa dynamique. Chacune des expériences est répétée plusieurs fois (plus que quatre) pour les conditions
LOS et NLOS.
Lors de l’investigation des résultats, la distance entre le piéton et le véhicule est découpée en
tranches de 20 m, et les performances moyennes (détection du piéton et positionnement relatif)
sont évaluées pour chacune de ces tranches de distance. Comme nous avons conduit en ligne
droite à une vitesse presque constante, le temps avant collision (TTC) évolue linéairement. En
effet, l’intervalle de confiance du TTC est de 0.06s, ce qui est une variation très faible. De cette
manière, les performances moyennes sont calculées à partir des différents tests.

6.4.2

Résultats qualitatifs

Au cours de cette section, nous analysons qualitativement et visuellement les limites de la perception et de la communication.
La Figure 6.14 montre individuellement les capacités et les limites des approches considérées. Le
rectangle blanc (Figures 6.14a, 6.14c, 6.14d) illustre le véhicule cherchant à détecter les vulnérables. Le cercle bleu (Figures 6.14a, 6.14c, 6.14d) est la position du piéton comme annoncée par
la communication V2P. Les cercles rouge (Figure 6.14a) et orange (Figure 6.14d) sont respectivement les positions du piéton et d’un obstacle occultant détectés et reconnus par le système de
perception laser-caméra.
Les Figures 6.14a et 6.14b illustrent le résultat de la détection d’un piéton par la présence
d’impacts laser et la reconnaissance d’un corps humain dans l’image dans des conditions LOS.
Comme le montre la Figure 6.14a, alors que le piéton est détecté à la droite du véhicule, la

Chapitre 6 Évaluation des solutions proposées

191

(a) Détection de piéton en LOS.

(b) Détection depuis la caméra.

(c) Détection depuis V2P en LOS.

(d) Détection de piéton en NLOS.

Impacts lasers
Détection basée sur la perception
Détection basée sur la communication
Obstacle occultant
Figure 6.14: Détection d’obstacles dans diverses conditions.

communication annonce sa position à gauche du véhicule. Le positionnement à partir de données
laser est très fiable, cet exemple représente alors la faiblesse du système de communication due
aux erreurs des données GPS.
Sur la Figure 6.14c, la distance entre le véhicule et le piéton est supérieure à 80 m. Ici, le système
de communication annonce l’existence d’un piéton, mais le système de perception ne peut le
détecter parce que les impacts laser sur le piéton sont trop clairsemés. De manière similaire,
la Figure 6.14d illustre le cas où le piéton est masqué par un obstacle occultant. Ici encore,
la communication peut détecter le piéton alors que le système de perception en est incapable.
Néanmoins, le système de perception détecte l’obstacle occultant avec succès.

192

Chapitre 6 Évaluation des solutions proposées

Pour résumer, les limites des systèmes considérés individuellement sont :

- la fiabilité du système de communication V2P est dégradée à cause des erreurs des données
GPS (Figure 6.14a),
- la capacité de détecter des piétons est limitée par le champ de vision des capteurs pour le
système de perception (Figure 6.14c),
- la capacité de détecter les piétons est limitée pour le système de perception par la présence
d’obstacles bloquant la ligne de vue vers le piéton (Figure 6.14d).

6.4.3

Évaluation des capacités de détection

1
Communication (Théorique)
Perception (Théorique)
Communication (LOS)
Perception (LOS)
Communication (NLOS)
Perception (NLOS)

0.9

Detection probability

0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0

20

60

100

140

180

220

260

300

distance [m]

340

380

420

460

500

Figure 6.15: Capacité de détection des systèmes de perception et communication dans des
conditions LOS et NLOS.

Cette section évalue les capacités de détection des systèmes de perception et de communication.
Les résultats obtenus depuis les expérimentations sont comparés pour les scénarios LOS et NLOS.

Chapitre 6 Évaluation des solutions proposées

193

Le PDR est utilisé pour la communication V2P. Les courbes théoriques sont calculées depuis les
modèles introduits dans la section 5.2.1. Pour le calcul du rapport SNR, la perte sur le lien de
communication est modélisée à une distance d par le modèle two-ray ground :

 20log (4π d ),
10
λ
Loss(d)[dB] =
 20log10 ( d2 ),
Ht Hr

si d ≤ dc

(6.3)

sinon

Ici, λ est la longueur d’onde, Ht et Hr sont respectivement les hauteurs des antennes des émetteurs et récepteurs, et dc est la distance de coupure.
La Figure 6.15 compare les capacités de détection des piétons. La probabilité de détection du
système de perception en LOS suit très bien le modèle théorique. Bien que les courbes ont
des formes similaires pour le système de communication, l’écart entre les courbes théoriques et
pratiques est important à cause d’une perte élevée de paquets rencontrée durant nos tests. Cette
perte provient très probablement d’une surcharge au niveau du traitement logiciel.
Les capacités de détection sont affaiblies avec les conditions NLOS pour les systèmes de communication et de perception. L’écart est particulièrement important pour le système de perception
pour lequel la distance de détection est réduite à 40 m et la probabilité de détection reste endessous de 70% à cause des occultations. Pour la communication V2P, les performances sont
fortement dégradées pour des distances supérieures à 60 m.
Lorsque la distance est inférieure à 40 m, les performances de la communication sont légèrement
supérieures en NLOS que en LOS. Or, à une telle distance, nous pouvons douter que notre
expérience représente parfaitement un scénario NLOS. En effet, les performances de la perception
en NLOS devraient être parfaitement nulles alors que le piéton est parfois détecté en dessous de
40 m. En conclusion, à cette distance, les scénarios LOS et NLOS sont similaires et il devient
impossible de comparer ces conditions.
Pour résumer, le système de perception excelle pour détecter un piéton pour des distances
inférieures à 50 m, alors que la communication fonctionne mieux pour des distances supérieures
à 80 m.

194

6.4.4

Chapitre 6 Évaluation des solutions proposées

Capacité à évaluer la position relative d’un usager vulnérable

RMSE [m]

5
4
3
2
1
0

20

40

distance [m]

60

80

(a) RMSE en position.
10

40

RMSE [°]

RMSE [m]

8
6
4
2
0

20

40

distance [m]

60

30

20

10

0

80

(b) RMSE en distance relative.

20

40

distance [m]

60

80

(c) RMSE en angle relatif.

Figure 6.16: Erreur de positionnement relatif véhicule-piéton.

Les capteurs laser ayant la capacité de localiser très précisément les obstacles, la vérité terrain
est extraite des expériences comme la position estimée à partir des données laser. Ainsi, nous
évaluons la capacité du système de communication à estimer le positionnement relatif entre le
véhicule et le piéton. Notons qu’il est impossible d’avoir la vérité terrain pour le scénario NLOS
car le piéton n’est pas vu par le véhicule. L’évaluation n’est donc menée qu’à partir des scénarios
LOS.
La Figure 6.16a est l’erreur quadratique moyenne (RMSE) de la position relative (i.e., la distance
L
entre LL
per et Lcom dans la section 5.2.3). Cette erreur de position est la distance entre le cercle

bleu et le cercle rouge sur la Figure 6.14a. Comme le montrent les résultats, l’erreur de position
est de 5 m et ne dépend pas de la distance véhicule-piéton.
Les Figures 6.16b et 6.16c sont les erreurs en termes de distance et d’angle en coordonnées
polaires, où le centre est la position du véhicule. Les erreurs de distance et d’angle sont visualisées

Chapitre 6 Évaluation des solutions proposées

195

sur la Figure 6.14a comme les différences de longueur et d’angle des vecteurs vers le cercle bleu
et le cercle rouge (depuis le rectangle blanc). Comme le montre la Figure 6.16b, l’erreur en
distance est constante de 2.5 m. Cependant, l’erreur d’angle augmente avec la diminution de
la distance véhicule-piéton (Figure 6.16c). Une telle erreur peut s’expliquer par l’erreur dans
l’estimation de l’orientation du véhicule et est problématique pour estimer les risques de collision,
particulièrement, à courte distance.

6.4.5

Évaluation d’un système de protection des usagers vulnérables

180
160
140

Communication (LOS)
Communication (NLOS)
Perception (LOS)

Eapp [m]

120
100
80
60
40
20
0

20

40

60

80

100

distance [m]

120

140

160

180

Figure 6.17: Évaluation de l’erreur d’application.

La Figure 6.17 montre l’erreur d’application définie dans l’équation (5.9) où le paramètre η est
fixé à 80 m comme la taille du champ de vision laser. Comme le montre cette figure, pour des
distances au-dessus de 80 m, le système de communication a de meilleures performances car le
système de perception est incapable de détecter des obstacles au-delà de cette distance. Pour
des distances inférieures à 50 m, le système de perception détecte et localise parfaitement les
piétons, alors que le système de communication est sujet à l’erreur du positionnement par GPS.
Pour des distances comprises entre 50 et 80 m, des erreurs non négligeables sont présentes pour

196

Chapitre 6 Évaluation des solutions proposées

les systèmes de perception et de communication. Pour cette plage de distance, le mécanisme
de fusion entre la perception et la communication a le potentiel pour améliorer la fiabilité du
système de protection des usagers vulnérables.
En conclusion, nous avons étudié les caractéristiques des systèmes de perception et de communication pour la protection des usagers vulnérables. Les modèles théoriques montrent que le
système de perception détecte et localise les piétons et les autres obstacles jusqu’à une distance
de 50 m, mais est incapable de détecter les piétons trop éloignés des capteurs ou masqués par
un obstacle. Le système de communication fournit un champ de vision étendu même dans des
conditions NLOS et contribue à détecter les piétons situés à une distance supérieure à 80 m.

6.5

Conclusion

Au cours de ce chapitre, une évaluation des fonctions du système proposé durant cette thèse
met en avant les caractéristiques suivantes :
- classification d’obstacles routiers à partir de données laser,
- performances d’un système Wi-Fi pour la communication V2P,
- étude comparative des moyens de perception et de communication pour la protection des
vulnérables.
Dans une première partie, nous avons évalué le système de classification multi-classes d’obstacles
routiers sur la base de données Kitti. Nous avons montré comment la définition de primitives
adaptées aux obstacles routiers permet d’améliorer la classification et comment l’intégration des
valeurs de classification successives permet de mieux estimer la classe d’un obstacle au cours
du temps. Ce système présente de nombreuses erreurs qu’il est intéressant de caractériser pour
ensuite mieux gérer la fusion avec les informations issues de la communication.
Dans une deuxième partie, nous avons étudié les performances de la communication par WiFi appliquée à la communication V2P. Nous avons montré qu’une telle approche permet de

Chapitre 6 Évaluation des solutions proposées

197

satisfaire les exigences pour alerter les usagers vulnérables de la présence d’un véhicule même
à une vitesse relativement élevée. Cependant, pour satisfaire complètement ces exigences, il est
nécessaire d’augmenter la transmission des messages au delà de 1 Hz.
Dans une troisième partie, nous avons étudié les performances des systèmes de perception et de
communication pour la protection des usagers vulnérables. Nous avons démontré que le système
de perception est préférable à courte distance pour éviter une collision sur le point de se produire
car il permet de détecter et de localiser les piétons de manière fiable dans ces conditions. Le
système de communication est intéressant pour augmenter le champ de vision du véhicule et
permet de prévoir plus en amont les risques de collision en avertissant conjointement les piétons
et les véhicules des dangers potentiels.

7
Conclusion et Perspectives

7.1

Conclusion générale

La coopération entre usagers de la route est une nouvelle étape pour les systèmes de transports
intelligents (ITS) afin de dépasser les limites des solutions actuelles et pour traiter des scénarios de plus en plus complexes pour lesquels de nombreux usagers sont impliqués. La sécurité
routière est un objectif important des ITS et est abordée par des solutions coopératives qui ont
la capacité de lever des incertitudes relatives au masquage des usagers en scénarios urbains. En
particulier, un système coopératif de protection des vulnérables peut utiliser à la fois les traitements embarqués au sein des véhicules ainsi que la communication véhicules-piétons (V2P)

199

200

Chapitre 7 Conclusion et Perspectives

s’appuyant sur la communication véhiculaire et les smartphones des usagers vulnérables. Une
telle solution montre une nécessité d’accroı̂tre la coopération entre les modules de perception et
de communication pour mieux prendre en compte les contraintes des scénarios urbains.
La perception des usagers vulnérables depuis les véhicules nécessite la détection, la classification
et le pistage des obstacles dynamiques. De nombreux systèmes traitant ce problème ont été proposés au cours des dernières années et disposent de performances de plus en plus satisfaisantes.
Cependant, certains scénarios ne peuvent être abordés correctement avec les systèmes de perception et requièrent une information externe obtenue par des moyens de communication. La
classification des obstacles entourant le véhicule est une tâche primordiale pour mieux évaluer la
situation et prendre conscience des dangers. La classification des vulnérables permet de mieux
assurer leur protection et la classification des véhicules permet de détecter des zones d’occultation derrière lesquelles des usagers vulnérables peuvent être en danger. Dans cette thèse, nous
avons montré comment les obstacles routiers peuvent être classifiés à partir de données laser en
définissant des primitives spécifiques à ces objets et en estimant la classe de façon bayésienne.
Notre méthode a été évaluée sur une base publique et a montré une exactitude de 87.4 %.
La communication V2P émerge dans le domaine de la communication véhiculaire. Ce mode
de communication ne dispose pour le moment d’aucun standard, au contraire des communications véhicules-véhicules (V2V) et véhicules-infrastructure (V2I). Il repose toutefois sur des
contraintes fortes dues aux ressources énergétiques limitées des dispositifs transportés par les
piétons. Dans le futur, le canal de communication véhiculaire sera fortement congestionné par les
messages pour la communication V2V. Donc, la communication V2P doit au maximum profiter
des standards déjà proposés pour le mode V2V et ne pas surcharger encore plus le canal. Nous
proposons une architecture pour la communication V2P qui prend en compte ces contraintes
et limite l’émission de messages depuis les piétons. Pour cela, des aires géographiques de dissémination sont proposées afin de filtrer les messages au niveau du piéton à partir de sa propre
position. De cette manière, la quantité de messages échangés est diminuée. Nous avons démontré
comment calculer les aires de dissémination à partir de la dynamique du véhicule et lorsqu’un
obstacle occultant est détecté. Finalement, nous avons montré l’applicabilité du Wi-Fi pour la
communication V2P afin d’alerter un usager vulnérable suffisamment tôt avant une collision.

Chapitre 7 Conclusion et Perspectives

201

Toutefois, il est nécessaire de transmettre les messages d’information avec une fréquence assez
élevée (supérieure à 1 Hz).
Un système coopératif combinant à la fois perception et communication a la capacité de traiter
les scénarios les plus complexes grâce à la faculté de la perception pour localiser et détecter précisément les obstacles proches du véhicule et de la communication pour signaler la présence des
usagers non visibles depuis le véhicule. Cependant, les positions GPS échangées avec les moyens
de communication sont trop imprécises pour correctement positionner les usagers vulnérables
par rapport au véhicule. Une fusion entre les informations de communication et de perception
est donc proposée et doit permettre de reconnaı̂tre les situations parmi lesquelles un usager vulnérable perçu est aussi communicant et un usager vulnérable communicant est masqué par un
autre obstacle. Nous avons démontré comment une association multi-hypothèses peut être mise
en œuvre pour la fusion perception/coopération. Finalement, nous avons introduit une application destinée à protéger les usagers vulnérables en les informant des véhicules présents dans leur
environnement et en les alertant en cas de danger.

7.2

Perspectives

Ce travail s’est limité à des scénarios trop simples pour lesquels uniquement un véhicule et un
piéton assurent mutuellement leur sécurité. Il offre de nombreuses perspectives pour les systèmes
coopératifs.
Dans le domaine de la perception, la fusion multi-capteurs doit être étudiée de manière plus
approfondie avec notamment des propositions pour la fusion haut niveau, i.e., la fusion depuis
les informations relatives aux décisions de chaque capteur. Dans la thèse, nous avons présenté
les mécanismes existants pour la classification par caméra et proposé une méthode de classification à partir de données laser. Une fusion des données extraites par ces deux approches est
envisagée pour améliorer la compréhension de l’environnement autour du véhicule. Des modèles capteurs plus génériques et prenant mieux en compte les diverses conditions d’occultation
doivent fournir une meilleure description du système de perception et permettre d’améliorer la

202

Chapitre 7 Conclusion et Perspectives

fusion d’information multi-sources. Le suivi des usagers détectés à un moment donné, mais qui
peuvent disparaitre du champ de vision à cause des occultations créées par les autres obstacles,
est également une étape à considérer depuis la modélisation du système de perception.
La solution de communication V2P proposée dans la thèse filtre les messages en fonction des
coordonnées géographiques et limite l’émission de données pour les usagers vulnérables. Une
simulation de cette solution suivant plusieurs paramètres tels que la densité de véhicules et
d’usagers vulnérables est envisagée pour mesurer le gain d’une telle approche par rapport à une
solution pour laquelle tous les usagers émettent des CAMs. Des scénarios comprenant plusieurs
véhicules et usagers vulnérables sont requis pour évaluer l’algorithme de routage géographique
proposé. Avec le système actuel, tous les piétons recevant des messages depuis un véhicule lui
répondent. Or, les usagers vulnérables forment très souvent des groupes lorsqu’il se déplacent
en milieu urbain. Cette caractéristique peut être exploitée dans le futur pour désigner un seul
piéton responsable de la communication V2P auprès de tout un groupe d’usagers vulnérables
et améliorer ce mode de communication en terme de consommation d’énergie sur les dispositifs
piétons.
Les connaissances apportées par la perception ont le potentiel pour modifier de manière encore
plus significative la communication véhiculaire en agissant sur les protocoles implémentés par
chacune de couches des l’architecture ETSI ITS. La priorité des messages créés par la couche
application est généralement statique, alors qu’en réalité elle peut être attribuée dynamiquement
par le système en fonction de ses besoins. L’attribution de priorités aux messages peut se faire
en fonction de la perception qui détecte des situations plus ou moins urgentes.
Le système coopératif proposé dans la thèse n’a pas été complètement testé. En effet, nous avons
validé les fonctions le composant, mais des expérimentations plus poussées, particulièrement sur
les fonctions de fusion sont envisagées. Des scénarios plus complexes comprenant plus d’usagers
(deux piétons, un piéton et un cycliste,...) doivent être évalués pour mettre en avant la capacité
d’une telle approche à détecter les situations à risques et à éviter les fausses alarmes. La solution
de routage géographique que nous avons envisagée n’a également pas pu être évaluée car elle
nécessite la présence de nombreux usagers, ce qui ne peut être évalué que par des moyens de

Chapitre 7 Conclusion et Perspectives

203

simulation adaptés. Or, des tels simulateurs combinant à la fois la perception et la communication
sont pour le moment inaccessibles. Le développement de tels outils de simulation apparait comme
un besoin nécessaire pour tester les futurs systèmes coopératifs.
Des scénarios comprenant de nombreux usagers font apparaı̂tre des ambiguı̈tés pour discerner
chaque personne et identifier précisément celle avec laquelle le véhicule risque d’entrer en collision. L’utilisation des données de vitesse des usagers vulnérables ou de trajectoire prédéfinie
peut améliorer l’information de communication et apporter une aide pour la fusion avec la perception. Une communication au sein d’un groupe de piétons permet de développer des méthodes
de localisation coopérative entre les usagers vulnérables. Nous pouvons imaginer cartographier
les piétons situés dans un même groupe et fusionner ces données, transmises par communication
V2P, avec la perception effectuée par le système véhiculaire pour identifier chaque usager vulnérable communicant. Une telle approche propose un défi important si l’on considère que tous
les usagers vulnérables ne sont pas obligatoirement communicants.

A
Intersection des trajectoires piéton et
véhicule

205

206

Annexe A Intersection des trajectoires piéton et véhicule

Algorithme 5 : Calcul du point d’intersection entre les trajectoires piéton et véhicule
Entrées : vV , ωV : vitesses longitudinale et angulaire du véhicule
L
xL
vru , yvru , tvru : position du VRU par rapport au véhicule et instant de la position
L : vitesse absolue et orientation du VRU par rapport au véhicule
vvru , θvru
Sorties : xint , yint , tint : coordonnées et instant du point d’intersection auquel le VRU arrive
si ω 6= 0 alors
Calculer RS , r , xS et yS avec l’équation. (4.1);
L 6= −90 et θ L 6= +90 alors
si θvru
vru
L ), b = 2((tan(θ L ) (y L − xL tan(θ L ) − y ) − x ), c =
Définir a = 1 + tan2 (θvru
S
S
vru
vru
vru
vru
L
L
L
(yvru − xvru tan(θvru ) − yS )2 + x2S ;
Calculer ∆ = b2 − 4ac;
si ∆ > 0 alors
Calculer xint1 =
tint2 =

√
−b− ∆
, tint1
2a

xint2 −xL
vru
L )
vvru cos(θvru

Définir tint =

=

xint1 −xL
vru
L )
vvru cos(θvru

+ tvru et xint2 =

√
−b+ ∆
,
2a

+ tvru ;

min

tint >+tvru

(tint1 , tint2 ) et choisir xint ← xvru (tint );

L
L
Calculer yint = (xint − xL
vru ) tan(θvru ) + yvru ;

sinon si ∆ = 0 alors
L
L
L
Calculer xint = −b
2a , yint = (xint − xvru ) tan(θvru ) + yvru et tint =

xint −xL
vru
L )
vvru cos(θvru

sinon
Pas d’intersection - Arrêter l’évaluation du risque;
sinon
2
2
Définir a = 1, b = −2yS , c = (xL
vru − xS ) + yS ;
2
Calculer ∆ = b − 4ac;
si ∆ > 0 alors

√
L ) (y
L
sign(θvru
int1 −yvru )
−b− ∆
, tint1 =
2a
vvry
L
L ) (y
sign(θvru
int2 −yvru )
+ tvru ;
vvry

Calculer yint1 =
tint2 =

Définir tint =
Calculer

+ tvru et yint2 =

min (tint1 , tint2 ) et choisir xint ← x(tint );

tint >tvru
xint = xL
vru ;

sinon si ∆ = 0 alors
L
L
Calculer yint = −b
2a , xint = xvru et tint = yint − yvru + tvru ;
sinon
Pas d’intersection - Arrêter l’évaluation du risque;
sinon
L 6= 0 alors
si θvru
L 6= −90 et θ L 6= +90 alors
si θvru
vru
L
yvru
Calculer xint = xL
vru − tan(θL ) , yint = 0, tint =
vru

sinon
Calculer xint = xL
vru , yint = 0, tint =

xint −xL
vru
L )
vvru cos(θvru

L ) yL
−sign(θvru
vru
vvru

sinon
si xL
vru 6= 0 alors
Pas d’intersection - Arrêter l’évaluation du risque;
sinon
Définir xint = 0, yint = 0, tint = tvru ;

+ tvru ;

+ tvru ;

√
−b+ ∆
,
2a

+ tvru ;

Bibliographie

[1] European Commission :

ITS & Vulnerable Road Users.

http://ec.europa.eu/

transport/themes/its/road/action_plan/its_and_vulnerable_road_users_en.htm,
2012. [En ligne ; accès le 2013-04-19].
[2] WHO : Global Status Report On Road Safety 2013 : supporting a decade of action.
Rapport technique, World Health Organization, 2013.
[3] ONISR : La sécurité routière en france Bilan de l’année 2010. Rapport technique, Observatoire national interministériel de sécurité routière, 2011.
[4] Renzo Cicilloni, Stefan Deutschle, Karen Minna Oltersdorf et Dariu Gavrila :
Results Of Vulnerable Road User Protection System In Protector. In ITS World Congress,
2003.
[5] M.-M. Meinecke, M. A. Obojski, M. Tons, R. Doerfler, P. Marchal, L. Letellier,
D. Gavrila et R. Morris : Approach For Protection Of Vulnerable Road Users Using
Sensor Fusion Techniques. In International Radar Symposium, 2003.
[6] G. Gate, A. Breheret et F. Nashashibi : Centralized fusion for fast people detection
in dense environment. In IEEE International Conference on Robotics and Automation
(ICRA), 2009.

207

208

BIBLIOGRAPHIE

[7] David Gerónimo, Antonio M. López, Angel D. Sappa et Thorsten Graf : Survey of
pedestrian detection for advanced driver assistance systems. IEEE transactions on pattern
analysis and machine intelligence, 32(7), 2010.
[8] P. Dollar, C. Wojek, B. Schiele et P. Perona : Pedestrian Detection : An Evaluation
of the State of the Art. IEEE Transactions on Pattern Analysis and Machine Intelligence,
34(4):743–761, 2012.
[9] Vehicle-to-vulnerable road user cooperative communication and sensing technologies to
improve transport safety. http://www.watchover-eu.org. [En ligne ; accès le 2015-02-18].
[10] Ko-TAG

-

Kooperative

Transponder.

http://ko-fas.de/deutsch/ko-tag---

kooperative-sensorik.html. [En ligne ; accès le 2013-07-23].
[11] ETSI EN 302 665 : Intelligent Transport Systems (ITS) ; Communications Architecture,
2010.
[12] ETSI TR 102 638 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
Basic Set of Applications ; Definitions, 2009.
[13] ETSI ES 202 663 : Intelligent Transport Systems (ITS) ; European profile standard for
the physical and medium access control layer of Intelligent Transport Systems operating
in the 5 GHz frequency band, 2009.
[14] ETSI TS 102 636-2 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
GeoNetworking ; Part 2 : Scenarios, 2010.
[15] Sylvain Beauvais et Jean-François Durand : Étude d’enjeux des 2RM en IDF. Rapport
technique, Direction régionale et interdépartementale de l’Équipement et de l’Aménagement Ile-de-France, 2011.
[16] Sylvain Beauvais et Jean-françois Durand : Enjeux de sécurité en agglomération des
usagers ”vulnerables” en Ile-de-France. Rapport technique, Direction régionale et interdépartementale de l’Équipement et de l’Aménagement Ile-de-France, 2012.

BIBLIOGRAPHIE

209

[17] Isabelle Bloch : Fusion d’informations en traitement du signal et des images. Hermes
Science Publications, 2003.
[18] International Telecommunication Union : Information Technology - Open Systems Interconnection - Basic Reference Model : The Basic Model, 1994.
[19] M. Tons et R. Doerfler : Radar sensors and sensor platform used for pedestrian
protection in the EC-funded project SAVE-U. In IEEE Intelligent Vehicles Symposium
(IV), 2004.
[20] P. Marchal : Deliverable 27 : Final report. Rapport technique, SAVE-U, 2005.
[21] G. Gate et F. Nashashibi : Fast algorithm for pedestrian and group of pedestrians
detection using a laser scanner. In IEEE Intelligent Vehicles Symposium (IV), 2009.
[22] S. Gidel, P. Checchin, C. Blanc, T. Chateau et L. Trassoudaine : Pedestrian
Detection and Tracking in an Urban Environment Using a Multilayer Laser Scanner. IEEE
Transactions on Intelligent Transportation Systems, 11(3):579–588, 2010.
[23] L. Leyrit, T. Chateau, C. Tournayre et J.-T. Lapreste : Visual pedestrian recognition inweak classifier space using nonlinear parametric models. In 15th IEEE International
Conference on Image Processing, 2008.
[24] M. Gouiffès, A. Patri et M. Vasiliu : Robust obstacles detection and tracking using
disparity for car driving assistance. In Intelligent Robots and Computer Vision XXVII :
Algorithms and Techniques, 2010.
[25] F. Fayad et V. Cherfaoui : Object-level fusion and confidence management in a multisensor pedestrian tracking system. In IEEE International Conference on Multisensor
Fusion and Integration for Intelligent Systems, 2008.
[26] L. N. Pangop, S. Cornou, F. Chausse, R. Chapuis et S. Bonnet : A Bayesian classification of pedestrians in urban areas : The importance of the data preprocessing. In IEEE
International Conference on Multisensor Fusion and Integration for Intelligent Systems,
2008.

210

BIBLIOGRAPHIE

[27] Abdelaziz Kallel et Sylvie Le Hégarat-Mascle : Combination of partially non-distinct
beliefs : The cautious-adaptive rule. International Journal of Approximate Reasoning,
50(7):1000–1021, 2009.
[28] Luisa Andreone, Filippo Visintainer et Gerd Wanielik : Vulnerable Road Users
thoroughly addressed in accident prevention : the WATCH-OVER European project. In
14th World Congress on Intelligent Transport Systems, 2007.
[29] Luisa Andreone, Filippo Visintainer, Dariu Gavrila, Marcel Konjin et Marco Pieve :
Prevention Of Road Accidents Involving Vulnerable Road Users : The Outcomes Of The
WATCH-OVER European Project. In ITS2009, 2009.
[30] B. Fardi, U. Neubert, N. Giesecke, H. Lietz et G. Wanielik : A fusion concept of
video and communication data for VRU recognition. In 11th International Conference on
Information Fusion, 2008.
[31] Ko-Fas - Kooperative Sensorik und kooperative Perzeption für die Präventive Sicherheit
im Straßenverkehr. http://ko-fas.de. [En ligne ; accès le 2013-07-23].
[32] A. Sikora et M. Schappacher : A highly scalable IEEE802.11p communication and
localization subsystem for autonomous urban driving. In International Conference on
Connected Vehicle and Expo (ICCVE), 2013.
[33] Dirk Lill, Manuel Schappacher, Shahidul Islam et Axel Sikora : Wireless protocol
design for a cooperative pedestrian protection system. Communication Technologies for
Vehicles, pages 119–130, 2011.
[34] T. Gandhi et M.M. Trivedi : Pedestrian Protection Systems : Issues, Survey, and Challenges. IEEE Transactions on Intelligent Transportation Systems, 8(3):413–430, septembre
2007.
[35] Keith Manston : The Challenges Of Using Radar For Pedestrian Detection. In The 16th
JCT Traffic Signal Symposium, 2011.

BIBLIOGRAPHIE

211

[36] Bryan Clarke, Stewart Worrall, Graham Brooker et Eduardo Nebot : Towards
mapping of dynamic environments with FMCW radar. In IEEE Intelligent Vehicles Symposium (IV), 2013.
[37] Fanping Bu et Ching Yao Chan : Pedestrian Detection in Transit Bus Application :
Sensing Technologies and Safety Solutions. In IEEE Intelligent Vehicles Symposium (IV),
2005.
[38] A. Ewald et V. Willhoeft : Laser scanners for obstacle detection in automotive applications. In IEEE Intelligent Vehicles Symposium (IV), 2000.
[39] K. C. Fuerstenberg, K. C. J. Dietmayer et V. Willhoeft : Pedestrian recognition in urban traffic using a vehicle based multilayer laserscanner. In Intelligent Vehicle
Symposium (IV), 2002.
[40] Brent Schwarz : LIDAR : Mapping the world in 3-D. Nature Photonics, 4(7), 2010.
[41] D. M. Gavrila, J. Giebel et S. Munder : Vision-based pedestrian detection : the
PROTECTOR system. In IEEE Intelligent Vehicles Symposium (IV), 2004.
[42] M. Enzweiler et D. M. Gavrila : Monocular Pedestrian Detection : Survey and Experiments. IEEE Transactions on Pattern Analysis and Machine Intelligence, 31(12):2179–
2195, 2009.
[43] M. Bertozzi, A. Broggi et P. Grisleri : Pedestrian detection in infrared images. In
IEEE Intelligent Vehicles Symposium (IV), 2003.
[44] C. Bellotti, F. Bellotti, A. De Gloria, L. Andreone et M. Mariani : Developing
a near infrared based night vision system. In IEEE Intelligent Vehicles Symposium (IV),
2004.
[45] U Franke et A Joos : Real-time stereo vision for urban traffic scene understanding. In
IEEE Intelligent Vehicles Symposium (IV), 2000.

212

BIBLIOGRAPHIE

[46] Raphael Labayrade, Didier Aubert et Jean-Philippe Tarel : Real Time Obstacle Detection in Stereovision on Non Flat Road Geometry Through ”V-disparity” Representation.
In IEEE Intelligent Vehicle Symposium (IV), 2002.
[47] Grant Grubb, Alexander Zelinsky, Lars Nilsson et Magnus Rilbe : 3D vision sensing
for improved pedestrian safety. In IEEE Intelligent Vehicles Symposium (IV), 2004.
[48] Jean-marc Boucher : Décision Statistique, 2012. Télécom Bretagne.
[49] A. Mendes, L. C. Bento et U. Nunes : Multi-target detection and tracking with a laser
scanner. In IEEE Intelligent Vehicles Symposium (IV), 2004.
[50] Fawzi Nashashibi et Alexandre Bargeton : Laser-based vehicles tracking and classification using occlusion reasoning and confidence estimation. In Intelligent Vehicles
Symposium (IV), 2008.
[51] B. Douillard, J. Underwood, N. Kuntz, V. Vlaskine, A. Quadros, P. Morton et
A. Frenkel : On the segmentation of 3D LIDAR point clouds. In IEEE International
Conference on Robotics and Automation (ICRA), 2011.
[52] M. Heuer, A. Al-Hamadi, A. Rain et M. Meinecke : Detection and Tracking Approach
Using an Automotive Radar to Increase Active Pedestrian Safety. In IEEE Intelligent
Vehicles Symposium (IV), 2014.
[53] Constantine Papageorgiou et Tomaso Poggio : A trainable system for object detection.
International Journal of Computer Vision, 38(1):15–33, 2000.
[54] Navneet Dalal et Bill Triggs : Histograms of Oriented Gradients for Human Detection. In IEEE Computer Society Conference on Computer Vision and Pattern Recognition
(CVPR), 2005.
[55] Timo Ojala, Matti Pietikäinen et Topi Mäenpää : Multiresolution Gray-Scale and
Rotation Invariant Texture Classification with Local Binary Patterns. IEEE Transactions
On Pattern Analysis and Machine Intelligence, 24(7):971–987, 2002.

BIBLIOGRAPHIE

213

[56] Xiaoyu Wang, Tony X. Han et Shuicheng Yan : An HOG-LBP human detector with
partial occlusion handling. In IEEE 12th International Conference on Computer Vision,
2009.
[57] A. Broggi, A. Fascioli, M. Carletti, T. Graf et M. Meinecke : A multi-resolution
approach for infrared vision-based pedestrian detection. In IEEE Intelligent Vehicles
Symposium (IV), 2004.
[58] Anil K. Jain, Robert P. W. Duin et Jianchang Mao : Statistical pattern recognition :
A review. IEEE Transactions on Pattern Analysis and Machine Intelligence, 22(1):4–37,
2000.
[59] V. N. Vapnik : An overview of statistical learning theory. IEEE transactions on neural
networks, 10(5):988–999, 1999.
[60] Vladimir N. Vapnik : Statistical learning theory, volume 2. Wiley New York, 1998.
[61] Corinna Cortes et Vladimir Vapnik : Support-Vector Networks. Machine Learning,
20(3):273–297, 1995.
[62] Paul T. Boggs et Jon W. Tolle : Sequential Quadratic Programming. Acta Numerica,
4, 1995.
[63] L. G. Valiant : A theory of the learnable. Communications of the ACM, 27(11):1134–
1142, 1984.
[64] Michael Kearns et Leslie Valiant : Cryptographic limitations on learning Boolean
formulae and finite automata. Journal of the ACM, 41(1):67–95, 1994.
[65] Yoav Freund et Robert E. Schapire : A decision-theoretic generalization of on-line
learning and an application to boosting. In Computational Learning Theory, pages 23–37.
Springer, 1995.
[66] D.M. Gavrila et V. Philomin : Real-time object detection for ”smart” vehicles. In
Proceedings of the Seventh IEEE International Conference on Computer Vision, 1999.

214

BIBLIOGRAPHIE

[67] P. Viola et M. Jones : Rapid object detection using a boosted cascade of simple features. In IEEE Computer Society Conference on Computer Vision and Pattern Recognition
(CVPR), 2001.
[68] Q. Zhu, M.-C. Yeh, K.-T. Cheng et S. Avidan : Fast Human Detection Using a Cascade
of Histograms of Oriented Gradients. In IEEE Computer Society Conference on Computer
Vision and Pattern Recognition (CVPR), 2006.
[69] Dirk Schulz, Wolfram Burgard, Dieter Fox et Armin B. Cremers : People Tracking
with a Mobile Robot Using Sample-based Joint Probabilistic Data Association Filters.
The International Journal of Robotics Research, 22(2):99–116, 2003.
[70] K. O. Arras, O. M. Mozos et W. Burgard : Using Boosted Features for the Detection of
People in 2D Range Data. In IEEE International Conference on Robotics and Automation
(ICRA), 2007.
[71] Luciano Spinello et Roland Siegwart : Human detection using multimodal and multidimensional features. IEEE International Conference on Robotics and Automation (ICRA),
2008.
[72] M Himmelsbach et A Müller : LIDAR-based 3D object perception. In 1st international
workshop on cognition for technical systems, 2008.
[73] Alex Teichman, Jesse Levinson et Sebastian Thrun : Towards 3D object recognition
via classification of arbitrary object tracks. IEEE International Conference on Robotics
and Automation (ICRA), 2011.
[74] L. Spinello, R. Triebel et R. Siegwart : Multiclass Multimodal Detection and Tracking
in Urban Environments. The International Journal of Robotics Research, 29(12):1498–
1515, 2010.
[75] Asma Azim et Olivier Aycard : Layer-based Supervised Classification of Moving Objects
in Outdoor Dynamic Environment using 3D Laser Scanner. In IEEE Intelligent Vehicles
Symposium (IV), 2014.

BIBLIOGRAPHIE

215

[76] A. E. Johnson et M. Hebert : Using spin images for efficient object recognition in
cluttered 3D scenes. IEEE Transactions on Pattern Analysis and Machine Intelligence,
21(5):433–449, 1999.
[77] Rudolph Emil Kalman : A new approach to linear filtering and prediction problems.
Journal of Fluids Engineering, 82(1):35–45, 1960.
[78] Evangeline Pollard : Evaluation de situations dynamiques multicibles par fusion de
données spatio-temporelles. Thèse de doctorat, Université de Grenoble, 2010.
[79] Yaakov Bar-Shalom et Xiao-Rong Li : Multitarget-multisensor tracking : principles and
techniques, volume 19. 1995.
[80] Donald B. Reid : An algorithm for tracking multiple targets. IEEE Transactions on
Automatic Control, 24(6), 1979.
[81] B.V. Dasarathy : Industrial applications of multi-sensor multi-source information fusion.
IEEE International Conference on Industrial Technology, 2000.
[82] B. Fardi, U. Schuenert et G. Wanielik : Shape and motion-based pedestrian detection
in infrared images : a multi sensor approach. In IEEE Intelligent Vehicles Symposium
(IV), 2005.
[83] R. Omar Chavez-garcia, Trung-dung Vu et Olivier Aycard : Fusion at Detection Level
for Frontal Object Perception. In IEEE Intelligent Vehicles Symposium (IV), 2014.
[84] Gonçalo Monteiro, Cristiano Premebida, Paulo Peixoto et Urbano Nunes : Tracking and Classification of Dynamic Obstacles Using Laser Range Finder and Vision. In
IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS), 2006.
[85] Fernando Garcia, Arturo de la Escalera et José Maria Armingol : Joint Probabilistic
Data Association Fusion Approach for Pedestrian Detection. In IEEE Intelligent Vehicles
Symposium (IV), 2013.
[86] J. K. Aggarwal et Q Cai : Human motion analysis : A review. Computer Vision and
Image Understanding, 73(3), 1999.

216

BIBLIOGRAPHIE

[87] D. Schulz, W. Burgard, D. Fox et A. B. Cremers : Tracking multiple moving targets with a mobile robot using particle filters and statistical data association. In IEEE
International Conference on Robotics and Automation (ICRA), 2001.
[88] C. Premebida et U. Nunes : A Multi-Target Tracking and GMM-Classifier for Intelligent
Vehicles. In IEEE Intelligent Transportation Systems Conference (ITSC), 2006.
[89] Mirko Maehlisch, Roland Schweiger, Werner Ritter et Klaus Dietmayer : Multisensor Vehicle Tracking with the Probability Hypothesis Density Filter. In 9th International
Conference on Information Fusion, 2006.
[90] Norikazu Ikoma : Multiple pedestrians tracking with composite sensor of laser range
finder and omni-directional camera by SMC implementation of PHD filter. In The 6th
International Conference on Soft Computing and Intelligent Systems, 2012.
[91] Laetitia Lamard, Roland Chapuis et Jean-Philippe Boyer : CPHD filter addressing
occlusions with pedestrians and vehicles tracking. In IEEE Intelligent Vehicles Symposium
(IV), 2013.
[92] D. Meissner, S. Reuter, B. Wilking et K. Dietmayer : Road user tracking using
a Dempster-Shafer based classifying multiple-model PHD filter. In 16th International
Conference on Information Fusion (FUSION), 2013.
[93] Gwennaël GATE : Reliable Perception of Highly Changing Environments Implementations
for Car-to-Pedestrian Collision Avoidance Systems. Thèse de doctorat, Mines ParisTech,
2009.
[94] S. Wasielewski et O. Strauss : Calibration of a multi-sensor system laser rangefinder
/ camera. In Intelligent Vehicles Symposium (IV), 1995.
[95] Ayoub Khammari : Système embarqué de détection multi-sensorielle de véhicules : application à la gestion intelligente des interdistances. Thèse de doctorat, Mines ParisTech,
2005.

BIBLIOGRAPHIE

217

[96] Stephan Reuter : Multi-Object Tracking Using Random Finite Sets. Thèse de doctorat,
Ulm university, 2014.
[97] Evangeline Pollard, Aurélien Plyer, Benjamin Pannetier, Frédéric Champagnat et
Guy Le Besnerais : GM-PHD filters for multi-object tracking in uncalibrated aerial
videos. In 12th International Conference on Information Fusion, 2009.
[98] ISO 21217 : Intelligent Transports Systems - Communications access for land mobiles
(CALM) - Architecture, 2010.
[99] ETSI TS 102 637-2 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
Basic Set of Applications ; Part 2 : Specification of Cooperative Awareness Basic Service,
2010.
[100] ETSI TS 102 637-3 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
Part 3 : Specifications of Decentralized Environmental Notification Basic Service, 2010.
[101] ETSI TR 102 863 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
Basic Set of applications ; Local Dynamic Map ( LDM ) ; Rationale for and guidance on
standardization, 2011.
[102] RFC 791 : Internet Protocol, DARPA Internet program protocol specification, 1981.
[103] RFC 2460 : Internet Protocol, Version 6 (IPv6) Specification, 1998.
[104] RFC 5944 : IP mobility support for IPv4, 2010.
[105] RFC 6275 : IP mobility support for IPv6, 2011.
[106] RFC 768 : User Datagram Protocol, 1980.
[107] ETSI TS 102 636-4-1 : Intelligent Transport Systems (ITS) ; Vehicular Communications ; GeoNetworking ; Part 4 : Geographical Addressing and forwarding Point-to-Point
and Point-to-Multipoint Communications, Sub-Part 1 : Media-Independant Functionality,
2011.

218

BIBLIOGRAPHIE

[108] Zan Tonguz, Nawapom Wisitpongphan, Fan Bai, Priyantha Mudalige et Varsha Sadekar : Broadcasting in VANET. In mobile networking for vehicular environments,
2007.
[109] Fan Li et Yu Wang : Routing in vehicular ad hoc networks : A survey. IEEE Vehicular
Technology Magazine, 2(2):12–22, 2007.
[110] Ines Ben Jemaa : Communications Multicast Pour les systèmes véhiculaires coopératifs.
Thèse de doctorat, Mines ParisTech, 2015.
[111] Philippe Jacquet, Paul Mühlethaler, Thomas Clausen, Anis Laouiti, Amir
Qayyum et Laurent Viennot : Optimized link state routing protocol for ad hoc networks. In IEEE International Multi Topic Conference (INMIC), 2001.
[112] Charles Perkins, Elizabeth Belding-Royer et Samir Das : Ad hoc on-demand distance
vector (aodv) routing. Rapport technique, 2003.
[113] Yu-Chee Tseng, Sze-Yao Ni, Yuh-Shyan Chen et Jang-Ping Sheu : The Broadcast Storm
Problem in a Mobile Ad Hoc Network. 8:153–167, 2002.
[114] ETSI TS 102 636-1 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
GeoNetworking ; Part 1 : requirements, 2010.
[115] ETSI EN 302 636-3 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
GeoNetworking ; Part 3 : Network Architecture, 2014.
[116] ETSI TS 102 636-5-1 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
GeoNetworking ; Part 5 : Transport Protocols ; Sub-part 1 : Basic Transport Protocol,
2011.
[117] ETSI TS 102 636-6-1 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
GeoNetworking ; Part 6 : Internet Integration ; Sub-part 1 : Transmission of IPv6 Packets
over Geonetworking Protocols, 2011.
[118] GeoNet Consortium : D2.2 : Final GeoNet Specification, 2010.

BIBLIOGRAPHIE

219

[119] ETSI EN 302 931 : Intelligent Transport Systems (ITS) ; Vehicular Communications ;
Geographical Area Definition, 2010.
[120] Brian P. Crow, Indra Widjaja, Jeong Geun Kim et Prescott T. Sakai : IEEE 802.11
wireless local area networks. IEEE Communications Magazine, 35(9):116–126, 1997.
[121] Klaus David et Alexander Flach : Car-2-x and pedestrian safety. IEEE Vehicular
Technology Magazine, 5(1):70–76, 2010.
[122] Chika Sugimoto, Yasuhisa Nakamura et Takuya Hashimoto : Prototype of pedestrianto-vehicle communication system for the prevention of pedestrian accidents using both
3G wireless and WLAN communication. In 3rd International Symposium on Wireless
Pervasive Computing, 2008.
[123] R. Rasshofer, D. Schwarz, E. Biebl et C. Morhart : Pedestrian Protection Systems using Cooperative Sensor Technology. In 11th International Forum on Advanced
Microsystems for Automotive Applications (AMAA’07), 2007.
[124] Mehrdad Bagheri, Matti Siekkinen et Jukka K Nurminen : Cellular-based Vehicle to
Pedestrian ( V2P ) Adaptive Communication for Collision Avoidance. In 3rd International
Conference on Connected Vehicles & Expo (ICCVE), 2014.
[125] Honda
Safety

Demonstrates
Technologies.

Advanced

Vehicle-to-Pedestrian

and

Vehicle-to-Motorcycle

http://www.prnewswire.com/news-releases/honda-

demonstrates-advanced-vehicle-to-pedestrian-and-vehicle-to-motorcyclesafety-technologies-221495031.html. [En ligne ; accès le 2014-01-06].
[126] Tim Beissman :
phones.

GM developping pedestrian safety technology that spots smart-

http://www.caradvice.com.au/183936/gm-developing-pedestrian-safety-

technology-that-spots-smartphones/, 2012. [En ligne ; accès le 2013-07-23].
[127] Daisuke Ikeda, Masato Horie, Ryohta Yamaguchi, Tomotaka Wada et Hiromi Okada :
An Effective Detection Algorithm of the Relative Movement between Vehicles and Pedestrians in VPEC. In Second ACM international workshop on Wireless network testbeds,
experimental evaluation and characterization, 2007.

220

BIBLIOGRAPHIE

[128] Yuta Sawa, Tomoya Kitani, Naoki Shibata, Keiichi Yasumoto et Minoru Ito : A
Method for Pedestrian Position Estimation using Inter-Vehicle Communication. In IEEE
Globecom Workshops, 2008.
[129] A Sikora : Communication and Localization for a Cooperative eSafety-System. In 4th
IEEE Workshop on Intelligent Data Acquisition and Advanced Computing Systems : Technology and Applications, 2007, 2007.
[130] J.-P. Laumond : La robotique mobile. Hermès Science, 2001.
[131] Sebastian Kuhlmorgen, Ignacio Llatser, Andreas Festag et Gerhard Fettweis :
Performance Evaluation of ETSI GeoNetworking for Vehicular Ad hoc Networks. In 81st
IEEE Vehicular Technology Conference (VTC Spring), 2015.
[132] O. Shagdar, H. Yomo, T. Ohyama, R. Miura et S. Obana : Broadcast Storm Problem : A Case Study for CSMA and CDMA Inter-Vehicle Networks. In 10th International
Conference on ITS Telecommunications, 2010.
[133] project - DRIVE C2X. http://www.drive-c2x.eu/project. [En ligne ; accès le 2015-0421].
[134] CooPerCom - Cooperative Perception and Communication. http://www.coopercom.fr/
index.php. [En ligne ; accès le 2015-04-21].
[135] Georges Challita, Stephane Mousset, Fawzi Nashashibi et Abdelaziz Bensrhair :
An application of V2V communications : Cooperation of vehicles for a better car tracking
using GPS and vision systems. In IEEE Vehicular Networking Conference (VNC), 2009.
[136] Hao Li : Cooperative Perception : Application in the Context of Outdoor Intelligent Vehicle
Systems. Thèse de doctorat, Mines ParisTech, 2012.
[137] Nicole El Zoghby, Véronique Cherfaoui et Thierry Denoeux : Evidential Distributed Dynamic Map for Cooperative Perception in VANets. In IEEE Intelligent Vehicles
Symposium (IV), 2014.

BIBLIOGRAPHIE

221

[138] Evangeline Pollard et Denis Gingras : Improved Low Cost GPS Localization By Using
Communicative Vehicles. In 12th International Conference on Control, Automation, Robotics and Vision (ICARCV), 2012.
[139] Marcus Obst, Laurens Hobert et Pierre Reisdorf : Multi-Sensor Data Fusion for
Checking Plausibility of V2V Communications by Vision-based Multiple-Object Tracking.
In IEEE Vehicular Networking Conference (VNC), 2014.
[140] Sébastien Demmel : Thèse de doctorat, Queensland University of Technology.
[141] D. Lill, M. Schappacher, A. Gutjahr et A. Sikora : Development of a wireless
communication and localization system for VRU eSafety. In 7th International Symposium
on Communication Systems Networks and Digital Signal Processing (CSNDSP), 2010.
[142] Tianyu Wang, Giuseppe Cardone, Antonio Corradi, Lorenzo Torresani et Andrew T.
Campbell : WalkSafe : A Pedestrian Safety App for Mobile Phone Users Who Walk and
Talk While Crossing Roads Categories and Subject Descriptors. In HotMobile ’12, 2012.
[143] Shubham Jain, Carlo Borgiattino et Yanzhi Ren : LookUp : Enabling Pedestrian Safety
Services via Shoe Sensing. In Proceedings of the 13th Annual International Conference on
Mobile Systems, Applications, and Services, 2015.
[144] Kaustubh Dhondge, Sejun Song et Baek-young Choi Hyungbae :

WiFiHonk :

Smartphone-based Beacon Stuffed WiFi Car2X-Communication System for Vulnerable
Road User Safety. In IEEE 79th Vehicular Technology Conference (VTC Spring), 2014.
[145] National Imagery and Mapping Agency, Department of Defense : World Geodetic System 1984 (WGS84) : Its Definition and Relationships with Local Geodetic Systems.
Rapport technique TR8350.2, 3rd ed., NIMA, January 2000.
[146] Elliot D. Kaplan et Christopher J. Hegarty : Understanding GPS : Principles and
Applications. 2006.
[147] Martin Liebner, Felix Klanner et Christoph Stiller : Active Safety for Vulnerable
Road Users based on Smartphone Position Data. In IEEE Intelligent Vehicles Symposium
(IV), 2013.

222

BIBLIOGRAPHIE

[148] Arghavan Amini, Reza Monir Vaghefi, Jesus M. De Garza et R. Michael Buehrer :
Improving GPS-Based Vehicle Positioning for Intelligent Transportation Systems. In IEEE
Intelligent Vehicles Symposium (IV), 2014.
[149] Horst Kloeden, Daniel Schwarz, Erwin M. Biebl et Ralph H. Rasshofer : Effectiveness study of cooperative sensor systems for VRU-safety. In IEEE Intelligent Vehicles
Symposium (IV), 2012.
[150] Sebastian Engel, Claudia Kratzsch, Klaus David, Dominik Warkow et Marco Holzknecht : Car2Pedestrian Positioning : Methods for Improving GPS Positioning in RadioBased VRU Protection Systems. In 6. Tagung Fahrerassistenzsysteme, 2013.
[151] S. Ayub, B. M. Heravi, A. Bahraminasab et B. Honary : Pedestrian Direction of
Movement Determination Using Smartphone. In 6th International Conference on Next
Generation Mobile Applications, Services and Technologies (NGMAST), 2012, 2012.
[152] Xiaojun Zhu, Qun Li et Guihai Chen : APT : Accurate outdoor pedestrian tracking with
smartphones. In IEEE INFOCOM, 2013.
[153] R. W. Wolcott et R. M. Eustice : Visual localization within lidar maps for automated
urban driving. In IEEE/RSJ International Conference on Intelligent Robots and Systems
(IROS), 2014.
[154] Dominic Schuhmacher, Ba Tuong Vo et Ba N. Vo : A consistent metric for performance
evaluation of multi-object filters. IEEE Transactions on Signal Processing, 56(8):3447–
3457, 2008.
[155] A. Geiger, P. Lenz et R. Urtasun : Are we ready for autonomous driving ? The KITTI
vision benchmark suite. In IEEE Conference on Computer Vision and Pattern Recognition(CVPR), 2012.
[156] L. Spinello, K. O. Arras, R. Triebel et R. Siegwart : A Layered Approach to People
Detection in 3D Range Data. In AAAI, 2010.

BIBLIOGRAPHIE

223

[157] Francesca Martelli, M. Elena Renda, Giovanni Resta et Paolo Santi : A Measurementbased Study of Beaconing Performance in IEEE 802.11p Vehicular Networks. In IEEE
INFOCOM, 2012.

Publications

[1] J.J. Anaya, P. Merdrignac, O. Shagdar, F. Nashashibi, J.E. Naranjo. Vehicle to Pedestrian Communications for Protection of Vulnerable Road Users. IEEE Intelligent Vehicle
Symposium (IV), 2014.
[2] Z. Alsayed, G. Bresson, P. Merdrignac, P. Morignot, F. Nashashibi, E. Pollard,
G. Trehard. Intelligent vehicles : integration and issues. RFIA 2014 - Dix-neuvième congrès
national sur la reconaissance de formes et l’intelligence artificielle, 2014.
[3] P. Merdrignac, E. Pollard, F. Nashashibi. 2D Laser Based Road Obstacle Classification
For Road Safety Improvement. 2015 IEEE International Workshop on Advanced Robotics and
its Social Impacts, 2015.
[4] P. Merdrignac, O. Shagdar, I. Ben Jemaa, F. Nashashibi. Study on Perception and
Communication Systems for Safety of Vulnerable Road Users. 18th IEEE International
Conference on Intelligent Transportation Systems (ITSC 2015), 2015.

225

Système coopératif de perception et communication pour la protection des
usagers vulnérables
Résumé : Les systèmes de transports intelligents coopératifs (C-ITS) offrent des opportunités pour

améliorer la sécurité routière et particulièrement la sécurité des usagers vulnérables (VRU), e.g., piétons et cyclistes. La principale source d’accidents provient de l’incapacité des usagers, véhicules et
VRUs, à détecter le danger avant qu’une collision soit inévitable.
Nous introduisons un système de perception qui s’appuie sur les données des capteurs laser et
caméra pour estimer l’état des VRUs entourant le véhicule. Une technique de classification multiclasses des obstacles routiers à partir de données laser a été développée en utilisant une méthode
d’apprentissage statistique et une estimation bayésienne.
Nous proposons une architecture de communication véhicules-piétons (V2P) qui prend en compte
les faibles ressources énergétiques des smartphones transportés par les piétons. Notre solution s’appuie sur les standards définis dans l’architecture de communication véhiculaire ETSI ITS et propose
une dissémination géographique pour la communication V2P.
Un système coopératif perception/communication a le potentiel de gérer des scénarios de plus
en plus complexes en combinant la capacité de la perception à estimer l’état dynamique des obstacles détectés et la capacité de la communication à échanger un contenu riche entre des usagers
éloignés. Nous introduisons une fusion multi-hypothèses entre les informations de perception et de
communication et une application pour smarthpone destinée à protéger les VRUs des dangers de la
route.
Les solutions proposées au cours de la thèse sont évaluées sur des données réelles. Nous avons
mené des expérimentations sur le campus d’INRIA démontrant les atouts d’un système coopératif de
protection des usagers vulnérables.
Mots clés : ITS Coopératif, Sécurité des usagers vulnérables, Perception d’obstacles, Communication V2P, Classification multi-classes, Routage géographique, Fusion d’information

Cooperative perception and communication system for protection of
vulnerable road users
Abstract: Cooperative intelligent transportation systems (C-ITS) have the opportunity to enhance

road safety, especially the safety of vulnerable road users (VRU), e.g., pedestrians and cyclists. Road
accidents are mainly due to vehicles’ and VRUs’ inability to detect the danger before a collision cannot
be avoided.
We introduce a perception system based on laser and camera sensors to estimate the state of
VRUs located around the vehicle. A multi-class classification of road obstacles based on laser data
has been developed using statistical machine learning and Bayesian estimation.
We propose an architecture for vehicles-to-pedestrians (V2P) communication which considers the
weak energy resources of the devices carried by pedestrians such as smartphones. Our solution is
relying on the standards defined by ETSI ITS architecture for vehicular communication and proposes
geographical dissemination for V2P communication.
A cooperative perception/communication system can deal with scenarios which are becoming more
and more complex by combining the ability of perception to estimate the dynamic state of detected
obstacles and the ability of communication to exchange a rich content between distant users. We
introduce a multi-hypotheses fusion between perception and communication information and a smartphone application dedicated to protect VRUs from road danger.
The solutions proposed during this thesis are evaluated on real data. We carried out real experiments on INRIA campus demonstrating the assets of a cooperative system for the protection of
vulnerable road users.
Keywords: Cooperative ITS, VRU safety, Obstacle perception, V2P communication, Multi-class
classification, Geographical routing, Information fusion

INSTITUT DES SCIENCES ET TECHNOLOGIES

