is the network a software
like any other ?

« Raison d’être »

Invent with you a story of the future for Orange
« Because tomorrow’s world will

Missions
▪ Light the future : identify risks and ruptures,
explore and build opportunities, influence
ecosystems

emerge from increasingly intelligent
interaction between the physical and

▪ build strategic assets : knowledge, skills,
intellectual property, standards & open source ,
partnerships.

digital worlds, we strongly believe
that research must be integrative. »

▪ Feed our innovation chain aiming to
differentiate our infrastructure, products and
services, customer relationships and / or
business models.
Confidentiel Orange

« … a research in mode DevOps »
2

2

Ambition of
the research
platforms

Plug’in

Thing’in

Home’in

Ambiant Connectivity

Web of Objects

Sensible Home

Towards
an ambiant,
flexible & secure 5G
Demonstrate Cloud Native 5G
&
its cognitive management

▪ 5G for Verticals
Major
advances
expected

▪ Automating network
management with AI.
▪ Built with partners

Build the Cornerstone
of the Web of Objects:
Indexing and Search
Engine for Object
Discovery,
Exploitation and
Enrichment of Object
Relationships

▪ Alignment and
Enrichment of Ontologies
for Scale Upgrading
Scalability to one billion
objects

Confidentiel Orange

Design the intelligent and
sensitive home that protects
our private lives and allows
openness to the other: an
experimental house, an
open and interoperable
environment, a common
architecture

▪ Management of contents
and services of the
sensitive house
▪ Better relevance of
interactions through the
detection of the user's
personality
3

3

No. 1
European
operator in terms
of patent
applications

600 researchers

200 patents filed in
2017

140 PhDs /
post-doctorates

Our research
in numbers

100 partnerships (labs,
collaborative projects,
tech research labs, etc.)

All-knowing

Deployable on
the fly

5G a network which adapts in real time to
process and business model thanks to
softwarisation, cloud, prediction and automation

Always
optimal

Key industry trends

Microservices
An approach to develop a
single application as a suite of
small services, each running
in its own process and
communicating with
lightweight mechanisms
✓
6

Innovate more rapidly and
be more agile

Containers

Automation
.

A technology to give each
application running on a server
its own, isolated environment
to run.
It holds the components
necessary to run the desired
software.
✓ Speed up the testing
process and build large,
scalable cloud applications

“Infrastructure as code”
approach to enable the entire
infrastructure deployment to be
expressed and controlled
through software
✓

Reduce complexity and
offer a more responsive IT
environment;

Operator ambitions
◼

Need to increase network flexibility while reducing CAPEX and OPEX

◼

All these approaches are eminently suitable to be used in NFV environments

◼

NFV should be equally agile and automated
But making NF
cloud-native won’t
be so easy!

Because they have
unique properties
Why?

FW

Router

IDS

How to make network functions cloud-native
FW

Router

IDS

Gest OS

Gest OS

Gest OS

FW

Host OS
Hardware

Virtualized NF 1.0

Cloud-native NF 2.0

Containters

That is alll?

Absolutely not!

Virtual Machines

That is alll?

IDS

Host OS

Hypervisor

Hardware
Traditional physical
NF

Router

Absolutely not!

Containers are part of a “terrific” transformation of the IT
landscape: from Cloud Ready to Cloud Native Applications
Containers
Orchestration

Agile development
DevOps
CI/CD

Cloud
Native
Applications

Micro services

New Ways to Deploy and Manage Applications at Scale
CNA to fully exploit the benefits of the cloud computing model

Telco-Grade features and orchestration challenges
◼

Multi-network conncectivity: telco workloads may require
sophisticated network models to support multi-homing with various
QoS
◼
Service function chaining: telco applications must be
configured together as a service through which traffic needs to be
correctly steered
◼

Specific scheduling policies: new placement constraints
need to be supported ➔ Network-related, inter-component
affinity/anti-affinity, energy, etc.

Multi –
Network
connectivity

Service
Function
chaining

Accelerated
data plane

VNF

◼

Deterministic performances: some telco workloads are
performances sensitive and hence need predictable access to CPU
and memory
◼

Accelerated data plane: some telco workloads require
native network performances to achieve very low latency and jitter
10

interne Groupe France Télécom

Deterministic
performances

Specific
scheduling
policies

From Legacy network functions to
VNFaaS

11

Interne Orange

Functional decomposition approach
1.
Decomposition

2. Separation of
State

3. Independency

1. Functional decomposition

mmm…okay…! But,
Specifications are not that detailed to allow such an approach
•
Decompose
logic towards
into elementary
atomic services
and
are we moving
decomposed
architectures for 5G?
•

Identify all the functionalities of a network function

2. Separation of state
•

Separate the service logic and data/state to build stateless services

3. Functional independence

12

•

Define the new service processes

•

Ensure functional independency loosely coupled
Orange confidential

Design of new VNFaaS

13

✓

Reuse

✓

Abstraction

✓

Invariance

✓

Statelessness

✓

Mutualization

✓

Interactions

Cohesion

Management

Structure

Cloud-native & aaS features

Orange confidential

Loose coupling

✓

Invocation

✓

Composition

✓

Description

✓

Registration

✓

Exposition

✓

Auto-management

✓

Ubiquity

✓

b<>com *Unifier Gateway*

Value proposition

Overview

pre-5G core network software solution
that leverages on SDN and NFV
technologies to offer a convergent and
secured connectivity to private networks
users
Keywords – 4G/5G, SDN, NFV, WLAN,
LTE, OpenDaylight

Features
> Full 3GPP Rel10 LTE EPC
> Distributed SDN Firewall
> EAP-AKA, EPS-AKA SIM based authentication mechanisms

21/11/2018

Diffusion : confidentiel

14
// 14

DevOps mode
Automated deployment
• Continuous Integration & Delivery chain (CI/CD)
• Relying on Ansible playbooks
• Target platforms: KVM, Openstack

b<>com *Unifier GW* Virtual Network Functions

15

Orange confidential

Jenkins,
Ansible,
Artifactory,
Cucumber,
HOT files,
…

Next step: a microservice based 5G mobile core
Client API
Skeleton
Code

YAML

VNF skeleton with standard API (AMF, SPF, NRF)

3GPP API
3GPP API
document
3GPP API
fordocument
xxNF
fordocument
xxNF
TS29.5xx
for xxNF
TS29.5xx
TS29.5xx

Bus implementation – HTTPv2

Server API
Skeleton
Code
JSON

API Management and « processing optimisations »
Control and user plane separation

API
Description
(OpenAPI 3.0)

Efficient programmable user data plane

Client API
Skeleton
Code
swagger

Code
Generated

Microservices modularity and independent upgrade characteristics
http v2 bus
proxy
api

api

api

api

api

HSS

AMF

NEF

NRF

SMF

kubernetes

UPF
UPF
UPF

SDN
CTL

Server API
Skeleton
Code

bearer
mgt
bearer
mgt
bearer
mgt
SMF

contexts

PDN

J
a
v
a

C
+
+

Telco Cloud

17

Interne Orange

18

Orange confidential

19

Orange confidential

20

Orange confidential

Telco PaaS

21

Interne Orange

NGPaaS project overview
◼

5G PPP phase 2 IA project

◼

Aiming at building a next generation PaaS for 5G

◼

12 partners consortium:

-

6 Large companies: Nokia Bell-Labs France (coordinator),

Nokia Israël, Orange, ATOS (SP), BT,
ONAPP(UK, technical manager)

-

2 start-ups: VOSYS (FR, innovation manager),

VM2M (FR)

◼

4 research laboratories: BCOM, DTU (DK), IMEC (BE), UNIMIB (IT)

24-month project, start: June 2017, End : June 2019
22

NGPaaS targeted properties
◼

PaaS framework

-

Modular components (re-use of Superfluidity component model)
Enable to build customized PaaS according to use cases by combination and
extension of the framework components

◼

Telco-grade

◼

IT/5G convergent

◼

Multi-sided

◼

Heterogenicity

◼

23

Vendor PaaS + Operator PaaS + Vertical PaaS

Address both VM, containers, Unikernel and any new techno to come

New OSS/BSS model

NGPaaS objective: a Telco-grade Kubernetes for an
enhanced orchestration of cloud native VNFs
◼ Scope

-

Design, develop and deploy a Kubernetes based system for an automated management
and orchestration of cloud-native container-based network functions

◼ Objectives

-

24

Customize Kubernetes to close the gap with regard to NFV requirements

A prototype of a telco grade Kubernetes with a first deployed use case

interne Groupe France Télécom

Kubertenes enhancements towards a telco-grade
orchestration
#

VNF requirement

Enhancement

description

1

Multi-network
support & data
plane
acceleration

Kubernetes with
multi network
support and
dataplane
acceleration

Kubernetes extensions to support multiple
network interfaces per POD with DPDK and
SR-IOV acceleration

2

Deterministic
Performances

Kubernetes with EPA
(Enhanced Platform
Awareness) support

Kubernetes extensions to support customized
CPU pinning policies and huge pages

3

Custom
scheduler

Extended
Kubernetes
scheduling

Extension of Kubernetes scheduling to
support new metrics (ex. Network)

SFC support

Kubernetes with
service function
chaining

Kubernetes extensions enabling service
function chaining for NFV

4

25

interne Groupe France Télécom

Multi –
Network
connectivity

Service
Function
chaining

Accelerated
data plane

VNF
Deterministic
performances

Specific
scheduling
policies

Kubertenes enhancements towards a telco-grade
orchestration
#

VNF requirement

Enhancement

description

1

Multi-network
support & data
plane
acceleration

Kubernetes with
multi network
support and
dataplane
acceleration

Kubernetes extensions to support multiple
network interfaces per POD with DPDK and
SR-IOV acceleration

2

Deterministic
Performances

Kubernetes with EPA
(Enhanced Platform
Awareness) support

Kubernetes extensions to support customized
CPU pinning policies and huge pages

3

Custom
scheduler

Extended
Kubernetes
scheduling

Extension of Kubernetes scheduling to
support new metrics (ex. Network)

SFC support

Kubernetes with
service function
chaining

Kubernetes extensions enabling service
function chaining for NFV

4

26

Multi –
Network
connectivity

Service
Function
chaining

Accelerated
data plane

VNF
Deterministic
performances

Specific
scheduling
policies

Kubertenes enhancements towards a telco-grade
orchestration
#

VNF requirement

Enhancement

description

1

Multi-network
support & data
plane
acceleration

Kubernetes with
multi network
support and
dataplane
acceleration

Kubernetes extensions to support multiple
network interfaces per POD with DPDK and
SR-IOV acceleration

2

Deterministic
Performances

Kubernetes with EPA
(Enhanced Platform
Awareness) support

Kubernetes extensions to support customized
CPU pinning policies and huge pages

3

Custom
scheduler

Extended
Kubernetes
scheduling

Extension of Kubernetes scheduling to
support new metrics (e.g. Network)

SFC support

Kubernetes with
service function
chaining

Kubernetes extensions enabling service
function chaining for NFV

4

27

interne Groupe France Télécom

Multi –
Network
connectivity

Service
Function
chaining

Accelerated
data plane

VNF
Deterministic
performances

Specific
scheduling
policies

Kubertenes enhancements towards a telco-grade
orchestration
#

VNF requirement

Enhancement

description

1

Multi-network
support & data
plane
acceleration

Kubernetes with
multi network
support and
dataplane
acceleration

Kubernetes extensions to support multiple
network interfaces per POD with DPDK and
SR-IOV acceleration

2

Deterministic
Performances

Kubernetes with EPA
(Enhanced Platform
Awareness) support

Kubernetes extensions to support customized
CPU pinning policies and huge pages

3

Custom
scheduler

Extended
Kubernetes
scheduling

Extension of Kubernetes scheduling to
support new metrics (ex. Network)

SFC support

Kubernetes with
service function
chaining

Kubernetes extensions enabling service
function chaining for NFV

4

28

interne Groupe France Télécom

Multi –
Network
connectivity

Service
Function
chaining

Accelerated
data plane

VNF
Deterministic
performances

Specific
scheduling
policies

ZDD for Ultra Agile 5G

29

Interne Orange

“Release Management”

ambitions
1 Deploy VNF without interruption of service
(ZDD) using Kubernetes

2 Define Process & Tools Cartography
)Orange restricted - 30

Legacy pipeline

operator

ZDD
Cockpit

commit

DEV

1

deploy

QA

2
DEV AND PROD
deploy

PRE-PROD

3

deploy

4

downtime

PROD

✔/✗
end users / beta testers

Impacts :

ZDD pipeline

operator

Increase user experience

ZDD
Cockpit

Infrastructure related cost reduction
High Time To Market reduction
Processes transformation
commit

1

QA

1

DEV AND PROD
deploy

2

2

Ultra agile
New philosophy / way of thinking applications
New jobs (traffic analysis / feedback and logs collection …)
New tools

PRE-PROD

✔/✗
end users / beta testers

How much does it take ?
Enablers to reach ZDD :
- Docker containers

- Orchestration (Rancher,
Swarm, Kubernetes…) // PaaS
- Chain automation (CI / CD)
- DevOps oriented
- Micro-services
- Stateless components

-> ZDD-native application

UGW release 3 : micro-services based
AAA

HSS

MME

S/PGW-C
frontend

DHCP

HSS
DB

SDN
Ctlr

contexts
DB

S/PGW-C
forward
path
switch

Control plane:

• a set of docker containers
running in Kubernetes pods
• orchestrated as micro-services
Initial focus on S/P-GW-C
decomposition:

User Plane: unchanged,
future evolution envisaged

X
S/P
GW-U

Internet

• stateless funtions: front-end,
forward-path
• contexts DB

ZDD - WEF
(1) Alice attach via Core control network (control
plane signaling)
AAA

HSS

MME

S/PGW-C
frontend

DHCP

HSS
DB

SDN
Ctlr

contexts
DB

S/PGW-C
forward
path
switch

(5)

(2) Alice trafic routed toward Internet
(user plane forwarding)
(3) Bob attach via Core control network
(4) S/PGW-C forward path function issue:
forwarding path rules are wrong due to a
bug in SPGW-C id management
Thus, Bob trafic cannot be routed
Alice traffic is not impacted
(5) S/PGW-C bug isolated and corrected
The new forward path pod is deployed to
replace the previous version one’s (ZDD)

(1)
(2)
(3)
Alice
Bob

X
X

(6) Bob user traffic is now routed thanks to
the new rules updated by the S/PGW-C foward
path pod

S/P
GW-U

(4)

(6)

Internet

5G End-to-End Open-Source
Network

36

Interne Orange

5G End to End Open-Source Mobile Network

Orchestration

UEs

RAN

Core

Application
s

Streaming
server
Car joystick

37

Interne Orange

Onboard
camera

* UE: User Equipment – RAN: Radio Access Network

5G End to End Open-Source Mobile Network
Roles

Infrastructure operations
and lifecycle management

Radio transmission
and network control

Topology

Internet
Orchestration

Radio site

Tasks

38

Interne Orange

-

Using Cloudify
Writing the lifecycle ops
Driving the kubernetes cluster

-

Packaging OAI and FlexRAN
Deploying the K8S cluster
Managing the network UEs

Runtime
9999/tcp
EPC
2210/tcp

SCTP (TBD)
2210/tcp

Probe (ongoing

39

Interne Orange

Cloudify: Lightweight Orchestration

light

embeddable

extensible

40

declarative

model driven

41

Thank you

