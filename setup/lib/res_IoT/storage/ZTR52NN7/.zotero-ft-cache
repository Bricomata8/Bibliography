PV-Alert: A Fog-based Architecture for Safeguarding Vulnerable Road Users
Esubalew Alemneh1,2, Sidi-Mohammed Senouci1, Pilippe Brunet1
1DRIVE EA1859, Univ. Bourgogne Franche-Comté, F58000, Nevers, France 2Bahir Dar University, Bahir Dar Institute of Technology, Faculty of Computing, P.O.Box 26, Bahir Dar, Ethiopia
Esubalew_Jalew@etu.u-bourgogne.fr, Sidi-Mohammed.Senouci@u-bourgogne.fr, Philippe.Brunet@u-bourgogne.fr

Abstract— High volumes of pedestrians, cyclists and other vulnerable road users (VRUs) have much higher casualty rates per mile; not surprising given their lack of protection from an accident. In order to alleviate the problem, we can use sensing capabilities of mobile smartphones to detect, warn and safeguard VRUs. In this research we have proposed an infrastructure-less fog-based architecture where fog nodes process delay sensitive data obtained from smartphones for alerting pedestrians and drivers before sending the data to the cloud for further analysis. Fog computing is used in order to develop the architecture since it is an emerging paradigm that has paramount of advantages for low-latency applications which demand mobility support, geodistribution and location awareness. We have also defined an algorithm for accident prediction and alerting involving vehicles and pedestrians. Simulation results show that the proposed architecture is able to render alerts in real time whichever wireless communication (Wi-Fi or LTE) is used to connect smartphones with fog nodes. Moreover, analytical and performance evaluations depict that the new architecture outperforms other related architectures in terms of reliability, scalability and latency.
Keywords—Vulnerable Road Users; Fog Computing; Pedestrian Safety; Low Latency; Crowd sensing
I. INTRODUCTION
Road traffic injuries are one of the leading causes of death globally. According to global status report on road safety 2015 by World Health Organization [3], road traffic injuries claim more than 1.2 million lives each year posing huge impact on health and development. More than half of those deaths are attributed to vulnerable road users (VRUs) which could be pedestrians, cyclists and motorcyclists. Even though traffic accidents and fatalities have decreased greatly over the past few decades, decrease of fatalities among VRUs is much less than all other road users [1], [2]. Because of lack of protective “shells” or safety features, pedestrians are more vulnerable to traffic accidents than other groups of road users. The accident often results in severe injuries if not deaths. For instance, it has been estimated that pedestrians are 284 times more likely to be killed or injured in a collision than motorists [4]. Pedestrian accidents occur in roads where lines of vision are affected, road intersections, straight roads, and even in pedestrian crossings in both urban and rural areas. As distracted driving is a main contributor for traffic accidents many countries banned drivers from using mobile phones during driving. In recent days, distracted walking like talking and walking, listening to music or texting and inattention has become an emerging problem to pedestrians due to an exponential growth of use of mobile phones and other smartphones worldwide [10], [30]. This research aims to take advantage of pervasive existence of smartphones to protect vulnerable road users instead of becoming reason for deaths.
To assuage road traffic accidents, many passive and active pedestrian protection mechanisms have been proposed. Passive pedestrian protections include measures that could be categorized into 'three Es': engineering, education, and enforcement [5]. Providing a wide flat area for slower moving traffic, designing bumpers, increasing visibility of roads, educating traffic safety, setting strict law enforcements are some of the examples of passive pedestrian protections. Active pedestrian protection measure on the

other hand involves pedestrian detection, collision prediction, warning, automatic breaking and collision avoidance [6]. There are situations where pedestrian accidents cannot be avoided. However, application of both passive and active pedestrian protections is crucial to minimize the number of traffic accidents. Many researches on active pedestrian protection mechanisms are conducted to precaution VRUs. Most of these works are infrastructure-based which depends on sensors, cameras, radio tags, road side units, etc. Contemporary researches on pedestrian safety rely on smartphones of road users’ together with state-of-the-art technologies to warn them of traffic accidents [18]-[23]. However, still most of this works relies on infrastructures like road side units (RSU), traffic management centers (TMC) and human machine interfaces (HMI) for vehicle-topedestrian (V2P) communication and some of them are not reliable, others are not scalable or have high latency.
Nowadays, many VRUs have their own smartphones and the devices are outfitted with advanced onboard GPS sensors and broadband internet connections. In this research we propose a fog computing based architecture for VRUs specifically for pedestrians using omnipresent smartphones. Fog computing refers extending cloud computing down to users arena to proximate computing, storage and network services for fast access. It is a decentralized computing infrastructure with the following defining characteristics: low latency, location awareness, wide-spread geographical distribution, mobility support, position of very large number of nodes and predominant role of wireless access [7]. Since its introduction by CISCO in 2014, it has got a lot of attention in both academia and industries. Majority of researches in fog computing involves defining the computing paradigm, lucubrating its characteristics and its relation with other related technologies, proposing networking and reference architectures, and suggesting application scenarios where it best fits. The potential of fog computing for intelligent transportation is stated in many literatures including [7], [8], and [11].
The proposed architecture is an infrastructure-less solution which uses pedestrians’ and drivers’ smartphones crowd sensed data to detect their geographical positions and fog nodes to predict a collision risk and send warning if any. GPS reading together with speed and direction of pedestrians and vehicles is periodically sent to the fog node through wireless connections from mobile devices. Fog node/server intakes the readings and executes pedestrian collision prediction algorithm. If there is any imminent collision it sends warning messages to both pedestrians and drivers. Summary of our contributions in this research are:  A three-tier fog-node based architecture that depends only on the
existing infrastructure and exploits the enabling characteristics of fog computing has been proposed. In fact, low latency, location awareness, wide-spread geographical distribution, and mobility support makes fog computing ideal for intelligent transportation system (ITS),  Definition of a collision detection and warning algorithm that has the capability to detect traffic accidents accurately and send warnings in real time.  By defining our own evaluation criteria, we have compared our architecture with existing works and found that the new architecture has better scalability, reliability, and performance,  Extensive performance evaluations to show the feasibility of the concept using simulation and empirical results obtained from other researches.

The remainder of this article is organized as follows. Section II elucidates summary of related works. In Section III, we detail the proposed architecture and the algorithm defined. Section IV presents performance evaluation results and comparison of the new architecture with other related architectures. Finally conclusions are drawn and future works are stated in Section V.
II. RELATED WORKS
Even though traffic accidents and fatalities have decreased greatly in the past few decades the problem is still observable in VRUs. To reduce traffic fatalities and accidents, various researches are conducted and many solutions are proposed ranging from design enhancements in infrastructure and vehicles to application of cutting edge technologies for VRUs collision detection and prevention. As stated earlier traffic safety can be passive or active. Passive safety involves safety countermeasures to mitigate the consequences of an accident once it has happened as much as possible while active one involves taking an action to avoid accidents by detecting, warning and automatic breaking [34], [21]. Safety measures may be related to vehicles, pedestrians or road infrastructures. Some examples of passive and active safety measures and literatures that deals with the measures are recapped in TABLE I.

TABLE I. EXAMPLES OF PASSIVE AND ACTIVE VRU SAFETY MEASURES

Passive safety measures Pedestrian airbag system [36] Proper usage of Seat Belts [37]
Using Helmets [38]

Active Safety measures Special pedestrian traffic lights [9] Intelligent Vehicle Speed Controller [35] Motorbikes and cyclists detection and warning system using V2X Communications [39]

There are researches that address both types of traffic safeties. For instance, [33] proposed a new approach using state-of-the-art numerical technologies for vulnerable road user safety enhancement. The solution can detect VRUs and provide data to active safety systems to protect accidents and in case of unavoidable accident it puts passive safety structures and systems into operation to mitigate effect of collision. Some other literatures consider all types of VRUs. An urban VRU classification framework using local feature descriptors and hidden markov model have been proposed by [32] to detect and classify pedestrians, bicyclists and motorcyclists. Though the focus is on pedestrian safety, our architecture can also entertain all types of VRU as long as the VRU is equipped with smartphone.
Literatures on passive pedestrian protection systems and the earlier works on active pedestrian protection systems that involves cameras, infrared, radar, tags and image processing are discussed in detail in [6]. Recently, to protect distracted users many solutions have also been proposed including designing special traffic lights [9]. The solution which is named the +Lichtlijn is linked to existing traffic lights and emits lighting strip in the pavement. These pedestrian detection mechanisms require an infrastructure and are highly affected by weather and do not work if the pedestrian is not in line of sight or at night. Therefore, researches that depend on V2P communication technologies to overcome the aforementioned problems have got attentions. Smartphones which are becoming causes of many traffic accidents are being used for safeguarding VRUs. Because of their sensing and communication capabilities smartphones are feasible for active safety of VRUs [31]. Smartphone based systems are important to protect VRUs whose line of vision is affected by buildings, trees, parked cars and other hindrances.
V2P communication prototype has been developed using 3G wireless network and WLAN to deter possible collisions by giving alarm to both pedestrians and vehicles [22]. The authors have developed an algorithm that estimates the collision risk between pedestrians and vehicles and tested the prototype at T intersection. However, the system is not scalable to apply in different road scenarios and to accommodate more road users. In another similar work [19], vehicles directly alert pedestrians their existence in close

distance using Wi-Fi technology. This work has revealed minimum information exchange distance based on communication technologies used and claimed that Wi-Fi can satisfy the application requirement. However, as there is no central server that manages messages sent to pedestrians there is possibility of message overloading. In another research [21], a pedestrian safety concept based on pedestrian detection, filtering supported by personal profiles and context awareness, prediction calculation, communication, and warning has been presented though keeping person profiles of all pedestrians especially strangers looks impractical. Moreover, in this work an assessment has been made on different architectures comprising of different combinations of cellular and ad hoc networks.
Albeit the main focus of [20] is on energy management of smartphones while using them for pedestrian road safety, the authors have proposed a method which assists development of V2P road safety applications without requiring any infrastructure unless existing central cloud server, mobile devices and cellular connectivity of vehicles. They also argued that cellular networks are best fits for pedestrian safety applications due to high mobility support, bit-rate, communication range and capacity as well as reduced user adoption costs and market penetration time. However, cloud computing based applications are not suitable for low latency applications. In an architecture proposed by [18], information generated by vehicles’ and cyclist’s mobile devices is sent over heterogeneous communication architecture and processed in a central server i.e. cloud server which generates messages that are shown on the drivers’ and cyclists’ human-machine interface. The cooperative intelligent transportation system proposed allows the use of vehicles as mobile sensors that share their positions, speed, and direction in form of floating car data with the VRUs warning each other about their locations so that they can take appropriate maneuver to avoid collisions. The system is primarily designed for cyclists and it relays on infrastructures like RSUs, TMC and HMI.
Our work differs from aforementioned related works in that it is based on a fog computing architecture that take advantage of geographically distributed fog servers in order to collect crowd sensed data from pedestrians and vehicles, predict collision risk and dispatch warning messages to road users and vehicles. As mobiles have limited capacity, a scalable architecture with low latency is mandatory. PV-Alert (Pedestrian-Vehicle alert), meets these characteristics and doesn’t require special infrastructures except existing ones like users’ mobiles, wireless connections and fog servers.
III. ARCHITECTURE AND ALGORITHM DESCRIPTION
In this section we first present proposed architecture and its components. Next description of the algorithm including its flow chart is outlined.
A. Architecture Description
The pictorial representation of the new architecture is shown in Fig.1. The architecture has three layers with three corresponding components crowd, fog node and cloud server.
A Crowd which refers to pedestrians and drivers performs the opportunistic type of crowd sensing of longitude, latitude, speed, and direction using their smartphones. Just like [21] and [23], we assume that the position information read by smartphones of VRUs and drivers has enough precision for traffic safety applications. Of course as mentioned in future work section we are working towards further improvement of GPS accuracy. After appending time stamp the data is sent to fog node every second. Note that the minimum cooperative awareness message (CAM) frequency for VRU applications is set to be one second by European Telecommunication Standards Institute (ETSI). Though the architecture can work with lower frequencies, we have taken this threshold value in order to save smartphones’ energy. More actions are taken to save Smartphone’s energy. Pedestrians who are moving away from vehicle roads and which are not in the proximity of roads are excluded from sending the CAM message every second. Furthermore, even though smartphone owners are near roads their mobiles send data to fog node only when there is any

potential risk of collision and they are moving. For instance, if a pedestrian is walking in a road and if there is no car in nearby then his mobile will not send position data to save energy consumption.

Dmin = Vveh*(tp+tr+ttx+tc) + GPSerr-veh+GPSerr-ped

(1)

Where,
 Vveh = is velocity of a vehicle,  tp = is time for perception and it is 0.83s [19]  tr = is time for reaction and it is 0.15s for touch (vibration)[26]  ttx = is transmission delay  tc = is time for computation of algorithm  GPSerr-veh and GPSerr-ped are GPS errors of vehicles and pedestrian
positions. Next, actual distance from vehicle to pedestrian crossing is calculated. Actual distance is simply calculated using distance formula as locations of the two parties are known and as we have a database storing road information. Based on Dmin and actual distance it can be determined whether there is an imminent collision or not. If actual distance is less than Dmin then the pedestrian is in a collision risk region and warning message is sent to both driver and pedestrian. If a pedestrian is in more than one vehicles’ collision risk region then warning message management module will take care of multiple messages. The algorithm runs indefinitely in iteration in fog node. In order to evaluate the architecture in simulated environment the algorithm is implemented and installed in a representation of fog node. Detail analysis and implementation of the algorithm is underway and the result will be presented in our next research output.

Fig.1. Architecture of PV-Alert
Fog node is another important component of PV-Alert. It has a responsibility of receiving CAM messages sent from mobile devices and executing the algorithm proposed. If any risk of collision is anticipated, the node sends alert message in real time to both pedestrian and vehicle as accidents are usually due to driver’s error and/or pedestrian’s carelessness. Moreover, fog node performs perturbation and aggregation of the collected data before sending it to the cloud. The third layer comprises of cloud server. Its responsibility in this architecture is performing aggregated analysis on data received from fog nodes for further use in traffic analysis and decision making.
Edge location of fog nodes in bus stations, supermarkets, and road side buildings make fog computing an ideal solution for latency sensitive applications like traffic safety [7]. Fog nodes may be connected to smartphones using radio access networks (RAN) which could be WLAN, WiMAX or cellular networks such as LTE. The nodes are extended to cloud server using core networks. The length of road segment covered by a single node is dependent on the communication technology used; it varies from hundreds of meters to kilometers.
B. Pedestrian Collision Prediction Algorithm Description
At fog level, we developed a pedestrian collision prediction algorithm in order to anticipate collisions and send alerts to pedestrians and drivers. The algorithm can be applied to any road scenarios. Its flowchart is shown on Fig. 2. In initialization step pedestrians’ and drivers’ mobiles are subscribed/connected to the server. Smartphones send their sensed data to the server every second (maximum CAM beacon frequency set by ETSI). For optimization purpose pedestrians and drivers moving away from the road segment are inactivated. The next step is identifying intersecting pedestrian and vehicles using the sensed data, road information and the source, destination as well as path of each vehicle. Intersecting pedestrians and vehicles are those which cross each other posing collision risk. The most crucial module is collision risk prediction module. Its duty is estimating potential dangers of collisions between pedestrians and vehicles at particular instant of time. For this purpose, minimum information exchange distance (Dmin) is computed using formula (1) which is taken from [19].

Fig.2. Flowchart of Pedestrian Collision Prediction Algorithm
IV. PERFORMANCE EVALUATIONS AND DISCUSSIONS
Subtopics in this section are presented in the following order. Comparison of our architecture with other similar architectures using criteria defined is outlined in section A. Simulation setup and road scenario considered are discoursed next. Results of simulation with justifications are then provided. We conclude this section by displaying empirical comparison result of our architecture with figures obtained in other related architectures. .
A. PV-Alert vs. Existing Architectures
Various smartphones-based architectures have been proposed since today’s mobile devices have many capabilities in addition to their primary purpose. Compression of different architectural approaches utilizing ad hoc and/or cellular technologies and different processing setups (i.e. location of filtering process) has been made in [21] using criteria like energy consumption, time agility, reliability,

cost and ease of management. In this sub-section we have conducted analytical comparison of our architecture with other smartphone based traffic safety architectures by introducing new comparison criteria. Generally, smartphones-based traffic safety architecture can be categorized into two classes: architectures that use only smartphones with no central server and architectures that use smartphones and some kind of central server. In the former case vehicles and pedestrians directly communicate with each other [19]. This implies that collision prediction algorithm runs on the mobile devices. In the latter case the duty of mobile devices is primarily sending CAM to the central server and receiving warning message dispatched from the server. So, the prediction algorithm runs on the central server. Further classification can be made based on whether central server is cloud server [18], [20] or ordinary server [21], [22], [23].
Hence, we propose to classify smartphone based architectures into four categories: mobile-to-mobile (M2M), mobile-to-cloud (M2C), mobile-to-ordinary server (M2OS), and mobile-to-fog node (M2FN). The architectures are compared in terms of energy saving, latency, reliability, scalability, computational capability and message management. Energy saving refers to the ability of an architecture to assist mobile devices save their energy. Latency as defined in [21] is concerned with how much time the system has between sensing and reaction. Round trip time, connection establishment time, and pedestrian prediction algorithm processing time have important contributions for latency. An architecture is said to be reliable if the failure of some of its component does not lead to the cessation of the entire system. Scalability of architecture is its ability to cope and perform as application of the system expands to city wide scale beyond road segments. Computational capability refers the capability to run collision prediction algorithm efficiently. Message management is about handling multiple warning messages for a pedestrian or a driver. That is if a pedestrian is in collision risk area of multiple vehicles, he may receive multiple warning messages causing message overloading. But for optimum safety of pedestrian and proper use of resources it is better if she/he receives one message indicating multiple collision risks.

TABLE II. COMPARISON OF DIFFERENT TRAFFIC SAFETY
ARCHITECTURES

Architecture

M2M M2C M2OS M2FN

Energy Saving

-

+

+

+

Latency

+

-

+

+

Reliability

+

-

-

+

Scalability

-

+

-

+

Computational Capability

-

+

+

+

Message Management

-

+

+

+

As shown in TABLE II, architectures are ranked as + (for high) or – (for low) for each criteria. Architectures involving only mobile devices (M2M) have the shortest latency and the failure of one or more mobile devices will not affect the entire system. However, it has high energy consumption, low computational capability, limited scalability and is subject to message overloading. Architectures with central server (M2C, M2OS, and M2FN) enable mobile devices save their energy (since collision detection algorithm runs on the servers with continuous power supply), have high computational capacity and can centrally manage warning messages. Reliability of M2C and M2OS are low since the failure of centralized server entails total stoppage of the system. Fog node and cloud server based systems have high scalability due to distribution and high computational capacity respectively. Therefore, from this comparison we can conclude that a fog-based architecture is the best fit for vulnerable road user safety applications as it is more reliable, scalable and has low latency. This is further proved by empirical comparison made at

the end of this section. In addendum, we can infer that fog computing is a promising paradigm for ITS.
B. PV-Alert simulation setup
Before, evaluating the proposed architecture in real environment and deploying it, testing the system in simulated environment is vital. The purpose of simulations in this research is to check if PV-Alert is feasible and fulfils the constraints enacted by ETSI for VRU applications. The main objective of our research is to enable drivers & vehicles avoid collision by notifying each of them trough their mobile devices. Mobile smartphones could communicate with the fog node using Wi-Fi, WiMAX or cellular connections like LTE. Different works already show that both Wi-Fi [19] and cellular [20], [27] connections can be used for traffic safety applications. Hence, our simulations are done for Wi-Fi and LTE. The fog node is placed in proximity of access point and eNodeB for Wi-Fi and LTE respectively. Our simulation is different from evaluations of other similar works in that our test includes large number pedestrians and vehicles. Such simulation is very important, since it is very difficult to run on real environment.

TABLE III. SIMULATION PARAMETERS

Parameter

Value

General Parameters

Packet Size Simulation Time CAM Frequency
Vehicle Speed Pedestrian Speed Simulation Area
Scenario
Propagation Loss model Fading Model Scheduler TxPower(eNB) TxPower (UE) Downlink bandwidth Uplink bandwidth

1KB 120s 1Hz SUMO Parameters
10-80kmph 5kmph 120mx60m for WiFi and 3000mx60m for LTE Refer Fig. 3
LTE
Nakagami with Free Space path loss Trace Fading Loss Model Proportional Fair MAC Scheduler 25dB 15dB 30MB 25MB

Wi-Fi

Propagation Loss model Bandwidth Frequency Band Client TxPower Server TxPower

Nakagami chained with Log Distance 20MHz 5GHz 16dB 25dB

PAV-Alert is evaluated using discrete-event open network simulation environment ns-3 [24] and microscopic, multi-modal traffic simulation tool SUMO [25]. Both tools are most widely used by many researchers since they are open source and are being actively supported. Most important simulation parameters applied are outlined in TABLE III. The first step in conducting our simulation is to get mobility trace file from SUMO. We obtain the file after setting all required SUMO parameters for a specific simulation scenario and running the simulation. Default arrival rate of SUMO is used for the traffic. The mobility trace file is then used by ns-3 to create node mobility.
We have considered the following two performance metrics:
 Round Trip Delay time (RTD) – the time period from sending CAM beacon to the fog node to receiving a warning message in case of anticipated accident
 Packet Delivery Ratio (PDR) – the average ratio of packets received by fog node and smartphones to the total packets sent to fog node (from smartphones) and to smartphones (from the fog node).

RTD is computed using the following formula:

RTD = Tsp-fn + Tc + Tfn-sp

(2)

Where,

 Tsp-fn is end-to-end delay from smartphones to fog node,  Tfn-sp is end-to-end delay from fog node to smartphones,  Tc is computation time of the algorithm.

We used the following equation to calculate PDR:

PDR = 100*((1/2)*(PRec_sp / PGec_fn + PRec_fn / PGen_sm))

(3)

Where,
 PGen_sp is total number of packets generated by smartphones,
 PRec_sp is total number of packets received by smartphones,
 PRec_fn is total number of packets received by fog node,  PGen_fn is total number of packets generated by fog node.

latency time. The increase is due to the interference and congestion as multiple nodes contend to access the same medium. In Fig. 5. b), we varied the vehicles speed and raised the number of pedestrians and vehicles. For slow moving vehicles (30kmph) and pedestrians (5kmph) more than 80% PDR is well achieved till number of nodes reaches 70. However, PDR for fast moving vehicles is low if the number of nodes exceeds 25. This is due to the fact that fast-moving vehicles have less access to the medium and due to packet losses owing to interference. Hence, these results confirm that Wi-Fi has better performance in sparse networks and it has limited mobility support [28].

C. Simulation Scenario
The road scenario considered is a two lane straight road with many pedestrian roads crossing it and pedestrians’ line of vision is affected by buildings, trees, parked cars and other hindrances see Fig. 3. The reason for why we have chosen this scenario is vehicles speed is high in straight road and pedestrians coming out of smaller intersecting roads are highly susceptible to traffic accidents due to affected line of vision, distraction and inattention. Moreover, severity of a straight road crash is 1.7 (0.9 - 3.2) times more serious or fatal outcome than on non-straight roads [13]. Even though many researches focus on crossing roads [19] and T roads [22], literatures reveal high percentage of road accidents in straight roads; 80% [12], 89.8% [14], and 93% [15]. Pedestrian accidents are even common in pedestrian crossings [16], [17].

Fig. 4. RTD and PDR vs. distance (WiFi connection with the fog node)

Fig.3. Simulation scenario1
D. Simulation Results and Discussions
As mentioned before, the system is evaluated for both Wi-Fi (whose result is shown in figures 4 & 5) and LTE (whose result is shown in figures 6 & 7).
Fig. 4. a) shows how delay is impacted by the distance between fog node and pedestrians/vehicles. We can notice that the RTD of both pedestrians and vehicles is under the maximum latency time (100ms) set by ETSI [12]. The difference between the two is due to the speed since slow moving objects will have more chance to access the channel. Packet delivery ratio is also affected by the distance between the fog node and road users as well as speed as shown in Fig. 4. b). More than 80% of the sent packets are received as long as the distance of mobile devices is not more than 100 meters. Signal attenuation is the reason for dropping of PDR when the distance exceeds 100 meters.
Fig. 5, depicts results of evaluation of delay and PDR by increasing number of road users (of which approximately 50% pedestrians and 50% vehicles) and by varying the vehicles’ speed (30kmph, 50kmph and 80kmph, 5kmph is for pedestrians). As shown in fig. 5. a), the RTD increases as the number of road users and their speed increase but the delay is still below the maximum expected
1 Smaller dots in the figure represents pedestrians

Fig. 5. RTD and PDR vs. number of vehicles and pedestrians (WiFi connection with the fog node)

Experimental result of round trip time delay and packet delivery ratio when an LTE connection is used by smartphones to communicate with the fog node is given in Fig. 6 and Fig. 7. Round trip time delay increases from 20ms to 60ms as the nodes move away from the fog node, as shown in Fig. 6. a). The delay fulfils the application requirement and we can notice that the difference between fast-moving vehicles and slow-moving vehicles is not significant due to high mobility support of LTE [28], [29]. The same is true for the PDR as shown in Fig. 6. b); PDR exceeds 80% for all distances and the difference among vehicles moving at different speeds is insignificant. However, there is a tendency of PDR decrease as speed and distance increase.

architecture [18] is about 281ms. In mobile to ordinary server (M2OS) architecture proposed by [21] the least latency, 100ms, is achieved when by then latest cellular network HSPA used. The mobile to fog node (M2FN, i.e. PV-Alert) has a maximum round trip delay of 60ms making it the second best time. However, with other characteristics fog node based architecture is the best choice for VRU safety applications.

Fig. 7. RTD and PDR vs. number of vehicles and pedestrians (LTE Connection with the fog node)

Fig. 6. RTD and PDR vs. distance (LTE Connection with the fog node)

Fig. 7. shows the impact of the number of vehicles and pedestrians on delay and packet delivery ratio at different distances. Due to the high mobility support of LTE, we can observe that the speed does not significantly impact the delay and PDR. Therefore, the experiments were realized for different average distances and a velocity of vehicles that does not exceed 80kmph in urban scenarios. At average distance of 1KM, all nodes’ delay is below the threshold value; however, as vehicles and pedestrians average distance increase (2KM and then 3KM), the delay increases due to the signal attenuation combined with network congestion. In Fig. 7. a), if the number of vehicles is 55 or below, the system satisfies delay requirement at any distance. PDR is more affected by the number of nodes than distance as depicted in Fig. 7. b). The average PDR of uplink and downlink is above 80% for all the distances though it gradually decreases as the number of nodes increases. Moreover, we have noticed that downlink PDR is higher than uplink due to downlink’s higher bandwidth.
Our conclusion from the simulation is that the proposed fogbased architecture, PV-Alert, meets the constraints fixed by ETSI for safety applications regardless of the wireless technology used by the smartphones (WiFi or LTE).
Before concluding this section we will present the result of an empirical comparison of our simulation results with other smartphone-based architectures. This helps to reinforce the analytical comparison results of section IV, A. As shown in Fig. 8., mobile to mobile (M2M) architecture proposed by [22] has a delay of 20ms for V2P communication when WLAN is used. Average round trip time of bike and vehicle reception delays of a mobile to cloud (M2C)

Fig. 8. Latency of different smartphone-based VRU safety architectures
V. CONCLUSIONS AND FUTURE WORKS
In this paper, we propose a new infrastructure-less architecture that takes advantage of omnipresent smartphones and helps vehicles avoid collision with vulnerable road users by sending notifications about imminent collisions to both drivers and VRUs. The architecture is based on an emerging computing paradigm named fog computing which is a promising solution for problems that require low latency, high geographical distribution, high mobility support, location awareness etc. We have also defined a pedestrian collision prediction algorithm for the architecture. PV-Alert is compared to other smartphones-based VRU safety architectures to prove its scalability, reliability and fastness. Moreover, simulation results showed that PV-

Alert goes with the latency threshold enacted by ETSI for VRU applications. Finally, empirical comparison of latency of our architecture with similar solutions indicates that the new architecture is among those with low latency.
Currently, we are working towards testing the architecture in real environment. For this purpose we are developing client and server applications to implement and test the proposed algorithm in urban area. In order to improve accuracy of GPS read by smartphones we are implementing an artificial neural network based system using python and Keras (a tool developed to make implementing deep learning models as fast and easy as possible for research and development[40]). In addendum, we are working towards context awareness for smartphone sensing in order to enhance energy saving of the devices.

VI. REFERENCES

[1]. Europa.eu, “2015 road safety statistics: What is behind the figures”,

2016. [Online]. Available: http://europa.eu/rapid/press-release_MEMO-

16-864_en.htm. [Accessed: 15 – Jan- 2017]

[2]. Europa.eu, “2016 road safety statistics: What is behind the figures”,

2017. [Online]. Available: http://europa.eu/rapid/press-release_MEMO-

17-675_en.htm. [Accessed: 20 – Apr- 2017]

[3]. Who.int, “Global status report on road safety 2015”, 2016. [Online].

Available:http://www.who.int/violence_injury_prevention/road_safety_s

tatus/2015/en/. [Accessed: 15- Jan- 2017]

[4]. Robyn D. Robertson, “Pedestrians: What We Know?”, TI RF, Ottawa,

Ontario Canada, 10 novembre, 2015.

[5]. World Health Organization, “Pedestrian Safety”, WHO, Geneva,

Swizerland, 2013.

[6]. T. Gandhi and M. Trivedi, “Pedestrian Protection Systems: Issues,

Survey, and Challenges,” IEEE Trans. Intelligent Transportation

Systems, vol. 8, no. 3, pp. 413-430, Sept. 2007.

[7]. F. Bonomi, R. Milito, J. Zhu, and S. Addepalli, “Fog computing and its

role in the internet of things,” in Proceedings of the First Edition of the

MCC Workshop on Mobile Cloud Computing, ser. MCC’12. ACM,

2012, pp. 13–16.

[8]. A. Munir, K. Prasanna, and SU. Khan, "IFCIoT: Integrated Fog Cloud

IoT Architectural Paradigm for Future Internet of Things." arXiv

preprint arXiv:1701.08474 (2017).

[9]. techworm.net, “Dutch authorities testing out traffic lights for smartphone

addicts”,2017.[Online].Available:https://www.techworm.net/2017/02/du

tch-authorities-testing-traffic-lights-smartphone-addicts.html. [Accessed:

20 – Feb- 2017]

[10].dailymail.uk, “Latest menace on our roads? It's the smartphone

zombies”,2016.[Online].Available:http://www.dailymail.co.uk/news/arti

cle-3522026/Latest-menace-roads-s-smartphone-zombies-Three-

quarters-drivers-say-seen-pedestrian-veer-pavement-staring-device.html.

[Accessed: 09 – Jan- 2017]

[11].X. Hou, Y. Li, M. Chen, D. Wu, D. Jin and S. Chen, Vehicular, “Fog

Computing: A Viewpoint of Vehicles as the Infrastructures”, IEEE

Transactions on Vehicular Technology, Vol.65, No.6, 2016.

[12].European Telecommunications Standards Institute, “Intelligent

Transport Systems (ITS); Vehicular Communications; Basic Set of

Applications; Definitions”, ETSI, Sophia Antipolis, FRANCE, 2009

[13].Keum, Clara Binnara. "Analysis of road trafc crashes and injury severity

of pedestrian victims in the Gambia." MS (Master of Science) thesis,

University of Iowa, 2016. http://ir.uiowa.edu/etd/2097

[14].J Knowles, L Smith, R Cuerden and E Delmonte, “Analysis of police

collision files for pedestrian fatalities in London”, TRL, London,

England, 2006.

[15].D.R. Kouabenan, and J.M. Guyot, “Study of the causes of pedestrian

accidents by severity” . Journal of Psychology in Africa, 14(2), pp.119-

126, 2004.

[16].J. Rokytova, and M. Sklenar, .” Analysis of road accidents on pedestrian

crossings caused by speeding,” In speed management strategies and

implementation-planning, evaluation, behavioural, legal and

institutional issues-proceedings and abstracts of 15th ictct workshop

held brno, czech republic, October 2002.

[17].timesofindia.indiatimes.com, “City recorded 82 accidents at pedestrian

crossings

last

year”,

2015.

[Online].Available:

http://timesofindia.indiatimes.com/city/coimbatore/City-recorded-82-

accidents-at-pedestrian-crossings-last-year/articleshow/48229641.cms.

[Accessed: 12 – Jan- 2017]

[18].U. Hernandez-Jayo, I. De-la-Iglesia, J. Perez, “V-Alert: Description and

Validation of a Vulnerable Road User Alert System in the Framework of

a Smart City”, . Sensors 15, Vol. 8, pp. 18480–18505, 2015.

[19].J.J. Anaya, P. Merdrignac, O. Shagdar , F. Nashashibi, and J.E.

Naranjo, “Vehicle to pedestrian communications for protection of

vulnerable road users”, In Intelligent Vehicles Symposium Proceedings,

2014 IEEE (pp. 1037-1042), June, 2014.

[20].M. Bagheri, M. Siekkinen, and J. K. Nurminen, “Cellular-based vehicle

to pedestrian (V2P) adaptive communication for collision avoidance,”

2014 International Conference on Connected Vehicles and Expo

(ICCVE), 2014.

[21].K. David and A. Flach, “CAR-2-X and Pedestrian Safety,” IEEE

Vehicular Technology Magazine, vol. 5, no. 1, pp. 70–76, 2010.

[22].C. Sugimoto, Y. Nakamura, and T. Hashimoto, “Prototype of

pedestrian-to-vehicle communication system for the prevention of

pedestrian accidents using both 3G wireless and WLAN

communication,” 2008 3rd International Symposium on Wireless

Pervasive Computing, 2008.

[23].C. Sugimoto, Y. Nakamura, and T. Hashimoto, “Development of

Pedestrian-to-Vehicle Communication System Prototype for Pedestrian

Safety Using both Wide-Area and Direct Communication,” 22nd

International Conference on Advanced Information Networking and

Applications (aina 2008), 2008.

[24].“ns-3,” ns3 RSS. [Online]. Available: https://www.nsnam.org/.

[Accessed: 28-Feb-2017].

[25].“Professionelle Suchmaschinenoptimierung,” UDG SUMO. [Online].

Available: http://www.sumo.de/. [Accessed: 28-March-2017].

[26].backyardbrains.com, “Experiment: How Fast Your Brain Reacts to

Stimuli”.[Online].Available:https://backyardbrains.com/experiments/rea

ctiontime. [Accessed: 30 – Feb- 2017] .

[27].S. Kato, M. Hiltunen, K. Joshi, and R. Schlichting, “Enabling vehicular

safety applications over LTE networks,” 2013 International Conference

on Connected Vehicles and Expo (ICCVE), 2013.

[28].Z. H. Mir and F. Filali, “LTE and IEEE 802.11p for vehicular

networking: a performance evaluation,” EURASIP Journal on Wireless

Communications and Networking, vol. 2014, no. 1, p. 89, 2014.

[29].G. Araniti, C. Campolo, M. Condoluci, A. Iera, and A. Molinaro, “LTE

for vehicular networking: a survey,” IEEE Communications Magazine,

vol. 51, no. 5, pp. 148–157, 2013.

[30].Safety.com, “Distracted Walking a Major Pedestrian Safety Concern,”

Safety.com,

23-Feb-2016.

[Online].

Available:

https://www.safety.com/blog/distracted-walking-a-major-pedestrian-

safety-concern/. [Accessed: 26-April-2017].

[31].M. Liebner, F. Klanner, and C. Stiller, “Active safety for vulnerable road

users based on smartphone position data,” 2013 IEEE Intelligent

Vehicles Symposium (IV), 2013.

[32].T. Takahashi, H. Kim, and S. Kamijo, “Urban road user classification

framework using local feature descriptors and HMM,” 2012 15th

International IEEE Conference on Intelligent Transportation Systems,

2012.

[33].M. Ptak and K. Konarzewski, “Numerical Technologies for Vulnerable

Road User Safety Enhancement,” New Contributions in Information

Systems and Technologies Advances in Intelligent Systems and

Computing, pp. 355–364, 2015.

[34].M. Lu, K. Wevers, and R. V. D. Heijden, “Technical Feasibility of

Advanced Driver Assistance Systems (ADAS) for Road Traffic Safety,”

Transportation Planning and Technology, vol. 28, no. 3, pp. 167–187,

2005.

[35].J. C. A. Pérez, F. Seco, V. Milanés, A. Jiménez, J. C. Díaz, and T. D.

Pedro, “An RFID-Based Intelligent Vehicle Speed Controller Using

Active Traffic Signals,” Sensors, vol. 10, no. 6, pp. 5872–5887, Sep.

2010.

[36].K.J. Boxey, "Pedestrian air bag." U.S. Patent No. 8,016,066. 13 Sep.

2011.

[37].A. K. Abbas, A. F. Hefny, and F. M. Abu-Zidan, “Seatbelts and road

traffic collision injuries,” World Journal of Emergency Surgery, vol. 6,

no. 1, p. 18, 2011.

[38].A. F. Philip, W. Fangman, J. Liao, M. Lilienthal, and K. Choi, “Helmets

Prevent Motorcycle Injuries with Significant Economic Benefits,”

Traffic Injury Prevention, vol. 14, no. 5, pp. 496–500, Apr. 2013.

[39].J. J. Anaya, E. Talavera, D. Gimenez, N. Gomez, J. Felipe, and J. E.

Naranjo, “Vulnerable Road Users Detection Using V2X

Communications,” 2015 IEEE 18th International Conference on

Intelligent Transportation Systems, 2015.

[40].“Keras: Deep Learning library for Theano and TensorFlow,” Keras

Documentation. [Online]. Available: https://keras.io/. [Accessed: 27-

April-2017].

