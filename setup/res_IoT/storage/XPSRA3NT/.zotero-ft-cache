From Ground to Aerial Communication: Dissecting WLAN 802.11n for the Drones

Mahdi Asadpour, Domenico Giustiniano, Karin Anna Hummel
Communication Systems Group ETH Zurich
Zurich, Switzerland
{mahdi.asadpour,domenico.giustiniano,karin.hummel}@tik.ee.ethz.ch

ABSTRACT
Micro Unmanned Aerial Vehicles (UAVs) employed in civil missions are receiving remarkable attention from both research and industry. UAVs embed more and more sensor technology, and their small mounted cameras allow for eﬃcient mapping of large areas in short time. Yet, civil missions such as rescue operations would need a timely delivery of high-resolution images, which calls for high-speed communication such as provided by WLAN IEEE 802.11n. Driven by extensive experiments, the key ﬁnding of this contribution is that 802.11n performs poorly in highly mobile and aerial scenarios, as the throughput between UAVs drops far below the theoretical maximum as soon as they become airborne. This is partially caused by the limitations of the embedded hardware, but also a result of the network dynamics of the aerial links. In order to dissect the origins of the low performance ﬁgures, we isolate the potential causes of degradation by analyzing our data of throughput, packet loss, aircraft and antenna orientation, and cruise speed. We discuss quantitatively how practical it is to deliver high-resolution images when being exposed to aerial throughput. We believe that it will be a long way until micro UAVs transferring large-size data become reality and argue for a new amendment of IEEE 802.11 addressing the communication among highly-mobile UAVs.
Categories and Subject Descriptors
C.2.1 [Computer-Communication Networks]: Network Architecture and Design—Wireless communication
Keywords
Unmanned Aerial Vehicles, IEEE 802.11n, Airborne Wireless Communication, Measurements
1. INTRODUCTION
In civil missions such as Search and Rescue (SAR) operations, micro Unmanned Aerial Vehicles (UAVs) play an
Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for proﬁt or commercial advantage and that copies bear this notice and the full citation on the ﬁrst page. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speciﬁc permission and/or a fee. Request permissions from permissions@acm.org. WiNTECH’13, September 30, 2013, Miami, Florida, USA. Copyright 2013 ACM 978-1-4503-2364-2/13/09 ...$15.00. http://dx.doi.org/10.1145/2505469.2505472.

increasingly important role. As SAR missions are timecritical, UAVs may greatly help the rescue team on the ground by providing a swift ﬁrst overview of the target area. For instance, state-of-the-art UAVs can carry highresolution cameras, which can provide an imagery view of the search area and even spot a missing person. Yet, all the potential behind such data is lost if it cannot be delivered to the rescuers in time. As a result, making high-speed communications between ﬂying UAVs is a key challenge in SAR missions.
As cellular network coverage often cannot be assured in case of natural disaster or in wilderness areas such as mountains and forests, SAR missions should best not rely on an infrastructure network, but set-up an ad-hoc network. Making such an approach practical is however far from trivial. Because of cost reasons and limited battery life, UAVs are a scarce resource and only a few UAVs are available to monitor and cover large areas at a given time. This impairs reliable and high throughput communication between UAVs, a problem widely unexplored in related work.
In order to shed some light into this scenario, we conduct an experimental study of the quality of aerial UAV-to-UAV links under varying context parameters. We employ UAVs in a real testbed and make the following contributions by summarizing and extending previous results [3]:
● We introduce a system architecture based on a hybrid network ready for bulk data transfer (Section 3). The networks considered in the hybrid approach are WLAN 802.11n and XBee-PRO 802.15.4. Further, we summarize the implications of embedded hardware restrictions (Section 4).
● By conducting real aerial experiments, we investigate the impact of distance, speed, rate adaptation, and other parameters on link quality and networking performance (Section 5).
● We present an analytical model and estimate the expected aerial transmission time for large-size image data transfer (Section 6).
We show that UAV-to-UAV 802.11n throughput drops far below the theoretical maximum and just reaches throughput at the level of the older 802.11a/g technology, despite novel 802.11n features such as transmit spatial coding, channel bonding, and frame aggregation. We investigate potential causes and their impact in isolation. Key conclusions are that the 802.11n automatic rate adaptation cannot cope

25

with highly mobile and dynamic wireless channels. Additionally, we ﬁnd that the interplay of the Doppler eﬀect and the antenna direction causes high packet losses across diﬀerent relative speeds and positions.
2. RELATED WORK
Micro ﬂying robots, also termed drones or UAVs, are nowadays equipped with small on-board cameras. Such cameras can be used to: (i) enable autonomous ﬂight of UAVs by using on-board computer vision algorithms [12], and (ii) take pictures that are processed after landing in order to create a 3D map [10]. An image collection like that is, however, not suitable for SAR missions since the rescuers urge to visually inspect the pictures right away, with the least delay possible.
UAVs are also leveraged as communication supporters in diﬀerent mission contexts. In principle, UAVs may act as relays [19], as known in other multi-hop wireless networks, or as ferries [8, 9] leveraging own mobility to transmit data between remote stations through air-to-ground links. Hereby, commercial oﬀ-the-shelf wireless devices are economically preferred, such as WLAN operating in 802.11a mode [17].
However, UAV networks are challenged by the dynamics of movement, which have not been considered so far by traditional wireless networking approaches designed for stationary or low mobility contexts, such as mesh networks [2, 16]. Networking is aﬀected as signal propagation changes frequently and protocols have to adapt for optimizing link quality assessment, PHY rate selection, and antenna orientation in 3D space. In case of high speeds, also the Doppler effect has to be considered. The signiﬁcant inﬂuence of antenna orientation is discussed in [18] for air-to-ground links in terms of achievable throughput and number of retransmissions in the 5 GHz frequency band. A limitation of previous works is that they have not addressed the air-to-air link, which we aim to characterize in this contribution.
Finally, the high throughput of classical wireless network deployments is also desired in UAV networks. Yet, highspeed delivery of bulky data requires a physical layer, such as provided by 802.11n [1], that can support high data rates. Wi-Fi 802.11n has been extensively studied in indoor environments [13,15], but it has received little attention in aerial communication. With our work, we aim at closing this gap.
3. SYSTEM ARCHITECTURE
In an SAR scenario, UAVs aim at ﬁnding a missing person within a predeﬁned area with minimal delay by deploying a ﬂeet of UAVs and possibly other agents.1 As depicted in Figure 1, the area is separated into sub-areas termed ‘cells’, with each cell of size Acell. A cell is scanned by a UAV taking images of diﬀerent parts of this cell. The size of the area covered by an image is termed Aimage. The ‘planner’ resides at the ground station and calculates plans to eﬃciently coordinate the mission by taking the environment into account such as wind and weather conditions, terrain information (irregularity level, clutter level, etc.), and online input from UAVs. In particular, the mission planner controls the UAVs and their movement, and receives in return location information, such as GPS positions, and other sensory information from the UAVs [5].
1The cooperation of heterogeneous search agents is, e.g., addressed by our SWARMIX approach; more information can be found at http://www.swarmix.org/.

2Ñ

Area Acell of single cell

1.5 Ñ

Í Î1

1Ñ

Í Î2

Area Aimage of single image

0.5 Ñ

HT link LT link

Planner

0.5 Ñ

1Ñ

1.5 Ñ

2Ñ

Figure 1: Hybrid communication network ready for image transfer (HT=High Throughput, LR=Long Range): one UAV (UAV 1) scans a cell and transfers image data via another UAV (UAV 2) to the ground station (planner) leveraging the HT network. In addition, the LR network maintains the control channel between each UAV and the planner.

UAVs are equipped with high-resolution cameras but also with multiple sensors such as wind and acceleration sensors, and wireless communication technologies to report to the planner and to receive instructions from the planner. On the one hand, status information and commands demand only low throughput but reliable links, and on the other hand transferring images or videos demands high throughput links. Thus, we propose a hybrid system that leverages two diﬀerent networks: a ‘long range’ (LR) wireless network such as XBee, cellular if available, or a network utilizing white space frequencies, and a ‘high throughput’ (HT) wireless network such as WLAN IEEE 802.11. To increase the range of the HT network, UAVs build an ad-hoc multi-hop wireless network termed Unmanned Aerial Network (UAN). Because of cost reasons, it is currently unrealistic to deploy a high number of UAVs. Therefore, the UAN is partially disconnected, and communication distance varies over time according to the position (cell and actual position) of the UAVs.
3.1 Image Data
High-resolution images of the cells are sent using the UAN. At the planner, computer-vision processing is performed. This is advantageous, as, albeit partial image processing can be done by the UAV’s on-board micro-controller [12], this would further drain the UAV battery. Besides, the planner can take better decisions, if aware of the entire collected data, and the human expert still can stay in control by sighting the raw image material.
Each cell is scanned by one UAV using a mounted camera with resolution of Rpx × Rpy [pixel]. The resolution must be selected as a trade-oﬀ between detection possibility and network load caused. Using appropriate diﬀerent compression techniques will result in diﬀerent ﬁle sizes, Mimage [bits]. Further, each picture covers an area Aimage. A picture taken

26

USB WiFi Gumstix COM

Figure 2: The UAV/swinglet.

by a typical camera is rectangular with an aspect ratio k, and the Field Of View (FOV) is the diagonal of the rectangle. Therefore, by changing altitudes, UAVs can change the size of their observation areas [4]. Hence, the covered area is calculated as:

Aimage

=

(k

×

√FOV k2 +

1

)

×

( √FOV k2 +

) 1

.

The cell is scanned with approximately Acell/Aimage images. Finally, the total amount of data Mcell to be communicated through the UAV-to-UAV link is given by:

Mcell

=

Mimage ⋅ Acell . Aimage

(1)

4. SYSTEM IMPLEMENTATION
Deploying a network of UAVs capable of disseminating high-resolution images of an area in a real setting requires the selection of an appropriate, light-weight ﬂying platform and wireless communication modules.
4.1 Flying Platform
We employ ‘swinglets’, that are, light-weight ﬁxed wing UAVs developed at the Laboratory of Intelligent Systems at EPFL [11] (see Figure 2). The UAV has a wingspan of 80 cm and a small weight (total weight is approximately 500 g including a small mounted camera). An electrical motor drives its single propeller and enables ﬂying. A lithium polymer battery is used that provides ﬂight autonomy of more than 30 minutes. The UAV’s cruise speed is 10 m/s and the altitude reached is more than 400 m. The main parameters are summarized in Table 1.
The main electronic system of the UAV is the autopilot, which integrates a GPS unit, pressure sensors, and inertial sensors. The autopilot enables the UAV to take oﬀ and land autonomously and to navigate through deﬁned way-points. Way-points can be set through a graphical user interface

Table 1: Swinglet parameters.

Nominal endurance Cruise speed

30 min 10 m/s

Typical climbing speed Max wind speed
Minimum turning radius

3 m/s 7 m/s 20 m

Typical altitude range 20 − 500 m

on the ground station. The communication link from the ground station (planner) to every UAV is based on an XBeePRO 802.15.4 radio operating in 2.4 GHz frequency band, which provides low bandwidth (only up to 250 kbps) but long range (up to 1.2 km). The XBee network is used for control messages and short sensor and status information, yet, it is not appropriate for transferring bulk data such as images. A detailed electronic speciﬁcation of the swinglet can be found in [11].
4.2 WLAN 802.11 Communication
The UAV is further equipped with a WLAN 802.11n module. For this purpose, the original UAV platform is extended by a Gumstix Overo Tide computer-on-module running a Linux distribution and residing next to the autopilot. The 802.11n USB dongle is attached with the help of an expansion board.
We select a Linksys 802.11n USB dongle with Ralink 3572 chipset due to its Linux compatibility, dual 2.4 and 5 GHz bands capability, light-weight design (weight: 11 g, dimensions: 79.9 × 25.4 × 12.4 mm), and the ﬂexibility of its driver which allows to conﬁgure various parameters including the PHY rate. The dongle is integrated into the left wing of the UAV as marked in Figure 2, as the noise generated by other on-board electronic components is less disturbing when selecting this placement. The card integrates two planar antennas and operates with the recent 802.11n amendment of IEEE 802.11, which exploits Multiple Input Multiple Output (MIMO). At boot up, UAVs establish an ad-hoc connection with each other and the planner at channel 40 in the 5 GHz band. We operate in the 5 GHz band to avoid interference with the XBee network operating in 2.4 GHz band.
4.3 Implications of the Implementation
The UAVs employed have some advantageous characteristics as they are light-weight and, thus, cause limited safety problems in case of crash failures. Further, they are capable of ﬂying at high altitudes and at high speeds. On the downside, the limited weight comes with limited freedom to apply communication modules without endangering the ﬂying functions, which challenges high-speed communication:
● The embedded hardware required to stay light-weight and support ﬂight functions, causes limited capabilities in terms of CPU power, storage, and available oﬀ-theshelf 802.11n communication modules.
● Although it is known that antenna characteristics and orientation strongly impact networking quality [18], mounting external antennas on a UAV is constrained by the antenna weight and possible disturbances of ﬂight functions.
● Finally, all wireless networking functions and protocols implemented in available driver software are exposed to ongoing high-speed movement and resulting variations of signal quality.
Given these challenges and principle limitations, we want to answer the question whether high throughput 802.11n UAV-to-UAV communication is practical and to what extent high resolution images can be delivered over these aerial links. In the next section, we investigate this problem by experimentally studying the quality of the aerial UAV-to-UAV links.

27

Throughput (Mb/s)

Figure 3: GPS traces collected during the experiments with two UAVs when (a) they approach each other and depart, and (b) they ﬂy towards a meeting point. During the ﬂying activity, we measure 802.11n throughput, packet loss, RSSI, and other parameters.
5. EXPERIMENTS
We conduct real experiments comprising two UAVs and a laptop. In the tests, 802.11n features are enabled. Among others, the main features we use are MIMO PHY layer, channel bonding, frame aggregation, and block acknowledgment [1]. Our tests aim to assess the quality of aerial 802.11n links and to evaluate the impact of distance, relative speed, antenna orientation, and PHY rate adaptation on packet loss and throughput. To do so, we log the following data once per second:
● UAV parameters: current GPS position (latitude, longitude, altitude), altitude via pressure sensor, ground speed, battery level, etc.
● Communication parameters: throughput, packet loss, RSSI (Received Signal Strength Indicator, for two antennas), SNR (Signal to Noise Ratio, again for two antennas), etc.
5.1 Test Scenarios
Each of the two UAVs is conﬁgured to ﬂy between two distinct points for a couple of minutes. As our UAVs do not support automated collision avoidance, we conﬁgure them to follow waypoints at diﬀerent altitudes: 80 and 100 m, respectively. Hence, the UAVs can approach one another as close as desired without colliding. We generate UDP traﬃc at diﬀerent rates using iperf and perform throughput measurement of data transmissions between the ﬂying UAVs.
Our test scenarios are:
● Scenario A: To reach high relative speeds, the two UAVs’ waypoints are set to ﬂy towards and away from each other, as depicted in Figure 3(a). In this scenario, the iperf data rate is set suﬃciently high, that is, 80 Mb/s, to evaluate the maximum UDP throughput achievable through UAV-to-UAV links with dynamic channel conditions.
● Scenario B: In this scenario, one UAV is conﬁgured to ﬂy straight back and forth towards a meeting position, and the other UAV moves perpendicularly to

60
40
20
0 (46) (92) (128) (65) (42) (44) (23) (10) (19) (15) (20) (22) (12) (8) (10) (8) (3) (8) 20 40 60 80 100 120 140 160 180 200 220 240 260 280 300 320 340 360
Relative Distance (m)
Figure 4: Throughput vs. relative distance for Scenario A.
this movement. The GPS traces are depicted in Figure 3(b). During the test, the UAVs are roughly synchronized w.r.t. moving along the meeting circle. As a result, the relative speed is often less than their individual ground speeds. In this scenario, iperf sends at a data rate up to 30 Mb/s and we evaluate the impact of packet losses and PHY rate on the measurements.
In both scenarios, the 802.11n USB dongle is always placed into the left wing of each swinglet (see Figure 2). Thus, by investigating diﬀerent pathways, we can further analyze the inﬂuence of the antenna positions relative to one another on the received signal quality.
5.2 Results
In the following, we present the throughput and packet loss rate experienced, and investigate potential causes of performance drop with respect to our expectation. The results are visualized as boxplots showing median, 25% and 75% quartiles, and extreme values. Numbers in parentheses give the number of samples available for evaluation.
5.2.1 Impact of Distance
As reference scenario, we measure the throughput in an indoor environment using laptops and our 802.11n chipsets. A UDP throughput of up to ≈ 176 Mb/s is achieved using 802.11n which agrees with ﬁndings in related work [13]. Next, we show that this throughput is not obtained via aerial links between UAVs.
Figure 4 shows the throughput versus distance for Scenario A, where the distance is calculated applying the Haversine formula to GPS coordinates. The median of throughput shows a degradation along increasing distance. In addition, the throughput shows high variability even for short distances. At short distances, the throughput (≈ 19 Mb/s) is similar to the one expected of 802.11a/g implementations (i.e., ≈ 24 Mb/s), but is signiﬁcantly lower than the one expected of 802.11n (i.e., up to ≈ 176 Mb/s). The lack of suﬃcient spatial diversity of the aerial UAV-to-UAV channel limits any exploitation of the 802.11n multiple antennas. Yet, one would expect that other 802.11n protocol features such as channel bonding, frame aggregation, and block acknowledgment should still allow us to achieve higher throughput. In the following we investigate potential causes including Doppler eﬀect, antenna orientation, and automatic PHY rate.
5.2.2 Impact of Relative Speed
In order to evaluate the impact of the relative speed on the losses, we investigate the Packet Delivery Ratio (PDR) as a function of the relative speed between UAVs for Sce-

28

PDR PDR

Scenario A
1

0.8

0.6

0.4

0.2

0 ( 12)

(329) (226)

( 9)

14

18

22

26

Relative speed (m/s)

Scenario B
1

0.8

0.6

0.4

0.2

0 (201)

( 16)

( 19)

( 14)

0

4

8

12

Relative speed (m/s)

Figure 5: PDR vs. relative speed.

nario A and B (see Figure 5). Because of the noise in the

reported relative speed, we group the raw samples into bins

with similar speed.

Inspecting the results of Scenario A, we observe interme-

diate losses across the entire range of speed values. We claim

that at high relative speeds between two moving UAVs,

transmission degradation due to Doppler eﬀect is expected.

The reason is that the Doppler shift correction in the pream-

ble is assumed to be valid for the entire packet, which may

cause packet losses when the coherence time is equal to or

smaller than the packet duration [7].

In order to study the impact of Doppler in the tests,

we can consider that the UAVs’ relative motion causes a

Doppler

shift

of

fc

⋅Δ c

v

,

where

fc=5.2 GHz

(channel

40)

and

c

is the speed of light. For a relative speed of Δv = 15 m/s, we

have a coherence time of 1/(4 ⋅ Doppler shift) = 0.96 ms [14].

On the other hand, the 802.11n A-MPDU frame aggrega-

tion is designed to amortize the channel contention by using

the principle that multiple subframes of the A-MPDU are

transmitted in one frame of up to 64 KB and using one sin-

gle PHY preamble [1]. The duration of this A-MPDU frame

is likely longer than the coherence time of 0.96 ms. For in-

stance, without considering the protocol overhead, 64 KB

can be transmitted at 100 Mb/s in a time longer than 5.2 ms,

hence causing a burst of losses.

We then evaluate how the relative speed impacts the PDR

in Scenario B, where lower relative speed is achieved by

choosing diﬀerent ﬂight trajectories (see Figure 3). The re-

sults are summarized in Figure 5. More than 80% of the

samples are available for a relative speed between 0 and

2 m/s (all grouped in the bin at speed 0 m/s.). Despite the

lower relative speed, the PDR is even lower than for Scenario

A, with median PDR of ≈ 0.2. The conclusion of both sce-

narios is that the median PDR is dramatically low across all

ranges of values and that the Doppler eﬀect can not explain

(alone) the low observed PDR.

5.2.3 Impact of Trajectory and Antenna Position
In the following, we assess whether the waypoints of Scenario A and B (Figure 3) aﬀect the observed PDR. Further, we study whether this can explain the lower PDR for Scenario B when compared to Scenario A, despite the lower relative speed. To this end, we investigate the RSSI and the SNR. We plot the results in Figure 6 (Scenario A) and Figure 7 (Scenario B) for each of the two internal antennas of the 802.11n transceiver. As shown in Figure 8, antennas are mounted on the left wing of each UAV. They change their relative position to one another depending on the trajectory. In Scenario A, the orientation assures almost line-of-sight

RSSI
1

−60
−70
−80
−90 0
25 20 15 10
5 0

100 200 300 400
100 200 300 400 Relative Distance (m)

SNR2

RSSI
2

−60
−70
−80
−90 0
25 20 15 10
5 0

100 200 300 400
100 200 300 400 Relative Distance (m)

SNR
1

Figure 6: RSSIs and SNRs, for antenna 1 (left) and 2 (right), vs. relative distance for Scenario A.

RSSI
1

−60
−70
−80
−90 0
25 20 15 10
5 0

100 200 300 400
100 200 300 400 Relative Distance (m)

SNR
2

RSSI2

−60
−70
−80
−90 0
25 20 15 10
5 0

100 200 300 400
100 200 300 400 Relative Distance (m)

SNR
1

Figure 7: RSSIs and SNRs, antenna 1 (left) and 2 (right), vs. relative distance for Scenario B.

signal propagation at least half of the time. Conversely, the signal propagation is almost always partially obstructed by one UAV’s body in Scenario B. (Note that the UAVs are ﬂying at altitudes that are about 20 m apart.)
We observe that Scenario B shows a higher variability of RSSI and SNR (for instance, standard deviations of RSSI1 and SNR1 of Scenario A are respectively 3.486 and 2.256, while for Scenario B they are 4.435 and 3.364), but also more samples with better quality (higher RSSI and SNR). We can conclude that, despite the lower relative speed between the two UAVs in Scenario B (and thus lower impact of Doppler eﬀect), the relative orientation of the antennas causes severe obstruction of the line-of-sight signal in this scenario, and consequently a degradation of the PDR.
5.2.4 Impact of PHY Rate
In the following, we further stress Scenario B, characterized by a relative speed between the UAVs equal to or smaller than 10 m/s for ≈ 97% of the samples. We want to compare auto PHY rate adaptation with ﬁxed PHY rate settings. Thus, we select representative modulation schemes and coding rates, which are diﬀerentiated by a Modulation and Coding Scheme (MCS) index value. In Figure 9, the diﬀerent results for auto rate adaptation and the ﬁxed PHY rate are shown for MCS index of 1 and 8. For both MCS tests, the supported ﬁxed PHY rate is 30 Mb/s in the 40 MHz channel. The diﬀerence between them lies in the number of spatial streams supported; MCS1 supports one spatial stream, while MCS8 supports two spatial streams.

29

Scenario A

Scenario B

Figure 8: Antenna positions and trajectories.

As shown in Figure 9, the auto PHY rate results in less throughput compared to the static PHY rates for various ranges of distance (up to 300 m). In particular by ﬁxing the PHY rate to MCS1, higher throughput is observed than for the adaptive PHY rate. The low performance ﬁgure of the auto-rate can be a consequence of the high mobility of UAVs. Since the rate adaptation implementation is open source, we expect that improvements are possible by making the algorithm aware of the relative distance between UAVs. Besides, in Figure 9 we see that one spatial stream (MCS1) outperforms the two spatial streams (MCS8). This is likely caused by the space-time encoding scheme of MCS1 which ensures a diversity gain at the receiver side. As a consequence, a higher quality of the received signal can be maintained.

5.2.5 Battery Consumption

To make a ﬁrst attempt towards investigating energy con-

sumption of aerial UAV communication, we enable tracking

of energy readings. In every log entry, the battery level of

a UAV is collected, which denotes the energy left for the

entire system to operate and ﬂy. Note that we do not have

any on-board facility/sensor to accurately isolate power con-

sumption of wireless communication from the overall power

consumption.

Figure 10 visualizes the energy level for two traces of Sce-

nario A and B. In both tests, wireless communication uses

auto PHY rate. We observe a faster depletion of the battery

for Scenario A. Considering the slope of a ﬁtted line to Sce-

nario A (with coeﬃcient −0.0033) and comparing to that of

Scenario B (with coeﬃcient −0.0018), one can conclude that

Scenario

A

drains

the

battery

−0.0033 −0.0018

= 1.83

times

faster

than

Scenario B.

Among the possible reasons are the diﬀerent cruise speed

and wind speed during the experiments, but also the higher

data rate permitted for Scenario A (80 Mb/s) with respect to

the data rate of Scenario B (30 Mb/s). The lower data rate

reduces the load of both the CPU and the WLAN chipset.

We plan to investigate this phenomenon further in future

work.

6. AERIAL TRANSMISSION
From our experiments, we can draw some conclusion on how long it would take to transmit image data. In the following investigations, we focus on the data collected in one cell (see Figure 1).

Throughput (Mb/s)

Throughput (Mb/s)

30

Auto

25

20

15

10

5

0 (36) (45) (59) (30) (19) (18) (10) ( 4) ( 7) ( 3) ( 1) ( 1) ( 1) ( 3) ( 5) ( 6) ( 7) ( 1) 20 40 60 80 100 120 140 160 180 200 220 240 260 280 300 320 340 360

(a) Auto rate.

30

MCS1

25

20

15

10

5

0 (13) (28) (42) (15) ( 9) ( 9) (11) ( 3) (11) ( 4) ( 4) ( 3) ( 5) ( 4) ( 3) ( 2) ( 5) ( 4)

20 40 60 80 100 120 140 160 180 200 220 240 260 280 300 320 340 360

(b) MCS1 rate.

30

MCS8

25

20

15

10

5

0 (19) (35) (47) (23) ( 6) (10) ( 4) ( 5) ( 4) ( 1) ( 6) ( 2) ( 3) ( 5) ( 4) ( 3) ( 1)
20 40 60 80 100 120 140 160 180 200 220 240 260 280 320 340 360
Relative Distance (m)

(c) MCS8 rate.

Throughput (Mb/s)

Figure 9: Throughput vs. distance for diﬀerent PHY rate schemes, using Scenario B

6.1 Aerial Transmission Time
We deﬁne the aerial transmission time as the delay between the time the ﬁrst packet of the set of images taken from the cell is in the head of the transmission queue and the instant when the last packet has been successfully delivered. The transmission time can be calculated from Little’s law as:

Ttransmission

=

E[nbacklog ] S/E[P]

⋅

Mcell E[P]

=

E[nbacklog] ⋅ Mcell , S

(2)

where S is the system throughput in bit/s, E[nbacklog] is the average number of UAVs within collision domain with backlogged traﬃc, E[P] is the average amount of payload bits and Mcell is the total number of bits of the images collected in the cell. Hereby, we do not consider the probability that packets are dropped due to the limited number of 802.11n MAC retransmissions.
Due to losses and PHY rate adaption under mobility, 802.11n theoretical models may not be representative for actual throughput in an aerial network. Thus, we use our empirical data to ﬁt a logarithmic function of base 2 [9] to the median values of the throughput versus distance measurements (with auto PHY rate):

Sˆ(d, nbacklog = 1) = 106 ⋅ (−6.142 ⋅ log2(d) + 53.08). (3)
This ﬁtting results in a coeﬃcient of determination, R2, equal to 0.95.

30

Battery voltage (V) Battery voltage (V) Transmission Time (sec)

Scenario A
12

Scenario B
12

11.5

11.5

11

11

10.5

10.5

100

100

200

300

Time (s)

100

100

200

300

Time (s)

Figure 10: Battery consumption for a single trace of Scenario A and B.

6.2 Transmission Time versus Distance
Here, we study how the transmission time varies over distance. For reasons of simplicity, we assume that the delivery of data entirely occurs at a ﬁxed distance. We use two different types of camera resolution, both with the aspect ratio k = 16/9. The size of the picture, Mimage, is calculated using the JPG100 format (100% quality, 24 bit/pixel) [6].
We compute the technical prerequisites suﬃcient to detect a person. Flying at an altitude of 70 m, and with camera lens angle of 65 ○, we get pictures with a ﬁeld of view FOV = 90 m and an image area Aimage = 44 × 78 = 3432 m2. Table 2 summarizes the parameters. Hence, we compute Mcell using Equation (1) and Acell = 0.25 km2.
Using Equation (2) and (3), the setting as above and the simple case of E[nbacklog] = 1, Figure 11 shows the time needed to transmit the data with varying distances on a log scale, for both camera resolutions. One result, in particular for higher resolution images, is that due to the limitation of current 802.11n implementations for aerial transmissions, it takes several minutes to transmit reasonable amounts of image data to a UAV in range. This is a clear bottleneck for delivering high-resolution images. As a way to address this issue, scheduling algorithms which consider the spatial trajectory of the UAVs (and thus transmit when shorter distances are expected) may achieve considerable performance improvements.
7. CONCLUSION
While civil UAV applications beneﬁt from the miniaturization of camera technology, delivering higher image quality, e.g., to rescuers also requires increased communication throughput. In indoor environments, such a technology already exists, i.e., 802.11n. Naturally, one may think to apply it to the drones for aerial communication. Yet, we have shown in real experiments that the achievable 802.11n throughput is not only far from the theoretical maximum – it also varies wildly even at similar distances between UAVs. Our measurements dedicated to determining the impact of relative node speed did not indicate a statistically signif-

Table 2: Aerial transmission parameters.

Camera resolution [pixel] Mimage [MB] Mcell [MB]

2664 × 1496 1.2 87

1280 × 720 0.390 27.7

103 Resolution = 2664x1496 pixels, Mcell = 87x8Mb Resolution = 1280x720 pixels, Mcell = 27.7x8Mb
102

101

100 0

20 40 60 80 100 120 140 160 180 200 220 240 260 280 300
Distance (m)

Figure 11: Aerial transmission time Ttransmission sending a set of images at a resolution of 2664 × 1496 and 1280 × 720 pixels to another ﬂying UAV (log scale).

icant correlation of throughput and speed, but we found from medium to low loss rates across diﬀerent relative cruise speeds. Yet, we learned that automatic rate adaptation of standard 802.11n chipsets cannot cope with the high mobility of UAVs, and that UAV’s antenna position is crucial to guarantee the expected quality of communication. These and other results of this contribution require further scientiﬁc investigation, yet, they indicate the need for a new amendment of 802.11 to assure the high-speed and reliable communication between UAVs that is required in order not to limit the immense potential of drones.
8. ACKNOWLEDGMENTS
The authors would like to greatly thank Maja Varga and Gregoire Heitz of EPFL for their support during in-ﬂight tests and Dr. Simon Heimlicher for multiple discussions. We are ﬁnally thankful to Prof. Mahesh Marina from The University of Edinburgh for insightful comments in the preparation of the camera ready version of the paper. This research has been partially funded by the Swiss National Science Foundation (SNSF) Sinergia project SWARMIX, with project number CRSI22 133059 and by the Commission of the European Union under the FP7 Marie Curie IEF program contract PIEF-GA-2010-276336 MOVE-R.
9. REFERENCES
[1] IEEE standard for information technology – telecommunications and information exchange between systems local and metropolitan area networks – speciﬁc requirements part 11: Wireless LAN medium access control (MAC) and physical layer (PHY) speciﬁcations, 2012.
[2] D. Aguayo, J. Bicket, S. Biswas, G. Judd, and R. Morris. Link-level measurements from an 802.11b mesh network. ACM SIGCOMM Computer Communication Review, 34(4):121–132, 2004.
[3] M. Asadpour, D. Giustiniano, K. A. Hummel, and S. Heimlicher. Characterizing 802.11n aerial communication. In Proceedings of the second ACM MobiHoc workshop on Airborne networks and communications, ANC ’13, pages 7–12, New York, NY, USA. ACM, 2013.
[4] L. Duplay. Target detection using ﬂying robots. Technical report, Laboratory of Intelligent Systems (LIS), EPFL, June 2012.

31

[5] E. Feo, L. Gambardella, and G. D. Caro. Search and rescue using mixed swarms of heterogeneous agents: Modeling, simulation, and planning. Technical Report IDSIA-05-12, April 2012.
[6] P. Forret. Megapixel Calculator - digital camera resolution. http://web.forret.com/tools/megapixel.asp.
[7] J. Heiskala and J. Terry. OFDM wireless LANs: a theoretical and practical guide. SAMS publishing Indianapolis, 2002.
[8] D. Henkel and T. Brown. On controlled node mobility in delay-tolerant networks of unmannned aerial vehicles. In International Symposium on Advance Radio Technologies, 2006.
[9] D. Henkel and T. Brown. Delay-tolerant communication using mobile robotic helper nodes. In Modeling and Optimization in Mobile, Ad Hoc, and Wireless Networks and Workshops, 2008. WiOPT 2008. 6th International Symposium on, pages 657–666. IEEE, 2008.
[10] O. Ku¨ng, C. Strecha, A. Beyeler, J.-C. Zuﬀerey, D. Floreano, P. Fua, and F. Gervaix. The accuracy of automatic photogrammetric techniques on ultra-light uav imagery. In Proceedings of the International Conference on Unmanned Aerial Vehicle in Geomatics (UAV-g), Zurich, Switzerland, pages 14–16, 2011.
[11] S. Leven, J. Zuﬀerey, and D. Floreano. A simple and robust ﬁxed-wing platform for outdoor ﬂying robot experiments. In International symposium on ﬂying insects and robots, pages 69–70, 2007.
[12] L. Meier, P. Tanskanen, L. Heng, G. H. Lee, F. Fraundorfer, and M. Pollefeys. Pixhawk: A micro aerial vehicle design for autonomous ﬂight using onboard computer vision. Autonomous Robots, 33(1-2):21–39, 2012.

[13] K. Pelechrinis, T. Salonidis, H. Lundgren, and N. Vaidya. Experimental characterization of 802.11n link quality at high rates. In Fifth ACM international workshop on Wireless network testbeds, experimental evaluation and characterization, WiNTECH ’10, pages 39–46, New York, NY, USA. ACM, 2010.
[14] T. Rappaport. Wireless Communications: Principles and Practice, 2nd Ed. Prentice Hall, New Jersey, 2002.
[15] V. Shrivastava, S. Rayanchu, J. Yoonj, and S. Banerjee. 802.11n under the microscope. In 8th ACM SIGCOMM conference on Internet measurement, pages 105–110. ACM, 2008.
[16] I. Tinnirello, D. Giustiniano, L. Scalia, and G. Bianchi. On the side-eﬀects of proprietary solutions for fading and interference mitigation in IEEE 802.11b/g outdoor links. Computer Networks, 53(2):141–152, Feb. 2009.
[17] E. Yanmaz, R. Kuschnig, and C. Bettstetter. Channel measurements over 802.11 a-based uav-to-ground links. In GLOBECOM 2011 Workshops, pages 1280–1284. IEEE, 2011.
[18] E. Yanmaz, R. Kuschnig, and C. Bettstetter. Achieving air-ground communications in 802.11 networks with three-dimensional aerial mobility. In INFOCOM 2013. 32nd IEEE International Conference on Computer Communications, pages 120–124. IEEE, 2013.
[19] W. Zhao, M. Ammar, and E. Zegura. Controlling the mobility of multiple data transport ferries in a delay-tolerant network. In INFOCOM 2005. 24th Annual Joint Conference of the IEEE Computer and Communications Societies, volume 2, pages 1407–1418. IEEE, 2005.

32

