a framework for
observing nodes’ behavior
in IoT validation platforms
Orange Labs
Quentin Lampin, Dominique Barthel Nov 6th 2014, “IoT workshop” at INRIA, Montbonnot
diffusion libre

Agenda
part 1 a look back part 2 SensOrLabs part 3 an observability toolchain part 4 some results part 5 the way forward

2

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

A look back: project knitting
Orange Labs working on WSN protocols since 2002 ARESA1 demo (2008)
– 86 nodes, full source code, in-band limited monitoring
ARESA1 demo (2009)
– 56 nodes, Coronis black-box radio, in-band limited monitoring
Dec 2013 OLRE / ARESA2 demo
– a 82-node fully observable platform (SensOrLabs) – out of band monitoring, systemic approach to observability – Coronis partnership

2004

2006

ARESA

2008

2010

ARESA2/ SensOrLabs
2012

2014

SensOrLab v2
2016

Senslab

IoT-Lab

3

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

the SensOrLabs platform
largely Senslab-inspired, but
– rewrote infrastructure software – redesigned “gateway” board assembly – redesigned power monitoring board – hosts Elster/Coronis Excelyo nodes
82 nodes at Orange Labs Meylan
– plugged into any site Ethernet socket

ARESA2
OrangeLabs intranet
82 devices

4

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

an observability toolchain

a major hand-holding effort

open node code instrumentation power monitoring processed similarly event timestamping PCAP encapsulation flow multiplexing

Wireshark as a general event browsing and display tool

5

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

Open Node

power monitor.

Gateway
SensOrLabs server

Timestamping
PCAP
Muxing

dissectors
Wireshark
diffusion libre

an underlying model for the network
nodes, entities

6

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

an underlying model for the network (2)
nodes, entities links packets
already applied to very different comm. stacks

7

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

a taxonomy of observability events

8

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

a taxonomy of observability events (2)

Wireshark dissectors remain totally generic

– assuming the network model

9

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

Staged timestamping and PCAP encapsulation

log time spent in event buffer
– in open node clock ticks
compute serialization time insert (adjusted) absolute time
restore platform-wide time monotonicity

Open Node
(relative time)
Gateway
(absolute time)
NTP

event
serial Time-
stamping

SensOrLabs server

Reordering
Muxing

10

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

Wireshark output

11

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

Orange Labs Network visualizer

12

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

The way forward

Make observability event specifications public Submit Wireshark dissectors for commit

Provide Open Source observability libraries
– Contiki, TinyOS, RIOT, FreeRTOS – might use a little help on this one

Version 2 of SensOrLab
– “standard” open node interface – more generic gateways (e.g. Raspberry PIs) – GPS synchronization, enhanced timestamping/reordering

13

Orange Labs – OLPS/BIZZ/MIS – IoT platform observability – Nov 6th 2014

diffusion libre

thank you
diffusion libre

