2015 IEEE Conference on Computer Communications (INFOCOM)

Beyond Duty Cycling: Wake-up Radio with Selective Awakenings for Long-lived Wireless
Sensing Systems

Dora Spenza∗, Michele Magno‡, Stefano Basagni§, Luca Benini‡, Mario Paoli∗∗ and Chiara Petrioli∗ ∗Department of Computer Science, University of Rome “La Sapienza”, Email: {spenza, petrioli}@di.uniroma1.it
‡ETH Zurich and University of Bologna, Email: {magnom, lbenini}@iis.ee.ethz.ch §Department of Electrical and Computer Engineering, Northeastern University, Email: basagni@ece.neu.edu
∗∗Department of Computer, Control, and Management Engineering,
University of Rome “La Sapienza”, Email: paoli@dis.uniroma1.it

Abstract—Emerging wake-up radio technologies have the potential to bring the performance of sensing systems and of the Internet of Things to the levels of low latency and very low energy consumption required to enable critical new applications. This paper provides a step towards this goal with a twofold contribution. We ﬁrst describe the design and prototyping of a wake-up receiver (WRx) and its integration to a wireless sensor node. Our WRx features very low power consumption (< 1.3µW), high sensitivity (up to −55dBm), fast reactivity (wake-up time of 130µs), and selective addressing, a key enabler of new high performance protocols. We then present ALBAWUR, a cross-layer solution for data gathering in sensing systems that redesigns a previous leading protocol, ALBA-R, extending it to exploit the features of our WRx. We evaluate the performance of ALBA-WUR via simulations, showing that the use of the WRx produces remarkable energy savings (up to ﬁve orders of magnitude), and achieves lifetimes that are decades longer than those obtained by ALBA-R in sensing systems with duty cycling, while keeping latencies at bay.
I. INTRODUCTION
A myriad of applications of wireless sensing systems has been proposed in recent years that revolutionizes the way we interface and interact with the physical world, enabling and enhancing remote exploration, surveillance, monitoring and control as it was never possible before. From small radio networks deployed on the human body [1] through structural health monitoring systems improving the safety of critical structures [2] to underwater multi-hop acoustic networks spanning miles of ocean ﬂoor [3], sensor networking has spawned research, projects, and products that undeniably beneﬁt everyday life.
Irrespective of purpose and geographic extent, emerging applications demand longer system lifetimes and stringent latency constraints, contrasting goals that are difﬁcult to obtain together. For instance, longer lifetimes can be achieved by allowing the nodes of a wireless sensor network (WSN) to turn their radio off (“sleep mode”) and on (“awake mode”) according to a pre-set duty cycle. This is aimed at minimizing idle listening, one of the major culprits of energy consumption. Duty cycling, however, does not eliminate idle listening, and comes at the price of high latencies, which are unacceptable for many applications. For this reason, research has recently

shifted towards the design of communication architectures for WSNs based on wake-up radios, i.e., ancillary transceivers used for the sole purpose of waking up neighboring nodes, and whose power consumption is considerably lower than that of the main radio [4]. The aim is that of eliminating the need for duty cycling, and therefore idle power consumption, while keeping latency at bay. The sole capability of waking up neighbors, however, would not provide the major improvements required by new critical applications, as nodes not interested in communications will be up wasting energy in overhearing and contentions. Wake-up architectures are therefore being deﬁned that allow nodes to wake up speciﬁc neighbors for communications (selective awakenings). This fundamental capability, however, brings forward new requirements and challenges for designing selective awakening-aware protocol stacks that take also into account the limited ranges and low data rates of the wake-up radio architecture.
In this paper we contribute to the research on wake-up radioenabled sensing systems by describing a wake-up radio design that achieves remarkably accurate selective awakening at very low power, and by proposing and evaluating a novel crosslayer routing protocol for WSNs that takes advantage of it for enhanced network performance and lifetime. In particular:
• We detail the architecture of an ultra-low power wake-up receiver (WRx) with addressing capabilities, and describe its prototyping and experimental performance characterization. Our experiments show the high sensitivity of the design (up to −55dBm), its fast reactivity (130µs), and very low power consumption (< 1.3µW). The WRx is also highly effective in providing accurate selective awakenings: Over 80% of the nodes within 29m from the sender correctly wakes up. In addition, our design is inexpensive (2.5USD) even in very modest volumes (100 parts), which makes integration on existing WSN motes practical.
• We present ALBA-WUR, a cross-layer solution for data gathering in wireless sensing systems that redesigns a leading routing protocol, ALBA-R [5], extending it to exploit the features of the WRx. ALBA-R is particularly suitable to demonstrate the ﬂexible addressing capabil-

978-1-4799-8381-0/15/$31.00 ©2015 IEEE

522

2015 IEEE Conference on Computer Communications (INFOCOM)

ities of our WRx, in that it is a cross-layer protocol where next hop relays are chosen based on an array of different policies. These include the current trafﬁc and channel conditions, and the geographic advancement towards the data ﬁnal destination (sink) that the neighbors can provide. With ALBA-WUR we show that the complex relay selection policies used by ALBA-R can be naturally expressed by one or more semantic addresses signifying the current status of a node, which the node itself can locally compute and take over time. A sender can therefore selectively wake-up only those neighbors whose semantic addresses match the policy, thus engaging in communications only nodes whose current status makes them the best relays. This idea, much more than ID-based wake-up, enables greater freedom in protocol deﬁnition and leads to signiﬁcantly better network performance.
We compare the performance of ALBA-WUR and ALBA-R via simulations. In particular, we implemented both protocols in GreenCastalia [6], a recently proposed open-source extension of the Castalia simulator [7] that focuses on modeling energy-related aspects of WSNs. In our experiments, nodes running ALBA-R follow a nominal duty cycle d, with d ∈ {0.01, 0.03, 0.1, 1}, i.e., they stay awake only 1%, 3%, 10% of the time, and all the time, respectively. Nodes running ALBA-WUR are endowed with a wake-up receiver modeled after our WRx, with communication parameters set to values from measurements on real prototypes. Performance results in WSN scenarios with increasing trafﬁc show impressive performance gains of ALBA-WUR over ALBA-R. In particular, nodes running ALBA-WUR in typical WSN application scenarios are able to delivery data to the sink by spending 300 times less energy than nodes with duty cycle, even if the duty cycle is very low. With respect to ALBA-R in networks with longer duty cycles (d ≥ 0.1), ALBA-WUR achieves even greater improvements, obtaining energy savings ranging from two to ﬁve orders of magnitude. This translates in estimated network lifetimes that are decades longer than those achievable in networks with duty cycles. Results concerning latency show that the use of WRx technology is effective in reducing the time needed to deliver packets to the sink. In particular, the end-to-end latency of packets routed by ALBA-WUR is quite close to that incurred by packets routed by ALBA-R with no duty cycle, and well below that of packets routed by ALBA-R with d = 0.1. These results are possible because of the unique combination of our cutting-edge wake-up radio technology with ALBA-WUR, where the very effective relay selection policies of ALBA-R are re-written into semantic addresses for WRx-based selective awakenings.
The remainder of the paper is organized as follows. The architecture and prototype of the wake-up receiver are detailed in Section II. ALBA-R and ALBA-WUR are described in Section III. Performance evaluation results are shown in Section IV. We discuss related works in Section V. Finally, Section VI concludes the paper.

II. WAKE-UP RADIO RECEIVER
In this section we detail the design of a wake-up radio receiver with high sensitivity, fast reactivity, very low power consumption, and selective addressing capability. The receiver uses on-off keyed (OOK) modulation, the simplest form of amplitude-shift keying (ASK) modulation in which digital data are represented as the presence or absence of a carrier wave. The proposed architecture is made up of four main blocks: A matching network, the envelope detector, the interrupt generator, and an optional addressing module (Fig. 1).
The matching network provides maximum power transfer between the antenna and the rest of the circuit by supplying a stable impedance match to the input source. It consists of an LC ﬁlter, whose inductor and capacitor values are dimensioned based on the transmission frequency. In this work, the receiver is optimized to work in the 868MHz transmission frequency. The output of the matching network is an RF signal. The second block is a passive demodulation circuit that allows to recover the information content from the modulated signal. As our design uses OOK modulation, the demodulation circuit consists of a passive envelope detector that discards the frequency and phase content of the RF signal and only detects its amplitude. In our prototype implementation, we used a single-stage half-wave rectiﬁer with series diodes. We selected the HSMS-285C diodes from Avago Technologies, which are optimized for sub-GHz frequencies and for incoming power lower than −20dBm. They offer a sensitivity of −57dBm. Once the signal is rectiﬁed, the bits of the received wake-up sequence are reconstructed by using an ultra-low power comparator. To perform this task, we used an adaptive threshold mechanism that keeps the V− pin of the comparator at half of the input signal level. With this approach, we use the energy from the antenna, rather than a voltage divider, for generating the threshold, thus reducing the static power consumption of the circuit. The adaptive mechanism is designed based on a simple RC circuit (R1C4 in Fig. 1) that is connected to the negative input of the comparator. The positive input of the comparator is directly connected to the signal from the envelope detector. The voltage offset of the comparator affects the overall sensitivity of the wake-up radio: With a lower voltage offset it is possible to sense smaller signals. However, comparators with lower voltage offset generally have higher current consumption. In our prototype, we selected the LPV7215 comparator from Texas Instruments, which features a very low voltage offset of 0.4mV and a reasonable energy consumption of 600nA. The successive stage of the circuit is the preamble detector. To ﬁlter interference from noise or other communications that can generate unwanted awakenings, we use a speciﬁc preamble in the wake-up packet that can be detected by this passive part of the circuit. The preamble is an OOK modulated signal of a speciﬁc length (number of bits) that is sent at a speciﬁc bit rate fp. On-off keyed modulated signals that are sent at a data rate lower than fp are ﬁltered out by the RC ﬁlter (R3-C5), which works as a low-pass ﬁlter. If a preamble

523

2015 IEEE Conference on Computer Communications (INFOCOM)

Fig. 1. Architecture of the wake-up receiver.

with the speciﬁc frequency is received, the preamble detector signals a wake-up interrupt to the on-board microcontroller, which then starts reading data from the pin connected to the output of the comparator (before the diode SD3). In our prototype implementation, we use an ultra-low power 8-bit microcontroller, the PIC12LF1552 from Microchip, which we selected for its ultra-low current consumption (20nA in sleep mode), the fast wake-up time (approximately 130µs at 8MHz), and for the serial port supporting both I2C and SPI. The microcontroller performs address matching, waking up the main node through an interrupt pin when a valid wake-up address is received. In addition, the serial port enables dynamic address reprogramming.
III. ALBA-R AND ALBA-WUR
ALBA-R is a cross layer geographic protocol for convergecasting in WSNs. It features the integration of awake/asleep schedules, MAC, routing, load balancing, and back-to-back packet transmissions (ALBA) with a mechanism for recognizing and routing around connectivity holes (Rainbow) [5].
A. ALBA
The basic operations of ALBA are as follows. Nodes in the network alternate between awake/asleep modes according to independent wake-up schedules with ﬁxed duty cycle. When a node x has packets to forward, it polls its neighbors by broadcasting a Request-to-Send (RTS) packet. Neighboring nodes that are currently awake respond with a Clear-to-Send (CTS) packet carrying information based on which x can choose the best relay. More speciﬁcally, for each neighbor y that has sent a CTS packet, node x computes the following two parameters: The queue priority index of y (QPIy), and the geographic priority index of y (GPIy). The parameter QPIy quantiﬁes how fast and well node y can move packets forward, taking into account its recent past performance as a relay. It is deﬁned as (Qy + NB)/My , where Qy indicates the number of packets in the queue of node y, NB is the number of packets that node x wants to transmit in a burst (back-toback transmissions, up to NBmax packets), and My indicates the number of packets that node y was able to transmit back-toback, without errors, in the recent past (it is a moving weighted average of recent transmission attempts). The QPI has been designed so that if node y is congested (i.e., has a high queue

occupancy Qy) or it has been a “bad forwarder” (experiencing high packet transmission errors, i.e., it has a low My) it is less frequently chosen as a relay. The parameter GPIy indicates the geographic advancement towards the sink that node y can provide. It is computed based on the locations of node x, node y and of the sink. The GPI is used to discriminate among relays that have the same forwarding performance, i.e., the same QPI. Nodes with higher GPI are preferred.
B. Rainbow
GPI-based forwarding implements the typical greedy approach to geographical routing that works well whenever relays towards the sink can be found, e.g., in dense networks. In sparser WSNs, or in networks deployed around obstacles, greedily choosing the next hop relay is not always possible due to the presence of dead ends, which hinders routing performance severely. Rainbow extends ALBA to provide a mechanism for detecting and routing around connectivity holes whenever they occur in WSNs. The basic idea is allowing the nodes to forward packets away from the sink when a relay in the direction of the sink cannot be found. In order to remember whether to seek for relays in the direction of the sink (positive advancement area F ) or in the opposite direction (negative advancement area F C) each node is labeled by a color (from a given list) and seeks for relays among neighbors with its own color or with the color immediately before in the list. Hop by hop forwarding follows the rules established by ALBA. As an example, assume the following list of possible colors: Yellow, red, blue and purple. Initially, all nodes are colored yellow, and function according to the basic ALBA rules, i.e., they look for relays located in the region F that provides positive advancement towards the sink. If no connectivity holes are encountered, all nodes remain yellow, keeping ﬁnding relays in the direction of the sink. Nodes that cannot ﬁnd relays offering positive advancement infer that they may actually be dead ends, and change their color to red. According to Rainbow, red nodes will send the packet away from the sink by searching for yellow or red nodes in their region F C. If a red node cannot ﬁnd red or yellow nodes in F C, it changes its color again, becoming a blue node. It will now look only for blue or red relays in F . Similarly, a blue node that cannot ﬁnd blue or red relays in F turns purple, and starts looking for purple or blue nodes in F C. This process continues until all

524

2015 IEEE Conference on Computer Communications (INFOCOM)

nodes have converged to their ﬁnal color. For further details on the deﬁnition and implementation of ALBA-R the reader is referred to [5].
C. ALBA-WUR
We have redesigned ALBA-R to work with the wake-up features of the WRx. When a node x has packets to transmit, it wakes up only those neighbors that satisfy the following conditions. To start with, only nodes with the appropriate color will be woken up. For instance, if x is blue, the wake-up address should be chosen so that only nodes that are either blue or red will wake-up. Within this set of nodes, node x will want to wake-up those nodes y that can receive the number of packets NB that x needs to transmit, and with their My above a given threshold. To do so, x broadcasts a wake-up packet made up of the following ﬁelds: Its color, the number of packets NB and the target QPI it is currently looking for.
Nodes that can serve as relays indicate their availability by assigning to themselves a pool of WRx addresses, dynamically updated based on their status, each of which expresses a combination of the three values: Sender color, burst size and target QPI the node can satisfy. For example, according to Rainbow, a node whose color is blue can only serve as relay for nodes with color blue or red. Thus, the pool of its WRx addresses will contain only sequences with either Color = blue or Color = red (see example below). The last two ﬁelds of the WRx address are set based on the queue occupancy status of the node and on its forwarding history. In particular, for each possible burst size that the node can accept based on its queue status, it computes the corresponding QPI value and stores it in the last ﬁeld of the address. When a wake-up packet is received, addresses in the pool are checked for a match. If the packet matches one of the addresses, the node wakes up.
The addressing mechanism of ALBA-WUR is illustrated by the following example. Let us consider a red node y that currently has one packet stored in its queue, i.e., Qy = 1, and such that its moving weighted average of recent transmission attempts is 2, i.e., My = 2. If the maximum number of packets that can be sent in a burst is NBmax = 2, to serve as relay node y will have the following four wake-up addresses in its pool, each corresponding to a combination of color (red or blue), burst size and the target QPI it can satisfy.

Color = red Color = red Color = blue Color = blue

Burst size = 1 Burst size = 2 Burst size = 1 Burst size = 2

QPI = 1 QPI = 2 QPI = 1 QPI = 2

QPI values are computed as detailed above for ALBA-R, i.e., (Qy + NB)/My .
A node x whose color is blue, with NB = 1 data packets to transmit and looking for a relay with the best possible QPI will broadcast the following wake-up packet.

Color = blue Burst size = 1 Target QPI = 1

The neighbors of node x that receive this packet will wake up their main microcontroller and radio only if the wake-up packet matches one of the addresses in their pool. For instance, node y would wake up, as the third address in its pool matches the wake-up packet sent by x. After the selective awakening phase, node x waits for neighboring nodes to turn their radio on, and sends an RTS packet using the main radio. The nexthop relay is then chosen according to ALBA-R operations. If no neighbor is found that can satisfy the requests of node x, the awakening process is repeated with x now lowering its demands, i.e., seeking for nodes with different status (e.g., a lower QPI and/or burst size).
It is worth noting how the complex relay selection policies that make ALBA-R one of the high-performance protocols for WSN routing are naturally expressed by the dynamic semantic addressing of ALBA-WUR, as simply implemented via our WRx technology. Protocol design is no longer driven by the need of trading off energy consumption and lifetime for latency, as efﬁciently implemented semantic addressing enables senders to quickly select only those among their neighbors that can best further the routing process. In addition, as address matching is performed via software by the onboard PIC microcontroller, further optimization is possible that can adapt the matching to speciﬁc deployment conditions. For instance, in noisy environments in which the WRx is subject to interferences that can result in false negatives, an error-tolerant or partial address matching mechanism can be employed. Furthermore, in case of a large number of wake-up addresses, the address pool can be stored in a space-efﬁcient data structure, such as a Bloom ﬁlter.
IV. PERFORMANCE EVALUATION
A. System integration and characterization of the WRx
We integrated the proposed wake-up receiver with the MagoNode, a low-power WSN mote equipped with the Atmel ATmega128RFA1 (RFA1) microcontroller-transceiver bundle operating in the ISM 2.4 GHz band [8]. The wake-up extension board designed for the MagoNode includes two modules: The WRx (Section II) and a 868MHz transmitter. The wakeup receiver also comprises a 868MHz antenna with a 50Ω impedance and 3dBi gain. We choose to use separate antennas for the WRx and the main radio for greater accuracy in assessing the performance of the WRx. Although desirable from an integration perspective, sharing a single antenna would require an additional RF multiplexer switch that introduces non-negligible losses, whence a negative impact on the link power budget. The impedance matching of the RF section was carefully designed to provide the maximum power transfer between the antenna and the rest of the circuit. Details on the tuning of the matching network have been recently presented in [9]. Wake-up signals generated by the WRx receiver are sent to the MagoNode through a low-level asynchronous interrupt pin of the RFA1. Asynchronous interrupts are able to wakeup the MagoNode from the deep-sleep state, in contrast with synchronous interrupt pins that can be triggered only when the node is in idle mode. Wake-up sequences are transmitted by

525

2015 IEEE Conference on Computer Communications (INFOCOM)

using the CC1101 transceiver from Texas Instruments, a lowpower sub-1GHz transceiver that supports OOK modulation. Communication with the MagoNode is realized through the SPI interface. Fig. 2 shows a snapshot of our WRx prototype.
Fig. 2. A WRx prototype node.
We characterize the performance of the WRx prototype in terms of power consumption, sensitivity, reactivity and reliability of addressing, and maximum wake-up range for both non-selective and addressed-based awakenings. To determine the power consumption of the wake-up receiver, we measured the current supplied to the prototype by using a shunt resistor of 100Ω. At 1.8V, which is the lowest operating voltage of the circuit, the measured power consumption is of 1.276µW. To characterize the sensitivity and the addressing capability of the WRx in a controlled environment, we set up a testbed consisting of two WRx prototype nodes (a transmitter and a receiver) and an attenuator. The attenuator is used to reduce the power of the signal emitted by the transmitter, so as to emulate the attenuation experienced by a wake-up packet transmitted over different distances. We tested the maximum sensitivity of the WRx by continuously sending wake-up sequences consisting of 2B set to 1111111111111111 (hexadecimal 0xFFFF), while increasing the attenuation of the transmitted signal. The measured sensitivity, which is the biggest value of attenuation at which the wake-up receiver was still able to generate an interrupt, was determined to be −55dBm. With the third set of experiments we characterize the performance of the WRx in terms of addressing capability. In particular, we explore the trade offs between the data rate used to transmit wakeup sequences and the reactivity and reliability of the WRx. In the ﬁrst test, we experimentally measure the time needed to generate a wake-up interrupt when transmitting addresses of increasing length l at different data rates. Each address consists of l bits of data preceded by l bits of preamble. Wake-up latency is deﬁned as the interval of time between the moment in which the wake-up packet is sent and when the receiver node awakes (in case its address matches). This latency includes the time to activate the PIC from deep sleep, the time needed to receive both preamble and data, and the time to process the received sequence of bits. Results are shown in Fig. 3(a). As expected, the time needed to generate a wake-up interrupt is signiﬁcantly higher for lower data rates due to the longer bit duration. However, although higher data rates shorten latency and achieve a faster wake-up, a longer bit duration increases reliability and the range of the wake-up

signal. In fact, a lower bit rate implies higher energy sent per bit, which the wake-up receiver can accumulate while receiving the packet. Since the WRx uses OOK modulation, only bits set to 1 carry energy. To better explore this trade off, we characterize the address-based wake-up reliability at different wake-up data rates. In these tests, 2B long wake-up sequences are transmitted while varying both received power and wake-up data rates. To test whether wake-up addresses are acquired correctly, we implement a dedicated ﬁrmware on the on-board PIC microcontroller of the WRx. The wakeup data rate varies between 1kbps and 100kbps, and the received power between −20dBm and −47dBm. For each test, we compute the probability of waking up and correctly recognizing the wake-up address as the average error measured over 100 transmitted sequences. Each sequence consists of 8 bits of preamble (set to hexadecimal 0xFF) followed by one byte of addressing. We consider both worst and average case performance in terms of energy accumulated by the WRx during address reception. More in details, in half of the tests the wake-up packets are a series of 0s followed by a 1 (one data byte set to 0x01), while in the other half it was an alternating series of 1s and 0s (one data byte set to 0xAA). Results are shown in Fig. 3(c). Using the same setup, we also determine the address-based wake-up probability at different distance for wake-up data rates of 1kbps, 5kbps and 10kbps (Fig. 3(b)). In this case, wake-up ranges are estimated by combining the testbed-based experimental results on sensitivity and range with the Friis equations, assuming +10dBm output power and 3dBi antennas.
In our last set of experiments, we perform an empirical evaluation of the maximum wake-up range for both nonselective and addressed-based awakenings. For these tests, we use a 3dBi antenna on both the receiver and the transmitter, varying the distance between two WRx prototype nodes in a hallway. We ﬁrst assess the maximum distance at which the radio-triggering circuit is still able to generate a wakeup interrupt. We program the transceiver to send a wake-up sequence consisting of 1B set to hexadecimal 0xFF every second, while the receiver records wake-up interrupts. By progressively increasing the distance between the two nodes, we measure a maximum wake-up range of 45m. We then determine the maximum distance at which a selective awakening can be performed. In this case, in addition to generate a wakeup interrupt, the receiver also performs address recognition. For these tests, we program the transmitter node to send 1000 messages, one every 500ms. Each message is sent at 1kbps, and consists of 1B set to hexadecimal 0xBA. Received wakeup sequences are recorded by the receiver node, which allows us to evaluate the fraction of addresses that are correctly received and recognized at different distances. The maximum wake-up range for selective awakenings resulted to be 32m.
B. Simulation results
We compare the performance of ALBA-WUR and ALBAR via simulations. We implemented both protocols in GreenCastalia [6].

526

2015 IEEE Conference on Computer Communications (INFOCOM)

Wake-up time [ms] Wake-up probability [%] Wake-up data rate [kbps]

35

1 kbps

5 kbps

30

10 kbps

25

20

15

10

5

0.13 0 2 4 6 8 10 12 14 16 Address lenght [bits]
(a) Wake-up latency

100
80
60
40
20 1 kbps 5 kbps
10 kbps 0
5 10 15 20 25 30 Wake-up range [meters]
(b) Wake-up probability vs. distance

100

100

50 80

60 10
40 5
20

1

0

-20

-25

-30

-35

-40

-45

Received power [dBm]

(c) Wake-up probability vs. received power

Fig. 3. Experimental characterization of the performance of selective awakenings.

1) Node modeling: GreenCastalia has been extended to model nodes with multiple transceivers: The Atmel’s Atmega128RFA1 System-On-Chip of the MagoNode, and the TI CC1101 used to transmit wake-up sequences. For the main radio we use the default settings of GreenCastalia for channel and radio models. The average path loss between nodes in the network follows the lognormal shadowing model. Packet reception probability for each link is computed based on SINR, packet size, and modulation type. We implement a GreenCastalia module to model our WRx. A novel energy model is also deﬁned based on which the WRx nodes operate in one of ﬁve power modes, depending on the state of their microcontroller and transceivers. To accurately characterize the energy model we experimentally measured the power consumption of the node in each state, as well as the transition time between two states, and the average power consumption of each node component during state switching. Such components also include the PIC12LF1552 we use for address matching. The WRx is always kept on, consuming an average current of 700nA. In line with experimental results, we model the wake-up probability as a function of the power received by the WRx and of the data rate used to transmit wakeup sequences (Fig. 3(c)). The additive interference model is used for both main radio and WRx, so that the effect of simultaneous transmissions from multiple nodes is linearly added at the receiver.
2) Scenarios and settings: We consider networks where 120 nodes are randomly and uniformly distributed over an area of 200m×200m. The sink is also randomly placed in the area. The transmission power of a node main transceiver is set to −2dBm, and its transmission range is 60m. Its data rate is 250kbps. In order to obtain longer routes, and create connectivity holes that would challenge geographic forwarding, a rectangular obstacle is placed within the deployment area. This results in topologies with an average of three to four colors.
In line with experimental measurements, the sensitivity of the WRx is set to −55dBm. The size of a wake-up packet is 8 bits for coding color, burst length and QPI, preceded by a

preamble of 8 bits. We set the data rate of the TI CC1101 transceiver to 1kbps and 5kbps. At these data rates, wakeup addresses of 8 bits are correctly recognized for ranges of up to 32m and 29m, respectively (Section IV-A). Data trafﬁc is generated according to a Poisson process of intensity λ packets per second. Once generated, each data packet is assigned to a source node chosen randomly and uniformly among the network nodes, except the neighbors of the sink that only act as relays. The size of each data packet is 128B. Nodes have queues capable of storing a maximum of 20 packets. ALBA-R parameters are set as follows. The node asynchronous wake-up schedule follows a ﬁxed duty cycle d ∈ {0.01, 0.03, 0.1, 1}. The maximum QPI and burst size NBmax are both set to 5. While simulating ALBA-R the GreenCastalia modules implementing the WRx and the wakeup transmitter are not instantiated, and have no impact on energy consumption.
All results have been obtained by averaging the outcomes of a number of simulation runs large enough to obtain a 95% conﬁdence interval and 5% precision. Each run lasts 3600s. In order to evaluate steady-state performance, all metrics are collected after each node has acquired its ﬁnal color.
3) Performance metrics: We evaluate the performance of ALBA-WUR and ALBA-R with respect to the following metrics:
• The total energy consumed by the network (but the sink). • The average latency, computed as the mean of the end-
to-end latency of each packet successfully delivered to the sink. • The packet delivery ratio, i.e., the fraction of packets that are successfully delivered to the sink. • The expected lifetime of the network, deﬁned as time when the ﬁrst node dies.
4) Results: Results on the performance of ALBA-WUR and ALBA-R are shown in Fig. 4 and Fig. 5. In particular, we show results for different variants of the two protocols, namely, ALBA-WUR with two different wake-up data rates, and ALBA-R with four different duty cycles.

527

2015 IEEE Conference on Computer Communications (INFOCOM)

Energy spent by the network [J] Average packet latency [s] Packet delivery ratio [%]

ALBA-WUR-5kpbs

ALBA-WUR-5kpbs

1

ALBA-WUR-1kpbs

ALBA-WUR-1kpbs

ALBA-R, d=0.01

ALBA-R, d=0.01

100000

ALBA-R, d=0.03 ALBA-R, d=0.1 ALBA-R, d=1.0

ALBA-R, d=0.03 ALBA-R, d=0.1

0.98

ALBA-R, d=1.0

50

10000

0.96

1000

100

1

10

60 50 40 30 20 10 Packet inter-arrival time [s]
(a) Energy consumption (the y axis is logscale)

60 50 40 30 20 10 Packet inter-arrival time [s]
(b) Average packet latency (the y axis is logscale)

Fig. 4. ALBA-WUR vs. ALBA-R for increasing trafﬁc.

0.94

0.92 0.9 60

ALBA-WUR-5kpbs ALBA-WUR-1kpbs ALBA-R, d=0.01 ALBA-R, d=0.03 ALBA-R, d=0.1 ALBA-R, d=1.0
50 40 30 20 10 Packet inter-arrival time [s]

(c) Packet delivery ratio

Energy consumption. Fig. 4(a) depicts the energy consumed by ALBA-WUR and ALBA-R. We observe that in typical WSN scenarios, with relatively low trafﬁc, where protocols such as ALBA-R would efﬁciently operate with very low duty cycles (e.g., d = 0.01 or d = 0.03), ALBA-WUR obtains remarkable improvements on energy consumption, spending up to 100 times and 300 times less energy, respectively, than ALBA-R: A change driver for a wide variety of WSN applications. Results are even more remarkable for higher values of the ALBA-R duty cycle (d ≥ 0.1), where we can observe improvements from two to ﬁve orders of magnitude. The performance of ALBA-WUR depends on the wake-up data rate. Sending wake-up packets at 5kbps reduces energy consumption between 26% (low trafﬁc) and 37% (high trafﬁc) with respect to when those packets are sent at 1kbps. Using lower wake-up data rates incurs lower energy consumption because of the higher wake-up probability (Fig. 3(b)), which reduces the number of attempts needed to successfully wake up a node. However, this beneﬁcial effect is limited by the increased amount of energy needed to transmit wakeup packets. We notice that with increasing trafﬁc the energy consumption of ALBA-WUR also increases. This is because, with increasing trafﬁc, nodes spend longer time with their main radio on, being more and more engaged in routing operation. In fact, we observed that the energy the network would spend for routing packets in ideal conditions (i.e., when there are no re-transmissions of data packets, nodes always wake up when required, etc.) is only a small fraction less than what actually spent by ALBA-WUR to route the same packets.
Latency. The average end-to-end latency of packets delivered using ALBA-WUR and ALBA-R is shown in Fig. 4(b). The performance of ALBA-WUR depends on the data rate used to transmit wake-up packets. More speciﬁcally, using a wake-up data rate of 5kbps results in latencies about 32% less that those incurred transmitting wake-up packets at 1kbps. Predictably, ALBA-R with no duty cycle achieves the best performance,

incurring a latency of 115ms. This latency, however, is only half of that of ALBA-WUR with a wake-up data rate of 5kpbs. In many application scenarios, this is quite a small price to pay to obtain a ﬁve orders of magnitude improvement in energy consumption (Fig. 4(a)). Duty-cycling, as expected, signiﬁcantly affects latency: When d = 0.1, the performance of ALBA-R is almost twice that of ALBA-WUR, despite the average length of routes found by ALBA-WUR is twice that of the routes found by ALBA-R (because of the different transmission ranges of the WRx and of the main radio). Using lower duty cycles makes it difﬁcult for ALBA-R nodes to ﬁnd neighbors that are awake, which results in an average increase of the end-to-end latency of up two orders of magnitude with respect to that of ALBA-WUR. For example, ALBA-R with a 3% duty cycle exhibits an average latency of 3.75s, which makes it unﬁt for time-critical WSN applications. This value increases to several tens of seconds for the smallest value of the duty cycle we considered here (d = 0.01). Packet delivery ratio. Fig. 4(c) shows the packet delivery ratio of ALBA-WUR and ALBA-R for increasing trafﬁc. Independently of trafﬁc, ALBA-WUR consistently achieves a packet delivery ratio of 100%. ALBA-R with duty cycle higher than 3% successfully delivers all data packets to the sink. The packet delivery ratio of ALBA-R operating with d = 0.3 is always higher than 99.9%. When using the lowest duty cycle, however, the performance of ALBA-R becomes sensitive to increasing trafﬁc. In particular, the percentage of packets delivered by ALBA-R when d = 0.01 is < 99% for a packet inter-arrival time of 5s, and falls below 93% when packets are generated to the network once per second. This is due to the difﬁculty of ﬁnding a relay, which results in large numbers of packets being dropped because the queues are full. Network lifetime. The ﬁnal set of experiments concerns the expected network lifetime of a WSN running ALBA-WUR or ALBA-R for increasing trafﬁc. We perform a conservative estimation of the network lifetime by computing the expected time at which the ﬁrst node in the network depletes its

528

Estimated network lifetime [years]

2015 IEEE Conference on Computer Communications (INFOCOM)

ALBA-WUR-1kpbs

ALBA-R, d=0.03

ALBA-R, d=1.0

100

ALBA-WUR-5kpbs

ALBA-R, d=0.01

ALBA-R, d=0.1

10

1

0.1

0.01

60

30

10

5

2

1

Packet inter-arrival time [s]

Fig. 5. Network lifetime (the y axis is logscale).

energy. In our calculation we assume that the trafﬁc patterns observed during our one-hour simulations are representative of the trafﬁc at each node in the long term. Nodes are powered by two 1.5V AA alkaline batteries whose capacity is 2500mAh [10]. Results are shown in Fig. 5, which depicts the estimated number of years for which a network using ALBAWUR or ALBA-R is expected to operate under different trafﬁc generation rates.
The remarkably low energy consumption of ALBA-WUR (Fig. 4(a)) results in expected network lifetimes unheard of for WSNs. Under light trafﬁc conditions, i.e., when one packet per minute is generated to the network, ALBA-WUR obtains an expected network lifetime of several decades (if only batteries could last that long). This is an impressive improvement with respect to the duration achievable by a WSN with duty cycle: A network with nodes sporting two 1.5V AA alkaline batteries, strictly following a nominal duty cycle of 1% and operating in a scenario with no trafﬁc, would last less than 2 years. As explained while discussing Fig. 4(a), when trafﬁc increases the ability to save energy, therefore increasing the network lifetime, is constrained by the need to often keep nodes on to transmit and receive data packets. This motivates why differences in terms of network lifetime reduce at higher interarrival times. Nevertheless, for a packet inter-arrival time of 2s (1s) ALBA-WUR is still able to extend the network lifetime by a factor 5 (3) with respect to ALBA-R with 1% duty cycle.
V. RELATED WORKS
Wake-up radio design. A variety of methods and techniques have been recently proposed to design completely passive or low power wake-up radio technologies. The ﬁrst wake-up radio design was presented by Gu and Stankovic in [11], and consists of a passive radio-triggered circuit able to harvest power from the received radio signal and to use the stored energy to generate a wake-up interrupt. The proposed approach reaches a wake-up range of around 3 meters, which makes it suitable for short-range applications such as WBAN, but hinders its practical use in typical WSN applications that require long range communications. Other works have investigated the use of RF-powered RFID tags to realize passive wakeup receivers with addressing capability [12]. This class of solutions have wake-up ranges that are typical of UHF RFID systems, i.e., around 10m [13]. However, an RFID reader is needed to transmit wake-up sequences with output power

in the order of Watts. Thus, in passive RFID-based radiotriggering circuits the energy toll shifts to the transmitter side, which makes this approach unsuitable for WSN applications based on peer-to-peer networking. Due to the limitations of passive designs, research efforts have recently focused on semi-active circuits requiring only a minimal fraction of the receiver components to be supplied with external power. The goal is that of realizing wake-up receivers with high sensitivity (and thus extended wake-up range) and ultra-low power consumption. Several solutions use an envelope detector implemented through Schottky diodes, MOSFETs or ad hoc ICs for the radio front-end, and a comparator to generate an interrupt. Works following this approach present wake-up receivers with a sensitivity between −35 and −47dBm and a power consumption in the range from 2.3 and 10µW [14], [15], [16]. Despite being a signiﬁcant step further towards low power, high range wake-up radios, these solutions have a lower sensitivity and require a signiﬁcantly higher power consumption than our solution. Recent research has proposed receivers with nano-power consumption. These solutions, however, generally suffer from limited wake-up ranges, therefore failing to meet the needs of general sensing systems applications. For example, a remarkably low power consumption of 98nW is achieved by the wake-up receiver presented by Roberts and Wentzloff, which operates at 915MHz using OOK modulation [17]. However, this design wakes up node at most 1.2m away with transmission power of 0dBm and patch antennas for communication.
Wake-up-assisted protocols. Only a handful of works on protocol design for WSNs explicitly consider the presence of a wake-up device. The work presented by Stathopoulos et al. [18] considers a dual radio system where the low power radio is used as a multi-hop control channel in charge of determining an end-to-end route for data packets. Once the route has been received (from a “topology controller” node) on the low power radio, it is used for data forwarding on the main radio by selectively waking up nodes along the route. Addressing of nodes to be woken up is still ID-based, i.e., it is not dynamic or dependent of network/node status. Latency is also a main issue in this case, as route discovery on a low data rate network is time consuming. Marinkovic et al. present a protocol for single-hop WBANs that works with a wake-up receiver in [19]. The protocol is based on a TDMA scheme where slots are assigned to the nodes by a master node (MN). Slots are dynamically assigned by the MN, which wakes up sensors with speciﬁc functions, as needed (e.g., ECG). Wake-up addressing is solely based on the node IDs. While this protocol works well in a small, single-hop network like a WBAN, it lacks in ﬂexibility for more general WSNs applications. To the best of our knowledge, Blanckenstein et al. present the ﬁrst work where wake-up addressing is dynamically used to wake-up nodes depending on the data they have sensed [20]. In particular, a protocol is deﬁned to cluster nodes with similar data readings. Wake-up packets are used to disseminate similarity information about the sensor readings, and a cluster head is elected that is in charge to forward

529

2015 IEEE Conference on Computer Communications (INFOCOM)

one copy of the data. The large space of possible readings is factored down to the limited space of wake-up patterns, that the nodes dynamically assume as addresses, thus being able to participate in clustering. The paper models a wake-up receiver by Hambeck et al. [21] taking into accounts missed detection and false wake-up rates. The wake-up receiver considered for this work has energy consumption higher than that of the WRx considered in our work, and considerably larger wake-up times, which have a signiﬁcant impact on the overall energy consumption and on data latency. The beneﬁcial effects of a novel wake-up receiver operating in the 2.4GHz band on WSN performance is shown by Petrioli et al. in [22]. The receiver is capable of selective addressing in the sense used in this paper. This capability is demonstrated on protocols for interest dissemination as well as of routing suitably designed to work with the receiver. While operations in the 2.4GHz have the advantage of allowing main and wake-up transceivers to share a single antenna, the proposed technology is quite energy expensive, in that wake-up operations are in the order of mW, three orders of magnitude higher than in our case.
VI. CONCLUSIONS
We show how the combination of an ultra-low power wakeup architecture and a cross-layer routing protocol designed for it are key to obtain the performance needed to meet the lifetime, reliability and latency requirements of the most demanding applications for wireless sensing systems. The wake-up receiver (WRx) we presented and tested here shows high sensitivity and very low power consumption. The experimental evaluation of our WRx show a wake-up range of up to 45 meters, which meets the requirements of most WSN application scenarios. In addition, our WRx enables selective awakenings, as nodes can be woken up depending on their current status, which prevents the activation of nodes that are not needed for communication purposes. Through an extensive campaign of simulations we have shown that ALBA-WUR, the new routing protocol we designed to exploit the features of our WRx, achieves remarkable energy savings (up to ﬁve orders of magnitude), low data latencies, and network lifetimes that are decades longer than those in WSNs with duty cycling.
ACKNOWLEDGMENTS
This work was supported jointly by the TENACE PRIN Project (n. 20103P34XC) funded by the Italian Ministry of Education, University and Research, by the “Social Museum & Smart Tourism” project (MIUR CTN01 00034 23154), by the National Science Foundation award “GENIUS: Green sEnsor Networks for aIr qUality Support” (NSF CNS 1143681), and by the “Transient Computing Systems,” a Swiss National Science Foundation (SNSF) project (200021 157048).
REFERENCES
[1] B. Antonescu and S. Basagni, “Wireless body area networks: Challenges, trends and emerging technologies,” in Proceedings of BodyNets 2013, Boston, MA, September 30–October 2 2013, pp. 1–7.

[2] A. Cammarano, D. Spenza, and C. Petrioli, “Energy-harvesting WSNs for structural health monitoring of underground train tunnels,” in Proceedings of IEEE INFOCOM Workshops 2013, Turin, Italy, April 2013, pp. 75–76.
[3] T. Melodia, H. Kulhandjian, L.-C. Kuo, and E. Demirors, “Advances in underwater acoustic networking,” in Mobile Ad Hoc Networking: Cutting Edge Directions, S. Basagni, M. Conti, S. Giordano, and I. Stojmenovic, Eds. Hoboken, NJ: John Wiley & Sons, Inc., March 5 2013, ch. 23, pp. 804–852.
[4] V. Jelicic, M. Magno, D. Brunelli, V. Bilas, and L. Benini, “Analytic Comparison of Wake-up Receivers for WSNs and Beneﬁts over the Wake-on Radio Scheme,” in Proceedings of ACM PM2HW2N 2012, 2012, pp. 99–106.
[5] C. Petrioli, M. Nati, P. Casari, M. Zorzi, and S. Basagni, “ALBA-R: Load-balancing geographic routing around connectivity holes in wireless sensor networks,” IEEE Transactions on Parallel and Distributed Systems, vol. 24, no. 3, pp. 529–539, March 2014.
[6] D. Benedetti, C. Petrioli, and D. Spenza, “GreenCastalia: An energyharvesting-enabled framework for the Castalia simulator,” in Proceedings of ACM ENSSys 2013, Rome, Italy, November 14 2013, pp. 7:1–7:6.
[7] A. Boulis, “Castalia: Revealing pitfalls in designing distributed algorithms in WSN,” in Proceedings of SenSys 2007, Sydney, Australia, November 6–9 2007, pp. 407–408, also: http://castalia.npc.nicta.com.au.
[8] M. Paoli, A. Lo Russo, U. M. Colesanti, and A. Vitaletti, “MagoNode: Advantages of RF front-ends in wireless sensor networks,” in Real-World Wireless Sensor Networks, ser. Lecture Notes in Electrical Engineering, 2014, vol. 281, pp. 125–137.
[9] M. Magno and L. Benini, “An ultra low power high sensitivity wake-up radio receiver with addressing capability,” in Proceedings of GROWN Workshop 2014, Oct 2014, pp. 92–99.
[10] I. Buchmann, Batteries in a portable world: A handbook on rechargeable batteries for non-engineers, 2nd ed. Cadex Electronics, Inc., May 2001.
[11] L. Gu and J. A. Stankovic, “Radio-triggered wake-up for wireless sensor networks,” Real-Time Systems, vol. 29, no. 2–3, pp. 157–182, 2005.
[12] L. Chen, S. Cool, H. Ba, W. Heinzelman, I. Demirkol, U. Muncuk, K. R. Chowdhury, and S. Basagni, “Range extension of passive wake-up radio systems through energy harvesting,” in Proceedings of IEEE ICC 2013, Budapest, Hungary, June 9–13 2013, pp. 142–147.
TM
[13] EPCglobal, Inc., “EPC Radio-Frequency Identity Protocols Class-1 Generation-2 UHF RFID Protocol for Communications at 860MHz– 960MHz, ver.1.1.0,” 2006.
[14] E. Nilsson and C. Svensson, “Ultra low power wake-up radio using envelope detector and transmission line voltage transformer,” IEEE Journal on Emerging and Selected Topics in Circuits and Systems, vol. 3, no. 1, pp. 5–12, March 2013.
[15] J. Oller, I. Demirkol, J. Casademont, and J. Paradells, “Design, development, and performance evaluation of a low-cost, low-power wake-up radio system for wireless sensor networks,” ACM Transactions on Sensor Networks, vol. 10, no. 1, pp. 11:1–11:24, December 2013.
[16] A. S. Boaventura and N. B. Carvalho, “A low-power wakeup radio for application in WSN-based indoor location systems,” International Journal of Wireless Information Networks, vol. 20, no. 1, pp. 67–73, 2013.
[17] N. E. Roberts and D. D. Wentzloff, “A 98nW wake-up radio for wireless body area networks,” in Proceedings of IEEE RFIC, 2012, Montreal, Canada, June 17–19 2012, pp. 373–376.
[18] T. Stathopoulos, M. Lukac, D. Mclntire, J. Heidemann, D. Estrin, and W. J. Kaiser, “End-to-end routing for dual-radio sensor networks,” in Proceedings of IEEE INFOCOM 2007, Anchorage, AK, May 6–12 2007, pp. 2252–2260.
[19] S. J. Marinkovic and E. M. Popovici, “Power efﬁcient networking using a novel wake-up radio,” in Proceedings of PervasiveHealth 2011, Dublin, Ireland, May 23–26 2011, pp. 139–143.
[20] J. Blanckenstein, J. Klaue, and H. Karl, “Energy efﬁcient clustering using a wake-up receiver,” in Proceedings of European Wireless 2012, Poznan, Poland, April 18–20 2012, pp. 1–8.
[21] C. Hambeck, S. Mahlknecht, and T. Herndl, “A 2.4µw wake-up receiver for wireless sensor nodes with 71dBm sensitivity,” in Proceedings of the IEEE ISCAS 2011, Rio De Janeiro, Brazil, May 15–18 2011, pp. 534– 537.
[22] C. Petrioli, D. Spenza, P. Tommasino, and A. Triﬁletti, “A novel wakeup receiver with addressing capability for wireless sensor nodes,” in Proceedings of DCoSS 2014, Marina Del Rey, USA, May 26–28 2014, pp. 18–25.

530

