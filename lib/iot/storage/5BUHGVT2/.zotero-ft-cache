white paper
Communications Service Providers Testing Report
Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks

Testing of Affirmed Networks® virtualized evolved packet core (vEPC) solution shows line rate performance up to 150 Gbps¹ with linear performance scaling in a given test case on servers powered by Intel® Xeon® Scalable processors.

Table of Contents Overview .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 1 Why Is Performance and Testing so Important? .  .  .  .  .  .  .  .  .  .  .  . 1 Key Performance Results from the Testing. .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 1 Affirmed Mobile Core Performance Test Results.  .  .  .  .  .  .  .  . 2 Spirent Landslide® Mobile Network Test System.  .  .  .  .  .  .  .  .  .  .  .  . 2 Test Set Up. .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 2 Test Results.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 3 More Details About the Affirmed Web-Scale Mobile Core (vEPC).  .  .  . 3 CUPS Architecture. .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 4 Scalability .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 5 ASAP.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 5 Performance from Intel Xeon Scalable Processors.  .  .  .  .  .  .  .  .  .  .  .  .  . 6 Conclusion.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 7

Overview
Standards bodies are pushing forward with new 5G specifications that provide the network foundation for high-bandwidth wireless services for consumers and businesses. To re-architect their networks for these new services, mobile network operators (MNOs) are utilizing network functions virtualization (NFV) to provide agility for rapid service deployment and to cost-effectively scale the network to support higher-bandwidth levels.
From the network edge to the core, most network applications can be virtualized. To maximize impact, MNOs are targeting a subset of applications including mobile edge computing (MEC), base stations (small/macro cells), and the mobile core because these systems are located in areas of the network where bandwidth is aggregated.
Of these, the mobile core is of particular interest. Sitting at the intersection of the mobile access network and the wireline backbone transport network, the mobile core is where data handoff from access network to backbone network is made, where policies are enforced, and where service billing information is collected. The mobile core processes traffic that is aggregated from multiple base stations, so it must support very high data rate network connections. Moving to a virtual mobile core means the network can be scaled much more cost effectively as services become successful.
Why Is Performance and Testing so Important?
Even with all of the benefits of NFV systems, VNFs are replacing fixed-function technology that MNOs have had in networks for years and that has wellunderstood performance and reliable functionality. To fully accept NFV-based systems, MNOs must know in advance how well the new technology will perform before making a very significant decision to implement.
The compelling cost advantage of NFV—which starts by replacing expensive and dedicated hardware with white box servers—is only realized if the NFV system has the same or better cost-performance ratio. This white paper documents the results of real-world testing conducted on Affirmed Networks Mobile Content Cloud (MCC),® which offers virtual evolved packet core (vEPC) functionality to demonstrate its performance characteristics on two different Intel® Xeon® Scalable processor-based servers.
Key Performance Results from the Testing
Affirmed Networks has delivered its vEPC system to MNOs across the world. The company has recently tested the latest version of the vEPC in single-user plane server configurations on servers powered by different Intel Xeon Scalable

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks

processors to show how the system can meet key performance criteria. This paper fully explains these tests and the test bed that was used. Some of the highlights from the tests include the following:
•	Exceptional throughput of up to 151 Gbps¹ on Intel Xeon Scalable Platinum processor-based servers and 100 Gbps² on Intel Xeon Scalable Gold processorbased servers
•	Packet processing of up to 26 Mpps¹ on Intel Xeon Scalable Platinum processor-based servers or 17 Mpps² on Intel Xeon Scalable Gold processor-based servers using 650-byte packets.
•	Linear scalability between one vEPC instance and two instances¹,²
•	High performance with full deep packet inspection (DPI) capabilities turned on: up to 121.18 Gbps¹ on Intel Xeon Scalable Platinum processor-based servers and 79.77 Gbps² on Intel Xeon Scalable Gold processor-based servers
•	Plenty of processing headroom with CPU and I/O utilization of between 60 percent and 80 percent¹,²
Affirmed Mobile Core Performance Test Results
Affirmed, working with Intel technology experts who witnessed the test set up and parameters, organized the tests of its Mobile Core vEPC on servers powered by Intel Xeon Platinum processors and Intel Xeon Gold processors to demonstrate the performance and linear scalability of the vEPC solution in a given test case. The emphasis of both tests was on the performance of its data-plane VMs.
Scalability and performance of the data-plane VMs are critical in the 5G era where vEPC deployments can take place at the network core or network edge. Fixed wireless access

(FWA) services are a good example of the need for vEPC performance and scalability. 5G FWA can support bandwidth of between 3 Gbps and 20 Gbps per user. Thus, even though an edge vEPC processes traffic from fewer customers, it still must feature the processing capability for significant data flows coming from these ultrabroadband connections.
Another goal of the tests was to show the Affirmed Mobile Core performance when deep packet inspection (DPI) functionality is turned on. DPI is critical because it provides information for service aware traffic classifications needed for pricing or promotional services. DPI takes significant processing power, and MNOs need to know that a vEPC can operate at full speed with DPI turned on. This has been a significant issue for vEPCs in the past. But as the tests show, the Affirmed Mobile core performance in DPI installations benefits from the company’s work on fast path processing optimization.
Spirent Landslide® Mobile Network Test System
The test bed created to demonstrate the performance of the vEPC used the Spirent Landslide to emulate subscribers, eNBs, MMEs, and content servers in the test bed. While Landslide provided emulation of 1 million LTE subscribers for these tests, it scales to emulate millions of subscribers and can test VoLTE/IMS and over-the-top services in 5G, LTE, GSM, UMTS, eHRPD, and Wi-Fi networks. Spirent Landslide supports validation of individual network functions or full network systems, helping service providers and equipment vendors rapidly assure the quality of new services and networks.
Test Set Up
The tests were set up to replicate real-world call models, packet size, and other dynamics so that the results would reflect what MNOs expect in their own networks. The logical test configuration is shown in Figure 1. The performance testing outlined in the report included the participation of DellEMC who provided the hardware (servers) for the test.

User A

User B

User C

eNB

Emulated by Spirent Landslide

Intel® Xeon® Scalable Processors

Intel® Xeon® Scalable Processors

Internet Emulated by Spirent Landslide

Figure 1. Logical test bed for Affirmed Mobile Core performance tests
Control Plane Server: The figure shows the vEPC functions divided into two servers. The control plane server has two VMs that process all of the control plane functions. These scalable VMs perform functions essential for multi-access call-control, mobility management, and peer routing coordination functions.
The other key element in the control plane server is the Management Control VM, which terminates all external management traffic. In addition, it is also responsible for managing the VMs within the Affirmed MCC.
Data Plane: The data plane server supports two data plane VMs. Tests are conducted with one data plane VM and then with both VMs in order to show linear performance increases. The data plane VM is responsible for sending and receiving packets into and out of the Affirmed MCC and providing workflow services. It provides all user-plane services except for services requiring proxy or content optimization services.
2

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks
Test Results
The tables below detail the results of the vEPC testing. The test was conducted using 650-byte packet size, which was selected to show real-world results. Throughput is shown in both Gigabits per second and packets per second to provide comprehensive throughput analysis.
Three different tests were performed for each server:
• Throughput using HTTP/TCP packets with DPI turned on to demonstrate performance with the packet type that represents most of the data traffic on the internet.
• Throughput using UDP packets: This packet type often used by MNOs for testing and has slightly higher performance because it does not retransmit packets.
• Throughput using single data plane VM: In the above two tests, the traffic was processed by two data plane VMs to show maximum throughput. The single data plane VM test demonstrates performance at the edge of the network where only one may be needed. In addition, linear scaling is demonstrated by showing the performance increase when the single data plane VM results are compared to the two data plane VM results.

TEST INFORMATION
Number of Subscribers Throughput (Gbps) Total Packets per Second Packet Size Max I/O CPU Utilization (%) Avg. Packet Handler CPU Utilization (%)

SINGLE DATA PLANE VM UDP 1 million 75.71 13 Mpps 650 bytes 82.00
66.71

TWO DATA PLANE VM – HTTP AND DPI 1 million 121.18 21.27 Mpps 650 bytes 66.71
73.87

TWO DATA PLANE VM – UDP 1 million 151.43 26 Mpps 650 bytes 83.23
66.62

Table 1. Spirent Landslide results testing Affirmed vEPC on Intel® Xeon® Platinum processor-based server¹

TEST INFORMATION
Number of Subscribers Throughput (Gbps) Total Packets per Second Packet Size Max I/O CPU Utilization (%) Avg. Packet Handler CPU Utilization (%)

SINGLE DATA PLANE VM UDP 1 million 49.5 8.5Mpps 650 bytes 81.85
67.8

TWO DATA PLANE VM – HTTP AND DPI 1 million 79.77 13.84 Mpps 650 bytes 70.62
69.62

TWO DATA PLANE VM – UDP 1 million 100.46 17.25Mpps 650 bytes 84.25
70.17

Table 2. Spirent Landslide results testing Affirmed vEPC on Intel® Xeon® Gold processor-based server²

More Details About the Affirmed Web-Scale Mobile Core (vEPC)
With the recent launch of support for 5G New Radio (NR) networks, the Affirmed Mobile Core now delivers functionality that is scalable and flexible and combines all of the requirements for an “any G” (2G/3G/4G/5G) packet core networks.
Affirmed’s Mobile Core is designed to allow MNOs to embrace a web-scale approach for developing and delivering differentiated services. The software includes complete session and mobility management (GGSN, SGSN, MME, SGW, PGW), policy and charging control, content and video optimization, Wi-Fi connectivity, and more. The vEPC also features advanced virtualization features including service chaining, DPI, service awareness heuristics and real-time analytics, virtual probes, and network slicing.
3

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks

CUPS Architecture
Affirmed’s Mobile Core vEPC supports the 3GPP* control and user plane separation (CUPS) specification that provides separately scalable pathways for both user plane and control plane. This feature provides agility for various network deployments without changing the functionality of the network elements, such as the SGW, PGW, or TDF.
CUPS provides independent scaling that brings additional architectural flexibility to MNOs because it allows them to only ramp up the data plane or control plane functionality needed for the network. This avoids wasteful overprovisioning of user plane or control plane VNFs in order to meet the peak capacity of the other VNF.
This functionality becomes even more important as more cellular networks support IoT traffic, which has different workloads/use cases with different performance requirements than consumer networks. For example, consumer services utilize much more data plane capacity whereas IoT networks need more signaling capacity. CUPS also supports a

distributed network model for use cases that require low latency such as video CDNs, or high bandwidth such as fixed wireless. For these deployments, user plane nodes can be hosted at distributed edge data center locations, and the control plane nodes can be placed at more centralized locations.
The Affirmed Mobile Core architecture also features an embedded virtual probe to collect data needed to better understand the network traffic patterns, congestion points, application, and subscriber behavior. This provides valuable information allowing MNOs to more smartly invest in network infrastructure to improve customer experience and identify opportunities for new service offerings. The virtual probe can be co-located in any Affirmed VNF (i.e., MME, S/PGW, ePDG/ TWAG, GiLAN), providing a geographically distributed data collection strategy that can collect real-time analytics cost effectively.
The mobile core also supports the Affirmed Virtual Slice Selection Function (vSSF) that facilitates fine-grained network slicing to provide dedicated bandwidth for specific customers or specific services.

Control Plane Functions

V
2G/3G SGSN

V

VVV

LTE LTE LTE LTE MME SGW-C PGW-C TDF-C

V
LTE vSSF

V
5G NSSF

V
5G AMF

V
5G SMF

User Plane Functions

VV

V

V

2G/3G LTE LTE LTE GGSN SGW-U PGW-U TDF-U

V
5G UPF

Content ABR HTTP/S DPI Filtering Video Proxy TFD

Integrated Gi Service Chain

CG-NAT TCP QUIC Tethering Opt Engine Detection

Microservice

V
w/Integrated vProbe

Wi-Fi Access

V

V

V

ePDG TWAP TWAG

Automation
vBuilder vTransactor

IoT IoT/NB-IoT

V

V

V

C-SGN eSCEF AISP

FCAPS

Policy & Subscriber

EMS

VNF-M

AAA PCRF HSS/ DNS HLR

Figure 2. Affirmed web-scale Mobile Core portfolio

The Mobile Core VNF architecture collapses VNFs into a cluster of scalable and specialized VMs, each of which is a single managed entity. MNOs can enable, disable, or scale a particular VNF to match the need of the application. When compared to architectures with numerous, independent VNFs, the Mobile Core architecture is more manageable and easier to scale. Other benefits of the clustered architecture include:
• Packets are input, classified, processed, and output by a single network element rather than multiple network elements.
• Metadata is shared among Affirmed VNFs. For example, the IMSI, MSISDN, IMEI, and cell ID are advertised to all VNFs for incorporation into local policy, header enrichment, and so on.
• DPI is performed once and its conclusions are advertised to all clustered VNFs.
• GGSN, PGW, SGW, and Wi-Fi Gateway (ePDG and TWAG) can all be independently scaled.

4

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks
Figure 3. Mobile Core adaptability to different service models.
5G Mobile Core Customer Benefits
Affirmed Networks’ 5G Mobile Core embraces a web-scale approach for developing and delivering differentiated services and provides MNOs benefits across many areas, including the following: •	Better Customer Experience: Efficiently gather real-time network and subscriber intelligence using integrated
virtual probes, deliver faster service activation times and self-service capabilities with automated service provisioning. •	Rapid Service Creation and Delivery: Deliver customized services with fine-grained network slicing, enable rapid feature development and easy integration with third-party application and content partners using a microservices architecture. •	Scalability: The Affirmed Networks 5G Mobile Core features an open architecture that scales to support rapid mobile data growth.¹,²
Scalability
The vEPC supports dynamic capacity scaling that allows operators to configure key performance indicators (KPI) that will trigger changes made to key virtualized functions. These KPIs include number of sessions or subscribers, CPU load, or throughput in the system. If traffic has increased past a KPI, for example, the dynamic capacity scaling could add new instances of the SGSN/MME or GGSN/S-GW/P-GW/VAS functions. Similarly, a decrease in traffic—tied to time of day or the end of an event—will trigger the automatic deletion of the appropriate VNFs. This capability provides real-time responsiveness to a constantly changing mobile user environment. The scalability of the Affirmed Mobile Core facilitates the deployment of functionality at close to the edge of the network for faster response and lower latency. The solution also features load balancing software and dynamic policy control to ensure that mobile networks meet the highest performance demands even under peak workloads.
ASAP
To expand the service agility benefits of the virtual Mobile Core product, Affirmed also offers its Affirmed Service Automation Platform (ASAP),® which provides network-wide service automation and orchestration. ASAP provides complete configuration of services across multivendor virtual and physical network elements. This allows the MNO to create a service much more quickly because it automates the provisioning of each network element to support the new services.
5

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks

Figure 4. Affirmed Service Automation Platform (ASAP) offers plug and play service automation and orchestration.

Performance from Intel Xeon Scalable Processors
The Affirmed Mobile Core vEPC is optimized to run on servers utilizing Intel Xeon Scalable processors. The software architecture has been designed to take advantage of newer processors that offer more cores as well as the latest generation network interface cards (NICs). The Affirmed Mobile Core vEPC can be configured so that its I/O functions run on more cores resulting in the need for higherspeed networks to transport the increased amount of data processed. Similarly, the architecture is designed to scale control and user plane capacity with new processors.
Intel Xeon Scalable processors are key components for next-generation platforms for cloud-optimized, 5G-ready networks. The processors offer a highly advanced compute core designed into a broad portfolio of balanced platforms (see sidebar) designed for compute-intensive workloads, and to scale to meet the dynamic performance requirements increasingly seen in cloud deployments.

Intel Xeon Scalable processors have up to 28 cores delivering highly advanced per-core performance. The devices feature six memory channels for an increase in memory bandwidth. The CPUs also feature increased I/O bandwidth and 48 PCIe lanes for more throughput. The Intel Xeon Scalable processor platform delivers notable efficiencies in packet processing for virtual network functions.
Distributed communications networks in the 5G-enabled world will need to support extreme levels of scalability, agility, programmability, and security across an ever-growing volume and variety of networking workloads—from the network core to the edge. With convergence of key workloads such as applications and services, control plane processing, high-performance packet processing, and signal processing onto the industry-standard Intel Xeon Scalable processor platforms, MNOs can begin the transition to virtualized, software-defined infrastructure to enable cloud capabilities for agile service delivery throughout the network.

Intel Xeon Processor Scalable Family Comparison
Intel Xeon Platinum 8100 Processors - Best performance, most scalable, best business agility • Best choice for mission-critical, real-time analytics, machine learning, and artificial intelligence workloads • Best workload-optimized performance for general purpose compute and hybrid-cloud deployments • Best performance for the most demanding storage and networking workloads • Best memory bandwidth and 2, 4, 8+ socket scalability
Intel Xeon Gold 6100 Processors - Great performance, fast memory, and more interconnect/accelerator engines • Significant workload-optimized performance improvements for general purpose compute • Significant improvements for demanding storage and networking workloads • Highest memory speed, highest memory capacity, and enhanced Intel® Advanced Vector Extensions 512 • Enhanced 2-4 socket scalability and performance

6

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks
Intel Xeon Gold 5100 Processors - Better performance, advanced reliability • Improved performance for compute-bound workloads • Affordable Advanced RAS and four-socket scalability • Suitable for a wider range of workloads Intel Xeon Silver 4100 Processors - Efficient performance at low power • Solid compute capability (Intel® Hyper-Threading Technology, Intel® Turbo Boost Technology) • Improved memory speed, energy efficiency • Suitable for moderate-range workloads Intel Xeon Bronze 3100 Processors - Entry-level performance and hardware-enhanced security • Affordable, entry-level two-socket support suitable for light-range workloads • Reliable upgrade versus Intel Xeon processor E3 product family

Conclusion
vEPC systems offer flexible deployment options and costeffective scalability for MNOs who need to both ramp up the performance of their mobile core, and also push it out to the network edge to support new 5G services. The lower cost per bit network operation of the vEPC is important, but only if it operates at full line speed performance. In tests done using servers based on the latest Intel Xeon Scalable processors, Affirmed Network has shown that its Mobile Core vEPC has the performance (up to 151 Gbps; 121 Gbps with DPI turned on¹) and scalability to serve these applications. Affirmed has had a successful history of demonstrating increased performance with the latest Intel technologies and will continue to improve performance in step with the latest Intel® CPU products.
About Affirmed Networks, Inc.
Affirmed Networks has achieved significant attention as its network functions virtualization (NFV) solution has become the standard for the world’s top mobile operators. Currently, the company has over 80 customers, including in Tier 1 and Tier 2 mobile operators, and is engaged in many trials worldwide. For more information, please visit www.affirmednetworks.com.

About Intel® Network Builders
Intel® Network Builders is an ecosystem of infrastructure, software, and technology vendors coming together with communications service providers and end users to accelerate the adoption of solutions based on network functions virtualization (NFV) and software defined networking (SDN) in telecommunications and data center networks. The program offers technical support, matchmaking, and co-marketing opportunities to help facilitate joint collaboration through to the trial and deployment of NFV and SDN solutions. Learn more at http://networkbuilders.intel.com.
About Spirent
Spirent is a global provider of verification, assessment, analytics, and device intelligence solutions. We enable those who deliver networks, connected devices, and communication services to provide a superior user experience. Spirent Landslide is part of Spirent’s Lifecycle Service Assurance solution suite. To learn more about Landslide and Lifecycle Service Assurance, please visit: www.spirent.com/Solutions/Service-Assurance.

7

White Paper | Affirmed Mobile Core® Tests Demonstrate Scalability, Performance for 5G Networks

¹ Tests were conducted by Affirmed Networks. Hardware configurations: server with dual Intel Xeon Platinum 8180 processors running at 2.5 GHz with 28 cores, 768 Gigabits of RAM, and 25 GbE connections provided by Intel® Ethernet Network Adapter XXV710 and by four Mellanox* two-port, Connect X4LX. Software configurations: Affirmed MCC Rel. 9.0 and OpenStack.* Simulation of user equipment, ENB, and MME conducted using Spirent Landslide® L-C100-M4-TS test servers using 4x L-NIC-66 Quad-port 10Gbps adapters per server.
² Tests were conducted by Affirmed Networks. Hardware configurations: server using dual Intel Xeon Gold 6138 processors running at 2.0 GHz with 20 cores, 192 Gigabits of RAM, and 25 GbE connections made by five 10/25 Gb Ethernet adapters. Software configurations: Affirmed MCC Rel. 9.0 and OpenStack. Simulation of user equipment, ENB, and MME conducted using Spirent Landslide L-C100-M4-TS test servers using 4x L-NIC-66 Quad-port 10Gbps adapters per server.

		Affirmed Networks, the Affirmed logo, Affirmed Networks Mobile Content Cloud are trademarks of Affirmed Networks in in the U.S. and/or other countries.

		Spirent, the Spirent logo, and Landslide are registered trademarks of Spirent Communications plc, or its subsidiaries in the U.S. and/or other countries.

		The benchmark results may need to be revised as additional testing is conducted. The results depend on the specific platform configurations and workloads utilized in the testing, and may not be applicable to any particular user's components, computer system or workloads. The results are not necessarily representative of other benchmarks and other benchmark results may show greater or lesser impact from mitigations. Software and workloads used in performance tests may have been optimized for performance only on Intel microprocessors.

		Performance tests, such as SYSmark and MobileMark, are measured using specific computer systems, components, software, operations and functions. Any change to any of those factors may cause the results to vary. You should consult other information and performance tests to assist you in fully evaluating your contemplated purchases, including the performance of that product when combined with other products. For more complete information visit www.intel.com/benchmarks.

		Intel does not control or audit third-party benchmark data or the web sites referenced in this document. You should visit the referenced web site and confirm whether referenced data are accurate.

		Intel technologies’ features and benefits depend on system configuration and may require enabled hardware, software or service activation. Performance varies depending on system configuration. No computer system can be absolutely secure. Check with your system manufacturer or retailer or learn more at intel.com.

		Cost reduction scenarios described are intended as examples of how a given Intel-based product, in the specified circumstances and configurations, may affect future costs and provide cost savings. Circumstances will vary. Intel does not guarantee any costs or cost reduction.

		© Intel Corporation. Intel, the Intel logo, and Xeon are trademarks of Intel Corporation or its subsidiaries in the U.S. and/or other countries.

* Other names and brands may be claimed as the property of others.

0618/DO/H09/PDF

 Please Recycle

337746-001US

8

